window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(e,t){"use strict";function r(e,t){var r,i=[];for(var s=0;s<e.length;++s){r=n[e[s]]||o(e[s]);if(!r)throw"module definition dependecy not found: "+e[s];i.push(r)}t.apply(null,i)}function i(e,i,s){if(typeof e!="string")throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(s===t)throw"invalid module definition, definition function must be specified";r(i,function(){n[e]=s.apply(null,arguments)})}function s(e){return!!n[e]}function o(t){var n=e,r=t.split(/[.\/]/);for(var i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function u(r){for(var i=0;i<r.length;i++){var s=e,o=r[i],u=o.split(/[.\/]/);for(var a=0;a<u.length-1;++a)s[u[a]]===t&&(s[u[a]]={}),s=s[u[a]];s[u[u.length-1]]=n[o]}}var n={};i("tinymce/dom/EventUtils",[],function(){function n(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function r(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function i(e,n){function o(){return!1}function u(){return!0}var r,i=n||{},s;for(r in e)r!=="layerX"&&r!=="layerY"&&(i[r]=e[r]);i.target||(i.target=i.srcElement||document);if(e&&t.test(e.type)&&e.pageX===s&&e.clientX!==s){var a=i.target.ownerDocument||document,f=a.documentElement,l=a.body;i.pageX=e.clientX+(f&&f.scrollLeft||l&&l.scrollLeft||0)-(f&&f.clientLeft||l&&l.clientLeft||0),i.pageY=e.clientY+(f&&f.scrollTop||l&&l.scrollTop||0)-(f&&f.clientTop||l&&l.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=u,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=u,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=u,i.stopPropagation()},i.isDefaultPrevented||(i.isDefaultPrevented=o,i.isPropagationStopped=o,i.isImmediatePropagationStopped=o),i}function s(e,t,i){function u(){i.domLoaded||(i.domLoaded=!0,t(o))}function a(){s.readyState==="complete"&&(r(s,"readystatechange",a),u())}function f(){try{s.documentElement.doScroll("left")}catch(e){setTimeout(f,0);return}u()}var s=e.document,o={type:"ready"};if(i.domLoaded){t(o);return}s.addEventListener?n(e,"DOMContentLoaded",u):(n(s,"readystatechange",a),s.documentElement.doScroll&&e===e.top&&f()),n(e,"load",u)}function o(){function h(e,t){var n,r,i,s;n=o[t][e.type];if(n)for(r=0,i=n.length;r<i;r++){s=n[r],s&&s.func.call(s.scope,e)===!1&&e.preventDefault();if(e.isImmediatePropagationStopped())return}}var t=this,o={},u,a,f,l,c;a=e+(+(new Date)).toString(32),l="onmouseenter"in document.documentElement,f="onfocusin"in document.documentElement,c={mouseenter:"mouseover",mouseleave:"mouseout"},u=1,t.domLoaded=!1,t.events=o,t.bind=function(e,r,p,d){function x(e){h(i(e||S.event),v)}var v,m,g,y,b,w,E,S=window;if(!e||e.nodeType===3||e.nodeType===8)return;e[a]?v=e[a]:(v=u++,e[a]=v,o[v]={}),d=d||e,r=r.split(" "),g=r.length;while(g--){y=r[g],w=x,b=E=!1,y==="DOMContentLoaded"&&(y="ready");if(t.domLoaded&&y==="ready"&&e.readyState=="complete"){p.call(d,i({type:y}));continue}l||(b=c[y],b&&(w=function(e){var t,n;t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else while(n&&n!==t)n=n.parentNode;n||(e=i(e||S.event),e.type=e.type==="mouseout"?"mouseleave":"mouseenter",e.target=t,h(e,v))})),!f&&(y==="focusin"||y==="focusout")&&(E=!0,b=y==="focusin"?"focus":"blur",w=function(e){e=i(e||S.event),e.type=e.type==="focus"?"focusin":"focusout",h(e,v)}),m=o[v][y],m?y==="ready"&&t.domLoaded?p({type:y}):m.push({func:p,scope:d}):(o[v][y]=m=[{func:p,scope:d}],m.fakeName=b,m.capture=E,m.nativeHandler=w,y==="ready"?s(e,w,t):n(e,b||y,w,E))}return e=m=0,p},t.unbind=function(e,n,i){var s,u,f,l,c,h;if(!e||e.nodeType===3||e.nodeType===8)return t;s=e[a];if(s){h=o[s];if(n){n=n.split(" "),f=n.length;while(f--){c=n[f],u=h[c];if(u){if(i){l=u.length;while(l--)u[l].func===i&&u.splice(l,1)}if(!i||u.length===0)delete h[c],r(e,u.fakeName||c,u.nativeHandler,u.capture)}}}else{for(c in h)u=h[c],r(e,u.fakeName||c,u.nativeHandler,u.capture);h={}}for(c in h)return t;delete o[s];try{delete e[a]}catch(p){e[a]=null}}return t},t.fire=function(e,n,r){var s;if(!e||e.nodeType===3||e.nodeType===8)return t;r=i(null,r),r.type=n,r.target=e;do s=e[a],s&&h(r,s),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!r.isPropagationStopped());return t},t.clean=function(e){var n,r,i=t.unbind;if(!e||e.nodeType===3||e.nodeType===8)return t;e[a]&&i(e),e.getElementsByTagName||(e=e.document);if(e&&e.getElementsByTagName){i(e),r=e.getElementsByTagName("*"),n=r.length;while(n--)e=r[n],e[a]&&i(e)}return t},t.destroy=function(){o={}},t.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var e="mce-data-",t=/^(?:mouse|contextmenu)|click/;return o.Event=new o,o.Event.bind(window,"ready",function(){}),o}),i("tinymce/dom/Sizzle",[],function(){function st(e){return Q.test(e+"")}function ot(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>r.cacheLength&&delete e[t.shift()],e[n]=i,i},e}function ut(e){return e[b]=!0,e}function at(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t=null}}function ft(e,t,n,r){var i,s,o,u,a,f,l,p,m,g;(t?t.ownerDocument||t:w)!==h&&c(t),t=t||h,n=n||[];if(!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(d&&!r){if(i=G.exec(e))if(o=i[1]){if(u===9){s=t.getElementById(o);if(!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&y(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return P.apply(n,t.getElementsByTagName(e)),n;if((o=i[3])&&E.getElementsByClassName&&t.getElementsByClassName)return P.apply(n,t.getElementsByClassName(o)),n}if(E.qsa&&!v.test(e)){l=!0,p=b,m=t,g=u===9&&e;if(u===1&&t.nodeName.toLowerCase()!=="object"){f=dt(e),(l=t.getAttribute("id"))?p=l.replace(et,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",a=f.length;while(a--)f[a]=p+vt(f[a]);m=K.test(e)&&t.parentNode||t,g=f.join(",")}if(g)try{return P.apply(n,m.querySelectorAll(g)),n}catch(S){}finally{l||t.removeAttribute("id")}}}return xt(e.replace(z,"$1"),t,n,r)}function lt(e,t){var n=t&&e,r=n&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=W.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=X.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length);for(o in r.filter)(i=J[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ft.error(e):N(e,a).slice(0)}function vt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function mt(e,t,r){var i=t.dir,s=r&&i==="parentNode",o=x++;return t.first?function(t,n,r){while(t=t[i])if(t.nodeType===1||s)return e(t,n,r)}:function(t,r,u){var a,f,l,c=S+" "+o;if(u){while(t=t[i])if(t.nodeType===1||s)if(e(t,r,u))return!0}else while(t=t[i])if(t.nodeType===1||s){l=t[b]||(t[b]={});if((f=l[i])&&f[0]===c){if((a=f[1])===!0||a===n)return a===!0}else{f=l[i]=[c],f[1]=e(t,r,u)||n;if(f[1]===!0)return!0}}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function yt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function bt(e,t,n,r,i,s){return r&&!r[b]&&(r=bt(r)),i&&!i[b]&&(i=bt(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||St(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?yt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=yt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?B.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=yt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):P.apply(o,g)})}function wt(e){var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],f=o?1:0,l=mt(function(e){return e===t},u,!0),c=mt(function(e){return B.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==a)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;f<s;f++)if(n=r.relative[e[f].type])h=[mt(gt(h),n)];else{n=r.filter[e[f].type].apply(null,e[f].matches);if(n[b]){i=++f;for(;i<s;i++)if(r.relative[e[i].type])break;return bt(f>1&&gt(h),f>1&&vt(e.slice(0,f-1)).replace(z,"$1"),n,f<i&&wt(e.slice(f,i)),i<s&&wt(e=e.slice(i)),i<s&&vt(e))}h.push(n)}return gt(h)}function Et(e,t){var i=0,s=t.length>0,o=e.length>0,u=function(u,f,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,x=a,T=u||o&&r.find.TAG("*",p&&f.parentNode||f),N=S+=x==null?1:Math.random()||.1;E&&(a=f!==h&&f,n=i);for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++])if(m(d,f,l)){c.push(d);break}E&&(S=N,n=++i)}s&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(s&&b!==y){v=0;while(m=t[v++])m(w,g,f,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=_.call(c));g=yt(g)}P.apply(c,g),E&&!u&&g.length>0&&y+t.length>1&&ft.uniqueSort(c)}return E&&(S=N,a=x),w};return s?ut(u):u}function St(e,t,n){var r=0,i=t.length;for(;r<i;r++)ft(e,t[r],n);return n}function xt(e,t,n,i){var s,o,a,f,l,c=dt(e);if(!i&&c.length===1){o=c[0]=c[0].slice(0);if(o.length>2&&(a=o[0]).type==="ID"&&t.nodeType===9&&d&&r.relative[o[1].type]){t=(r.find.ID(a.matches[0].replace(nt,rt),t)||[])[0];if(!t)return n;e=e.slice(o.shift().value.length)}s=J.needsContext.test(e)?0:o.length;while(s--){a=o[s];if(r.relative[f=a.type])break;if(l=r.find[f])if(i=l(a.matches[0].replace(nt,rt),K.test(o[0].type)&&t.parentNode||t)){o.splice(s,1),e=i.length&&vt(o);if(!e)return P.apply(n,i),n;break}}}return u(e,c)(i,t,!d,n,K.test(e)),n}function Tt(){}var e,n,r,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),w=window.document,E={},S=0,x=0,T=ot(),N=ot(),C=ot(),k=!1,L=function(){return 0},A=typeof t,O=1<<31,M=[],_=M.pop,D=M.push,P=M.push,H=M.slice,B=M.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I=F.replace("w","w#"),q="([*^$|!~]?=)",R="\\["+j+"*("+F+")"+j+"*(?:"+q+j+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+I+")|)|)"+j+"*\\]",U=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+R.replace(3,8)+")*)|.*)\\)|)",z=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),W=new RegExp("^"+j+"*,"+j+"*"),X=new RegExp("^"+j+"*([\\x20\\t\\r\\n\\f>+~])"+j+"*"),V=new RegExp(U),$=new RegExp("^"+I+"$"),J={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),NAME:new RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},K=/[\x20\t\r\n\f]*[+~]/,Q=/^[^{]+\{\s*\[native code/,G=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,et=/'|\\/g,tt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,nt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,rt=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)};try{P.apply(M=H.call(w.childNodes),w.childNodes),M[w.childNodes.length].nodeType}catch(it){P={apply:M.length?function(e,t){D.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}o=ft.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},c=ft.setDocument=function(e){var n=e?e.ownerDocument||e:w;if(n===h||n.nodeType!==9||!n.documentElement)return h;h=n,p=n.documentElement,d=!o(n),E.getElementsByTagName=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),E.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),E.getElementsByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),E.getByName=at(function(e){e.id=b+0,e.appendChild(h.createElement("a")).setAttribute("name",b),e.appendChild(h.createElement("i")).setAttribute("name",b),p.appendChild(e);var t=n.getElementsByName&&n.getElementsByName(b).length===2+n.getElementsByName(b+0).length;return p.removeChild(e),t}),E.sortDetached=at(function(e){return e.compareDocumentPosition&&e.compareDocumentPosition(h.createElement("div"))&1}),r.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&e.firstChild.getAttribute("href")==="#"})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},E.getByName?(r.find.ID=function(e,t){if(typeof t.getElementById!==A&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(r.find.ID=function(e,n){if(typeof n.getElementById!==A&&d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=E.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==A)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.NAME=E.getByName&&function(e,t){if(typeof t.getElementsByName!==A)return t.getElementsByName(name)},r.find.CLASS=E.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==A&&d)return t.getElementsByClassName(e)},m=[],v=[":focus"];if(E.qsa=st(n.querySelectorAll))at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+j+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||v.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&v.push("[*^$]="+j+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")});return(E.matchesSelector=st(g=p.matchesSelector||p.mozMatchesSelector||p.webkitMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&at(function(e){E.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",U)}),v=new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),y=st(p.contains)||p.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},L=p.compareDocumentPosition?function(e,t){if(e===t)return k=!0,0;var r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);if(r)return r&1||f&&t.compareDocumentPosition(e)===r?e===n||y(w,e)?-1:t===n||y(w,t)?1:l?B.call(l,e)-B.call(l,t):0:r&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(e===t)return k=!0,0;if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:0;if(s===o)return lt(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)a.unshift(r);while(u[i]===a[i])i++;return i?lt(u[i],a[i]):u[i]===w?-1:a[i]===w?1:0},h},ft.matches=function(e,t){return ft(e,null,null,t)},ft.matchesSelector=function(e,t){(e.ownerDocument||e)!==h&&c(e),t=t.replace(tt,"='$1']");if(E.matchesSelector&&d&&(!m||!m.test(t))&&!v.test(t))try{var n=g.call(e,t);if(n||E.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(r){}return ft(t,h,null,[e]).length>0},ft.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),y(e,t)},ft.attr=function(e,t){var n;return(e.ownerDocument||e)!==h&&c(e),d&&(t=t.toLowerCase()),(n=r.attrHandle[t])?n(e):!d||E.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},ft.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ft.uniqueSort=function(e){var t,n=[],r=0,i=0;k=!E.detectDuplicates,f=!E.sortDetached,l=!E.sortStable&&e.slice(0),e.sort(L);if(k){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return e},s=ft.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=s(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue;return n},r=ft.selectors={cacheLength:50,createPseudo:ut,match:J,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[4]||e[5]||"").replace(nt,rt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ft.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ft.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return J.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&V.test(n)&&(t=dt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(nt,rt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&T(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ft.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[b]||(c[b]={}))[e]=[S,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ft.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=B.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ut(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[b]?ut(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:ut(function(e){return function(t){return ft(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:ut(function(e){return $.test(e||"")||ft.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[n<0?n+t:n]}),even:pt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}};for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ct(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ht(e);return u=ft.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=dt(e)),n=t.length;while(n--)s=wt(t[n]),s[b]?r.push(s):i.push(s);s=C(e,Et(i,r))}return s},r.pseudos.nth=r.pseudos.eq,Tt.prototype=r.filters=r.pseudos,r.setFilters=new Tt,E.sortStable=b.split("").sort(L).join("")===b,c(),[0,0].sort(L),E.detectDuplicates=k,typeof i=="function"&&i.amd?i(function(){return ft}):window.Sizzle=ft,ft}),i("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle"],function(e,n){function a(e){return typeof e!="undefined"}function f(e){return typeof e=="string"}function l(e){var t,n,i;i=r.createElement("div"),t=r.createDocumentFragment(),i.innerHTML=e;while(n=i.firstChild)t.appendChild(n);return t}function c(e,t,n){var r;if(typeof t=="string")t=l(t);else if(t.length){for(r=0;r<t.length;r++)c(e,t[r],n);return e}r=e.length;while(r--)n.call(e[r],t.parentNode?t:t);return e}function h(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function p(e,t){var n;e=e||[],typeof e=="string"&&(e=e.split(" ")),t=t||{},n=e.length;while(n--)t[e[n]]={};return t}function v(e,t){return new v.fn.init(e,t)}function m(e){var t=arguments,n,r,i;for(r=1;r<t.length;r++){n=t[r];for(i in n)e[i]=n[i]}return e}function g(e){var t=[],n,r;for(n=0,r=e.length;n<r;n++)t[n]=e[n];return t}function y(e,t){var n;if(t.indexOf)return t.indexOf(e);n=t.length;while(n--)if(t[n]===e)return n;return-1}function S(e,t){var n,r,i,s,o;if(e){n=e.length;if(n===s){for(r in e)if(e.hasOwnProperty(r)){o=e[r];if(t.call(o,o,r)===!1)break}}else for(i=0;i<n;i++){o=e[i];if(t.call(o,o,r)===!1)break}}return e}function x(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i}function T(e,t,n,r){var i=[];for(;e;e=e[n])(!r||e.nodeType===r)&&e!==t&&i.push(e);return i}var r=document,i=Array.prototype.push,s=Array.prototype.slice,o=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=e.Event,d=p("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"),b=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},w=/^\s*|\s*$/g,E=function(e){return e===null||e===t?"":(""+e).replace(w,"")};return v.fn=v.prototype={constructor:v,selector:"",length:0,init:function(e,t){var n=this,i,s;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(f(e)){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=o.exec(e);if(!i)return v(t||document).find(e);if(i[1]){s=l(e).firstChild;while(s)this.add(s),s=s.nextSibling}else{s=r.getElementById(i[2]);if(s.id!==i[2])return n.find(e);n.length=1,n[0]=s}}else this.add(e);return n},toArray:function(){return g(this)},add:function(e){var t=this;return b(e)?i.apply(t,e):e instanceof v?t.add(e.toArray()):i.call(t,e),t},attr:function(e,n){var r=this;if(typeof e=="object")S(e,function(e,t){r.attr(t,e)});else{if(!a(n))return r[0]&&r[0].nodeType===1?r[0].getAttribute(e):t;this.each(function(){this.nodeType===1&&this.setAttribute(e,n)})}return r},css:function(e,n){var r=this;if(typeof e=="object")S(e,function(e,t){r.css(t,e)});else{e=e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()});if(!a(n))return r[0]?r[0].style[e]:t;typeof n=="number"&&!d[e]&&(n+="px"),r.each(function(){var t=this.style;e==="opacity"&&this.runtimeStyle&&typeof this.runtimeStyle.opacity=="undefined"&&(t.filter=n===""?"":"alpha(opacity="+n*100+")");try{t[e]=n}catch(r){}})}return r},remove:function(){var e=this,t,n=this.length;while(n--)t=e[n],u.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){var e=this,t,n=this.length;while(n--){t=e[n];while(t.firstChild)t.removeChild(t.firstChild)}return this},html:function(e){var t=this,n;if(a(e)){n=t.length;while(n--)t[n].innerHTML=e;return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(a(e)){n=t.length;while(n--)t[n].innerText=t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return c(this,arguments,function(e){this.nodeType===1&&this.appendChild(e)})},prepend:function(){return c(this,arguments,function(e){this.nodeType===1&&this.insertBefore(e,this.firstChild)})},before:function(){var e=this;return e[0]&&e[0].parentNode?c(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?c(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},appendTo:function(e){return v(e).append(this),this},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return e.indexOf(" ")!==-1?S(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(){var n=this,r;h(n,e)!==t&&(r=n.className,t?n.className+=r?" "+e:e:n.className=E((" "+r+" ").replace(" "+e+" "," ")))}),n},hasClass:function(e){return h(this[0],e)},each:function(e){return S(this,e)},on:function(e,t){return this.each(function(){u.bind(this,e,t)})},off:function(e,t){return this.each(function(){u.unbind(this,e,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new v(s.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(e){var t=this;return t[0]&&t[0].parentNode.replaceChild(v(e)[0],t[0]),t},wrap:function(e){return e=v(e)[0],this.each(function(){var t=this,n=e.cloneNode(!1);t.parentNode.insertBefore(n,t),n.appendChild(t)})},unwrap:function(){return this.each(function(){var e=this,t=e.firstChild,n;while(t)n=t,t=t.nextSibling,e.parentNode.insertBefore(n,e)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),v(e)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)v.find(e,this[t],r);return v(r)},push:i,sort:[].sort,splice:[].splice},m(v,{extend:m,toArray:g,inArray:y,isArray:b,each:S,trim:E,makeMap:p,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,isXMLDoc:n.isXML,contains:n.contains,filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)}}),S({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t){return x(e,"parentNode",t)},next:function(e){return T(e,"nextSibling",1)},prev:function(e){return T(e,"previousSibling",1)},nextNodes:function(e){return T(e,"nextSibling")},prevNodes:function(e){return T(e,"previousSibling")},children:function(e){return T(e.firstChild,"nextSibling",1)},contents:function(e){return g((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){v.fn[e]=function(n){var r=this,i;if(r.length>1)throw new Error("DomQuery only supports traverse functions on a single node.");return r[0]&&(i=t(r[0],n)),i=v(i),n&&e!=="parentsUntil"?i.filter(n):i}}),v.fn.filter=function(e){return v.filter(e)},v.fn.is=function(e){return!!e&&this.filter(e).length>0},v.fn.init.prototype=v.fn,v}),i("tinymce/html/Styles",[],function(){return function(e,t){function c(e,t,n,r){function i(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+i(t)+i(n)+i(r)}var n=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,r=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,o,u,a={},f,l="﻿";e=e||{},f=("\\\" \\' \\; \\: ; : "+l).split(" ");for(u=0;u<f.length;u++)a[f[u]]=l+u,a[l+u]=f[u];return{toHex:function(e){return e.replace(n,c)},parse:function(t){function v(e,t){var n,r,i,s;n=o[e+"-top"+t];if(!n)return;r=o[e+"-right"+t];if(n!=r)return;i=o[e+"-bottom"+t];if(r!=i)return;s=o[e+"-left"+t];if(i!=s)return;o[e+t]=s,delete o[e+"-top"+t],delete o[e+"-right"+t],delete o[e+"-bottom"+t],delete o[e+"-left"+t]}function m(e){var t=o[e],n;if(!t||t.indexOf(" ")<0)return;t=t.split(" "),n=t.length;while(n--)if(t[n]!==t[0])return!1;return o[e]=t[0],!0}function g(e,t,n,r){if(!m(t))return;if(!m(n))return;if(!m(r))return;o[e]=o[t]+" "+o[n]+" "+o[r],delete o[t],delete o[n],delete o[r]}function y(e){return h=!0,a[e]}function b(e,t){return h&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return a[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function w(e,t,n,r,i,s){return i=i||s,i?(i=b(i),"'"+i.replace(/\'/g,"\\'")+"'"):(t=b(t||n||r),p&&(t=p.call(d,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')")}var o={},u,f,l,h,p=e.url_converter,d=e.url_converter_scope||this;if(t){t=t.replace(/\\[\"\';:\uFEFF]/g,y).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,y)});while(u=i.exec(t)){f=u[1].replace(s,"").toLowerCase(),l=u[2].replace(s,"");if(f&&l.length>0){if(f==="font-weight"&&l==="700")l="bold";else if(f==="color"||f==="background-color")l=l.toLowerCase();l=l.replace(n,c),l=l.replace(r,w),o[f]=h?b(l,!0):l}i.lastIndex=u.index+u[0].length}v("border",""),v("border","-width"),v("border","-color"),v("border","-style"),v("padding",""),v("margin",""),g("border","border-width","border-style","border-color"),o.border==="medium none"&&delete o.border}return o},serialize:function(e,n){function u(n){var i,s,u,a;i=t.styles[n];if(i)for(s=0,u=i.length;s<u;s++)n=i[s],a=e[n],a!==o&&a.length>0&&(r+=(r.length>0?" ":"")+n+": "+a+";")}var r="",i,s;if(n&&t&&t.styles)u("*"),u(n);else for(i in e)s=e[i],s!==o&&s.length>0&&(r+=(r.length>0?" ":"")+i+": "+s+";");return r}}}}),i("tinymce/dom/TreeWalker",[],function(){return function(e,t){function r(e,n,r,i){var s,o;if(e){if(!i&&e[n])return e[n];if(e!=t){s=e[r];if(s)return s;for(o=e.parentNode;o&&o!=t;o=o.parentNode){s=o[r];if(s)return s}}}}var n=e;this.current=function(){return n},this.next=function(e){return n=r(n,"firstChild","nextSibling",e),n},this.prev=function(e){return n=r(n,"lastChild","previousSibling",e),n}}}),i("tinymce/util/Tools",[],function(){function i(e,n){return n?n=="array"&&r(e)?!0:typeof e==n:e!==t}function s(e){var t=[],n,r;for(n=0,r=e.length;n<r;n++)t[n]=e[n];return t}function o(e,t,n){var r;e=e||[],t=t||",",typeof e=="string"&&(e=e.split(t)),n=n||{},r=e.length;while(r--)n[e[r]]={};return n}function u(e,n,r){var i,s;if(!e)return 0;r=r||e;if(e.length!==t){for(i=0,s=e.length;i<s;i++)if(n.call(r,e[i],i,e)===!1)return 0}else for(i in e)if(e.hasOwnProperty(i)&&n.call
(r,e[i],i,e)===!1)return 0;return 1}function a(e,t){var n=[];return u(e,function(e){n.push(t(e))}),n}function f(e,t){var n=[];return u(e,function(e){(!t||t(e))&&n.push(e)}),n}function l(e,t,n){var r=this,i,s,o,u,a,f=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],s=r.createNS(e[3].replace(/\.\w+$/,""),n);if(s[o])return;if(e[2]=="static"){s[o]=t,this.onCreate&&this.onCreate(e[2],e[3],s[o]);return}t[o]||(t[o]=function(){},f=1),s[o]=t[o],r.extend(s[o].prototype,t),e[5]&&(i=r.resolve(e[5]).prototype,u=e[5].match(/\.(\w+)$/i)[1],a=s[o],f?s[o]=function(){return i[u].apply(this,arguments)}:s[o]=function(){return this.parent=i[u],a.apply(this,arguments)},s[o].prototype[o]=s[o],r.each(i,function(e,t){s[o].prototype[t]=i[t]}),r.each(t,function(e,t){i[t]?s[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(s[o].prototype[t]=e)})),r.each(t["static"],function(e,t){s[o][t]=e})}function c(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function h(e,n){var r,i,s,o=arguments,u;for(r=1,i=o.length;r<i;r++){n=o[r];for(s in n)n.hasOwnProperty(s)&&(u=n[s],u!==t&&(e[s]=u))}return e}function p(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),u(e,function(e,i){if(t.call(r,e,i,n)===!1)return!1;p(e,t,n,r)}))}function d(e,t){var n,r;t=t||window,e=e.split(".");for(n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t}function v(e,t){var n,r;t=t||window,e=e.split(".");for(n=0,r=e.length;n<r;n++){t=t[e[n]];if(!t)break}return t}function m(e,t){return!e||i(e,"array")?e:a(e.split(t||","),n)}var e=/^\s*|\s*$/g,n=function(n){return n===null||n===t?"":(""+n).replace(e,"")},r=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};return{trim:n,isArray:r,is:i,toArray:s,makeMap:o,each:u,map:a,grep:f,inArray:c,extend:h,create:l,walk:p,createNS:d,resolve:v,explode:m}}),i("tinymce/dom/Range",["tinymce/util/Tools"],function(e){function t(n){function m(){return i.createDocumentFragment()}function g(e,t){B(a,e,t)}function y(e,t){B(f,e,t)}function b(e){g(e.parentNode,v(e))}function w(e){g(e.parentNode,v(e)+1)}function E(e){y(e.parentNode,v(e))}function S(e){y(e.parentNode,v(e)+1)}function x(e){e?(r[h]=r[c],r[p]=r[l]):(r[c]=r[h],r[l]=r[p]),r.collapsed=a}function T(e){b(e),S(e)}function N(e){g(e,0),y(e,e.nodeType===1?e.childNodes.length:e.nodeValue.length)}function C(e,t){var n=r[c],i=r[l],s=r[h],o=r[p],u=t.startContainer,a=t.startOffset,f=t.endContainer,d=t.endOffset;if(e===0)return H(n,i,u,a);if(e===1)return H(s,o,u,a);if(e===2)return H(s,o,f,d);if(e===3)return H(n,i,f,d)}function k(){j(u)}function L(){return j(s)}function A(){return j(o)}function O(e){var t=this[c],r=this[l],i,s;t.nodeType!==3&&t.nodeType!==4||!t.nodeValue?(t.childNodes.length>0&&(s=t.childNodes[r]),s?t.insertBefore(e,s):t.appendChild(e)):r?r>=t.nodeValue.length?n.insertAfter(e,t):(i=t.splitText(r),t.parentNode.insertBefore(e,i)):t.parentNode.insertBefore(e,t)}function M(e){var t=r.extractContents();r.insertNode(e),e.appendChild(t),r.selectNode(e)}function _(){return d(new t(n),{startContainer:r[c],startOffset:r[l],endContainer:r[h],endOffset:r[p],collapsed:r.collapsed,commonAncestorContainer:r.commonAncestorContainer})}function D(e,t){var n;if(e.nodeType==3)return e;if(t<0)return e;n=e.firstChild;while(n&&t>0)--t,n=n.nextSibling;return n?n:e}function P(){return r[c]==r[h]&&r[l]==r[p]}function H(e,t,r,i){var s,o,u,a,f,l;if(e==r)return t==i?0:t<i?-1:1;s=r;while(s&&s.parentNode!=e)s=s.parentNode;if(s){o=0,u=e.firstChild;while(u!=s&&o<t)o++,u=u.nextSibling;return t<=o?-1:1}s=e;while(s&&s.parentNode!=r)s=s.parentNode;if(s){o=0,u=r.firstChild;while(u!=s&&o<i)o++,u=u.nextSibling;return o<i?-1:1}a=n.findCommonAncestor(e,r),f=e;while(f&&f.parentNode!=a)f=f.parentNode;f||(f=a),l=r;while(l&&l.parentNode!=a)l=l.parentNode;l||(l=a);if(f==l)return 0;u=a.firstChild;while(u){if(u==f)return-1;if(u==l)return 1;u=u.nextSibling}}function B(e,t,i){var s,o;e?(r[c]=t,r[l]=i):(r[h]=t,r[p]=i),s=r[h];while(s.parentNode)s=s.parentNode;o=r[c];while(o.parentNode)o=o.parentNode;o==s?H(r[c],r[l],r[h],r[p])>0&&r.collapse(e):r.collapse(e),r.collapsed=P(),r.commonAncestorContainer=n.findCommonAncestor(r[c],r[h])}function j(e){var t,n=0,i=0,s,o,u,a,f,l;if(r[c]==r[h])return F(e);for(t=r[h],s=t.parentNode;s;t=s,s=s.parentNode){if(s==r[c])return I(t,e);++n}for(t=r[c],s=t.parentNode;s;t=s,s=s.parentNode){if(s==r[h])return q(t,e);++i}o=i-n,u=r[c];while(o>0)u=u.parentNode,o--;a=r[h];while(o<0)a=a.parentNode,o++;for(f=u.parentNode,l=a.parentNode;f!=l;f=f.parentNode,l=l.parentNode)u=f,a=l;return R(u,a,e)}function F(e){var t,n,s,f,h,d,v,g,y;e!=u&&(t=m());if(r[l]==r[p])return t;if(r[c].nodeType==3){n=r[c].nodeValue,s=n.substring(r[l],r[p]),e!=o&&(f=r[c],g=r[l],y=r[p]-r[l],g===0&&y>=f.nodeValue.length-1?f.parentNode.removeChild(f):f.deleteData(g,y),r.collapse(a));if(e==u)return;return s.length>0&&t.appendChild(i.createTextNode(s)),t}f=D(r[c],r[l]),h=r[p]-r[l];while(f&&h>0)d=f.nextSibling,v=X(f,e),t&&t.appendChild(v),--h,f=d;return e!=o&&r.collapse(a),t}function I(e,t){var n,i,s,a,c,h;t!=u&&(n=m()),i=U(e,t),n&&n.appendChild(i),s=v(e),a=s-r[l];if(a<=0)return t!=o&&(r.setEndBefore(e),r.collapse(f)),n;i=e.previousSibling;while(a>0)c=i.previousSibling,h=X(i,t),n&&n.insertBefore(h,n.firstChild),--a,i=c;return t!=o&&(r.setEndBefore(e),r.collapse(f)),n}function q(e,t){var n,i,s,f,l,c;t!=u&&(n=m()),s=z(e,t),n&&n.appendChild(s),i=v(e),++i,f=r[p]-i,s=e.nextSibling;while(s&&f>0)l=s.nextSibling,c=X(s,t),n&&n.appendChild(c),--f,s=l;return t!=o&&(r.setStartAfter(e),r.collapse(a)),n}function R(e,t,n){var i,s,f,l,c,h,p,d;n!=u&&(s=m()),i=z(e,n),s&&s.appendChild(i),f=e.parentNode,l=v(e),c=v(t),++l,h=c-l,p=e.nextSibling;while(h>0)d=p.nextSibling,i=X(p,n),s&&s.appendChild(i),p=d,--h;return i=U(t,n),s&&s.appendChild(i),n!=o&&(r.setStartAfter(e),r.collapse(a)),s}function U(e,t){var n=D(r[h],r[p]-1),i,s,o,l,c,d=n!=r[h];if(n==e)return W(n,d,f,t);i=n.parentNode,s=W(i,f,f,t);while(i){while(n)o=n.previousSibling,l=W(n,d,f,t),t!=u&&s.insertBefore(l,s.firstChild),d=a,n=o;if(i==e)return s;n=i.previousSibling,i=i.parentNode,c=W(i,f,f,t),t!=u&&c.appendChild(s),s=c}}function z(e,t){var n=D(r[c],r[l]),i=n!=r[c],s,o,h,p,d;if(n==e)return W(n,i,a,t);s=n.parentNode,o=W(s,f,a,t);while(s){while(n)h=n.nextSibling,p=W(n,i,a,t),t!=u&&o.appendChild(p),i=a,n=h;if(s==e)return o;n=s.nextSibling,s=s.parentNode,d=W(s,f,a,t),t!=u&&d.appendChild(o),o=d}}function W(e,t,i,s){var a,c,h,d,v;if(t)return X(e,s);if(e.nodeType==3){a=e.nodeValue,i?(d=r[l],c=a.substring(d),h=a.substring(0,d)):(d=r[p],c=a.substring(0,d),h=a.substring(d)),s!=o&&(e.nodeValue=h);if(s==u)return;return v=n.clone(e,f),v.nodeValue=c,v}if(s==u)return;return n.clone(e,f)}function X(e,t){if(t!=u)return t==o?n.clone(e,a):e;e.parentNode.removeChild(e)}function V(){return n.create("body",null,A()).outerText}var r=this,i=n.doc,s=0,o=1,u=2,a=!0,f=!1,l="startOffset",c="startContainer",h="endContainer",p="endOffset",d=e.extend,v=n.nodeIndex;return d(r,{startContainer:i,startOffset:0,endContainer:i,endOffset:0,collapsed:a,commonAncestorContainer:i,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:g,setEnd:y,setStartBefore:b,setStartAfter:w,setEndBefore:E,setEndAfter:S,collapse:x,selectNode:T,selectNodeContents:N,compareBoundaryPoints:C,deleteContents:k,extractContents:L,cloneContents:A,insertNode:O,surroundContents:M,cloneRange:_,toStringIE:V}),r}return t.prototype.toString=function(){return this.toStringIE()},t}),i("tinymce/html/Entities",["tinymce/util/Tools"],function(e){function l(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function c(e,t){var n,i,s,o={};if(e){e=e.split(","),t=t||10;for(n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),r[i]||(s="&"+e[n+1]+";",o[i]=s,o[s]=i);return o}}var t=e.makeMap,n,r,i,s=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\"\']/g,a=/&(#x|#)?([\w]+);/g,f={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},i={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},n=c("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var h={encodeRaw:function(e,t){return e.replace(t?s:o,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(u,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:o,function(e){return e.length>1?"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,i){return i=i||n,e.replace(t?s:o,function(e){return r[e]||i[e]||e})},getEncodeFunc:function(e,i){function u(e,t){return e.replace(t?s:o,function(e){return r[e]||i[e]||"&#"+e.charCodeAt(0)+";"||e})}function a(e,t){return h.encodeNamed(e,t,i)}return i=c(i)||n,e=t(e.replace(/\+/g,",")),e.named&&e.numeric?u:e.named?i?a:h.encodeNamed:e.numeric?h.encodeNumeric:h.encodeRaw},decode:function(e){return e.replace(a,function(e,t,r){return t?(r=parseInt(r,t.length===2?16:10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(r&1023))):f[r]||String.fromCharCode(r)):i[e]||n[e]||l(e)})}};return h}),i("tinymce/Env",[],function(){var e=navigator,t=e.userAgent,n,r,i,s,o,u;n=window.opera&&window.opera.buildNumber,r=/WebKit/.test(t),i=!r&&!n&&/MSIE/gi.test(t)&&/Explorer/gi.test(e.appName),i=i&&/MSIE (\w+)\./.exec(t)[1],s=!r&&/Gecko/.test(t),o=t.indexOf("Mac")!=-1,u=/(iPad|iPhone)/.test(t);var a=!u||t.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:n,webkit:r,ie:i,gecko:s,mac:o,iOS:u,contentEditable:a,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:i!=8,range:window.getSelection&&"Range"in window,documentMode:i?document.documentMode||7:10}}),i("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(e,n,r,i,s,o,u,a){function b(e,t){var i=this,s;i.doc=e,i.win=window,i.files={},i.counter=0,i.stdMode=!v||e.documentMode>=8,i.boxModel=!v||e.compatMode=="CSS1Compat"||i.stdMode,i.hasOuterHTML="outerHTML"in e.createElement("a"),i.settings=t=p({keep_values:!1,hex_colors:1},t),i.schema=t.schema,i.styles=new n({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),i.fixDoc(e),i.events=t.ownEvents?new r(t.proxy):r.Event,s=t.schema?t.schema.getBlockElements():{},i.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?t===1&&!!s[e.nodeName]:!!s[e]}}var f=a.each,l=a.is,c=a.grep,h=a.trim,p=a.extend,d=u.webkit,v=u.ie,m=/^([a-z0-9],?)+$/i,g=/^[ \t\r\n]*$/,y=a.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return b.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(e){var t=this.settings,n;if(v&&t.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(n in t.schema.getCustomElements())e.createElement(n)}},clone:function(e,t){var n=this,r,i;return!v||e.nodeType!==1||t?e.cloneNode(t):(i=n.doc,t?r.firstChild:(r=i.createElement(e.nodeName),f(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))}),r))},getRoot:function(){var e=this;return e.get(e.settings.root_element)||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t=this,n,r;return e=t.get(e),n=t.getPos(e),r=t.getSize(e),{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:function(e){var t=this,n,r;return e=t.get(e),n=t.getStyle(e,"width"),r=t.getStyle(e,"height"),n.indexOf("px")===-1&&(n=0),r.indexOf("px")===-1&&(r=0),{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,r,i){var s=this,o,u=[];e=s.get(e),i=i===t,r=r||(s.getRoot().nodeName!="BODY"?s.getRoot().parentNode:null),l(n,"string")&&(o=n,n==="*"?n=function(e){return e.nodeType==1}:n=function(e){return s.is(e,o)});while(e){if(e==r||!e.nodeType||e.nodeType===9)break;if(!n||n(e)){if(!i)return e;u.push(e)}e=e.parentNode}return i?u:null},get:function(e){var t;if(e&&this.doc&&typeof e=="string"){t=e,e=this.doc.getElementById(e);if(e&&e.id!==t)return this.doc.getElementsByName(t)[1]}return e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var r=this;return e(t,r.get(n)||r.get(r.settings.root_element)||r.doc,[])},is:function(n,r){var i;if(n.length===t){if(r==="*")return n.nodeType==1;if(m.test(r)){r=r.toLowerCase().split(/,/),n=n.nodeName.toLowerCase();for(i=r.length-1;i>=0;i--)if(r[i]==n)return!0;return!1}}return n.nodeType&&n.nodeType!=1?!1:e.matches(r,n.nodeType?[n]:n).length>0},add:function(e,t,n,r,i){var s=this;return this.run(e,function(e){var o;return o=l(t,"string")?s.doc.createElement(t):t,s.setAttribs(o,n),r&&(r.nodeType?o.appendChild(r):s.setHTML(o,r)),i?o:e.appendChild(o)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r="",i;r+="<"+e;for(i in t)t.hasOwnProperty(i)&&t[i]!==null&&(r+=" "+i+'="'+this.encode(t[i])+'"');return typeof n!="undefined"?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,r=this.doc,i;i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);while(n=i.firstChild)t.appendChild(n);return t},remove:function(e,t){return this.run(e,function(e){var n,r=e.parentNode;if(!r)return null;if(t)while(n=e.firstChild)!v||n.nodeType!==3||n.nodeValue?r.insertBefore(n,e):e.removeChild(n);return r.removeChild(e)})},setStyle:function(e,t,n){return this.run(e,function(e){var r=this,i,s;if(t)if(typeof t=="string"){i=e.style,t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),typeof n=="number"&&!y[t]&&(n+="px"),t==="opacity"&&e.runtimeStyle&&typeof e.runtimeStyle.opacity=="undefined"&&(i.filter=n===""?"":"alpha(opacity="+n*100+")"),t=="float"&&(t="cssFloat"in e.style?"cssFloat":"styleFloat");try{i[t]=n}catch(o){}r.settings.update_styles&&e.removeAttribute("data-mce-style")}else for(s in t)r.setStyle(e,s,t[s])})},getStyle:function(e,n,r){e=this.get(e);if(!e)return;if(this.doc.defaultView&&r){n=n.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(n)}catch(i){return null}}return n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),n=="float"&&(n=v?"styleFloat":"cssFloat"),n.currentStyle&&r?e.currentStyle[n]:e.style?e.style[n]:t},setStyles:function(e,t){this.setStyle(e,t)},css:function(e,t,n){this.setStyle(e,t,n)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r=this;if(!e||!t)return;return this.run(e,function(e){var i=r.settings,s=e.getAttribute(t);if(n!==null)switch(t){case"style":if(!l(n,"string")){f(n,function(t,n){r.setStyle(e,n,t)});return}i.keep_values&&(n?e.setAttribute("data-mce-style",n,2):e.removeAttribute("data-mce-style",2)),e.style.cssText=n;break;case"class":e.className=n||"";break;case"src":case"href":i.keep_values&&(i.url_converter&&(n=i.url_converter.call(i.url_converter_scope||r,n,t,e)),r.setAttrib(e,"data-mce-"+t,n,2));break;case"shape":e.setAttribute("data-mce-style",n)}l(n)&&n!==null&&n.length!==0?e.setAttribute(t,""+n,2):e.removeAttribute(t,2),s!=n&&i.onSetAttrib&&i.onSetAttrib({attrElm:e,attrName:t,attrValue:n})})},setAttribs:function(e,t){var n=this;return this.run(e,function(e){f(t,function(t,r){n.setAttrib(e,r,t)})})},getAttrib:function(e,t,n){var r,i=this,s;e=i.get(e);if(!e||e.nodeType!==1)return n===s?!1:n;l(n)||(n="");if(/^(src|href|style|coords|shape)$/.test(t)){r=e.getAttribute("data-mce-"+t);if(r)return r}v&&i.props[t]&&(r=e[i.props[t]],r=r&&r.nodeValue?r.nodeValue:r),r||(r=e.getAttribute(t,2));if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(t))return e[i.props[t]]===!0&&r===""?t:r?t:"";if(e.nodeName==="FORM"&&e.getAttributeNode(t))return e.getAttributeNode(t).nodeValue;t==="style"&&(r=r||e.style.cssText,r&&(r=i.serializeStyle(i.parseStyle(r),e.nodeName),i.settings.keep_values&&e.setAttribute("data-mce-style",r))),d&&t==="class"&&r&&(r=r.replace(/(apple|webkit)\-[a-z\-]+/gi,""));if(v)switch(t){case"rowspan":case"colspan":r===1&&(r="");break;case"size":if(r==="+0"||r===20||r===0)r="";break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":r===0&&(r="");break;case"hspace":r===-1&&(r="");break;case"maxlength":case"tabindex":if(r===32768||r===2147483647||r==="32768")r="";break;case"multiple":case"compact":case"noshade":case"nowrap":if(r===65535)return t;return n;case"shape":r=r.toLowerCase();break;default:t.indexOf("on")===0&&r&&(r=(""+r).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}return r!==s&&r!==null&&r!==""?""+r:n},getPos:function(e,t){var n=this,r=0,i=0,s,o=n.doc,u;e=n.get(e),t=t||o.body;if(e){if(t===o.body&&e.getBoundingClientRect)return u=e.getBoundingClientRect(),t=n.boxModel?o.documentElement:o.body,r=u.left+(o.documentElement.scrollLeft||o.body.scrollLeft)-t.clientTop,i=u.top+(o.documentElement.scrollTop||o.body.scrollTop)-t.clientLeft,{x:r,y:i};s=e;while(s&&s!=t&&s.nodeType)r+=s.offsetLeft||0,i+=s.offsetTop||0,s=s.offsetParent;s=e.parentNode;while(s&&s!=t&&s.nodeType)r-=s.scrollLeft||0,i-=s.scrollTop||0,s=s.parentNode}return{x:r,y:i}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t=this,n=t.doc,r,i;if(t!==b.DOM&&n===document){var s=b.DOM.addedStyles;s=s||[];if(s[e])return;s[e]=!0,b.DOM.addedStyles=s}i=n.getElementById("mceDefaultStyles"),i||(i=n.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",r=n.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(n.createTextNode(e))},loadCSS:function(e){var t=this,n=t.doc,r;if(t!==b.DOM&&n===document){b.DOM.loadCSS(e);return}e||(e=""),r=n.getElementsByTagName("head")[0],f(e.split(","),function(e){var i;if(t.files[e])return;t.files[e]=!0,i=t.create("link",{rel:"stylesheet",href:e}),v&&n.documentMode&&n.recalc&&(i.onload=function(){n.recalc&&n.recalc(),i.onload=null}),r.appendChild(i)})},addClass:function(e,t){return this.run(e,function(e){var n;return t?this.hasClass(e,t)?e.className:(n=this.removeClass(e,t),e.className=n=(n!==""?n+" ":"")+t,n):0})},removeClass:function(e,t){var n=this,r;return n.run(e,function(e){var i;return n.hasClass(e,t)?(r||(r=new RegExp("(^|\\s+)"+t+"(\\s+|$)","g")),i=e.className.replace(r," "),i=h(i!=" "?i:""),e.className=i,i||(e.removeAttribute("class"),e.removeAttribute("className")),i):e.className})},hasClass:function(e,t){return e=this.get(e),!e||!t?!1:(" "+e.className+" ").indexOf(" "+t+" ")!==-1},toggleClass:function(e,n,r){r=r===t?!this.hasClass(e,n):r,this.hasClass(e,n)!==r&&(r?this.addClass(e,n):this.removeClass(e,n))},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){return e=this.get(e),!e||e.style.display=="none"||this.getStyle(e,"display")=="none"},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,t){var n=this;return n.run(e,function(e){if(v){while(e.firstChild)e.removeChild(e.firstChild);try{e.innerHTML="<br />"+t,e.removeChild(e.firstChild)}catch(r){var i=n.create("div");i.innerHTML="<br />"+t,f(c(i.childNodes),function(t,n){n&&e.canHaveHTML&&e.appendChild(t)})}}else e.innerHTML=t;return t})},getOuterHTML:function(e){var t,n=this;return e=n.get(e),e?e.nodeType===1&&n.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||n.doc).createElement("body"),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,n){var r=this;return r.run(e,function(e){function i(){var i,s;s=n.createElement("body"),s.innerHTML=t,i=s.lastChild;while(i)r.insertAfter(i.cloneNode(!0),e),i=i.previousSibling;r.remove(e)}if(e.nodeType==1){n=n||e.ownerDocument||r.doc;if(v)try{e.nodeType==1&&r.hasOuterHTML?e.outerHTML=t:i()}catch(s){i()}else i()}})},decode:o.decode,encode:o.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,r=t.nextSibling,r?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(e,t,n){var r=this;return r.run(t,function(t){return l(t,"array")&&(e=e.cloneNode(!0)),n&&f(c(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n=this,r;return e.nodeName!=t.toUpperCase()&&(r=n.create(t),f(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))}),n.replace(r,e,1)),r||e},findCommonAncestor:function(e,t){var n=e,r;while(n){r=t;while(r&&n!=r)r=r.parentNode;if(n==r)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},toHex:function(e){return this.styles.toHex(a.trim(e))},getClasses:function(){function s(e){f(e.imports,function(e){s(e)}),f(e.cssRules||e.rules,function(e){switch(e.type||1){case 1:e.selectorText&&f(e.selectorText.split(","),function(e){e=e.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(e)||!/\.[\w\-]+$/.test(e))return;i=e,e=e.replace(/.*\.([a-z0-9_\-]+).*/i,"$1");if(r&&!(e=r(e,i)))return;n[e]||(t.push({"class":e}),n[e]=1)});break;case 3:s(e.styleSheet)}})}var e=this,t=[],n={},r=e.settings.class_filter,i;if(e.classes)return e.classes;try{f(e.doc.styleSheets,s)}catch(o){}return t.length>0&&(e.classes=t),t},run:function(e,t,n){var r=this,i;return typeof e=="string"&&(e=r.get(e)),e?(n=n||this,!e.nodeType&&(e.length||e.length===0)?(i=[],f(e,function(e,s){e&&(typeof e=="string"&&(e=r.get(e)),i.push(t.call(n,e,s)))}),i):t.call(n,e)):!1},getAttribs:function(e){var t;e=this.get(e);if(!e)return[];if(v){t=[];if(e.nodeName=="OBJECT")return e.attributes;e.nodeName==="OPTION"&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n=this,r,s,o,u,a,f=0;e=e.firstChild;if(e){u=new i(e,e.parentNode),t=t||n.schema?n.schema.getNonEmptyElements():null;do{o=e.nodeType;if(o===1){if(e.getAttribute("data-mce-bogus"))continue;a=e.nodeName.toLowerCase();if(t&&t[a]){if(a==="br"){f++;continue}return!1}s=n.getAttribs(e),r=e.attributes.length;while(r--){a=e.attributes[r].nodeName;if(a==="name"||a==="data-mce-bookmark")return!1}}if(o==8)return!1;if(o===3&&!g.test(e.nodeValue))return!1}while(e=u.next())}return f<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new s(this)},nodeIndex:function(e,t){var n=0,r,i,s;if(e)for(r=e.nodeType,e=e.previousSibling,i=e;e;e=e.previousSibling){s=e.nodeType;if(t&&s==3)if(s==r||!e.nodeValue.length)continue;n++,r=s}return n},split:function(e,t,n){function a(e){function s(e){var t=e.previousSibling&&e.previousSibling.nodeName=="SPAN",n=e.nextSibling&&e.nextSibling.nodeName=="SPAN";return t&&n}var t,n=e.childNodes,i=e.nodeType;if(i==1&&e.getAttribute("data-mce-type")=="bookmark")return;for(t=n.length-1;t>=0;t--)a(n[t]);if(i!=9){if(i==3&&e.nodeValue.length>0){var o=h(e.nodeValue).length;if(!r.isBlock(e.parentNode)||o>0||o===0&&s(e))return}else if(i==1){n=e.childNodes,n.length==1&&n[0]&&n[0].nodeType==1&&n[0].getAttribute("data-mce-type")=="bookmark"&&e.parentNode.insertBefore(n[0],e);if(n.length||/^(br|hr|input|img)$/i.test(e.nodeName))return}r.remove(e)}return e}var r=this,i=r.createRng(),s,o,u;if(e&&t)return i.setStart(e.parentNode,r.nodeIndex(e)),i.setEnd(t.parentNode,r.nodeIndex(t)),s=i.extractContents(),i=r.createRng(),i.setStart(t.parentNode,r.nodeIndex(t)+1),i.setEnd(e.parentNode,r.nodeIndex(e)+1),o=i.extractContents(),u=e.parentNode,u.insertBefore(a(s),e),n?u.replaceChild(n,t):u.insertBefore(t,e),u.insertBefore(a(o),e),r.remove(e),n||t},bind:function(e,t,n,r){return this.events.bind(e,t,n,r||this)},unbind:function(e,t,n){return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e.nodeType!=1?null:(t=e.getAttribute("data-mce-contenteditable"),t&&t!=="inherit"?t:e.contentEditable!=="inherit"?e.contentEditable:null)},destroy:function(){var e=this;e.win=e.doc=e.root=e.events=e.frag=null},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e){typeof i=="string"&&(i=function(e){return r.is(e,t)});for(e=e[n];e;e=e[n])if(i(e))return e}return null}},b.DOM=new b(document),b}),i("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t){function s(){function h(e,t){function o(){r.remove(s),i&&(i.onreadystatechange=i.onload=i=null),t()}function u(){typeof console!="undefined"&&console.log&&console.log("Failed to load: "+e)}var r=n,i,s;s=r.uniqueId(),i=document.createElement("script"),i.id=s,i.type="text/javascript",i.src=e,"onreadystatechange"in i?i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&o()}:i.onload=o,i.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)}var e=0,t=1,s=2,o={},u=[],a={},f=[],l=0,c;this.isDone=function(e){return o[e]==s},this.markDone=function(e){o[e]=s},this.add=this.load=function(t,n,r){var i=o[t];i==c&&(u.push(t),o[t]=e),n&&(a[t]||(a[t]=[]),a[t].push({func:n,scope:r||this}))},this.loadQueue=function(e,t){this.loadScripts(u,e,t)},this.loadScripts=function(e,n,u){function d(e){r(a[e],function(e){e.func.call(e.scope)}),a[e]=c}var p;f.push({func:n,scope:u||this}),p=function(){var n=i(e);e.length=0,r(n,function(e){if(o[e]==s){d(e);return}o[e]!=t&&(o[e]=t,l++,h(e,function(){o[e]=s,l--,d(e),p()}))}),l||(r(f,function(e){e.func.call(e.scope)}),f.length=0)},p()}}var n=e.DOM,r=t.each,i=t.grep;return s.ScriptLoader=new s,s}),i("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(e,n){function i(){var e=this;e.items=[],e.urls={},e.lookup={}}var r=n.each;return i.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t){var n=i.settings;n&&n.language&&n.language_load!==!1&&e.ScriptLoader.add(this.urls[t]+"/langs/"+n.language+".js")},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},createUrl:function(e,t){return typeof t=="object"?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];r(n,function(t){e.ScriptLoader.add(i+"/"+t)})},load:function(n,s,o,u){function l(){var i=a.dependencies(n);r(i,function(e){var n=a.createUrl(s,e);a.load(n.resource,n,t,t)}),o&&(u?o.call(u):o.call(e))}var a=this,f=s;if(a.urls[n])return;typeof s=="object"&&(f=s.prefix+s.resource+s.suffix),f.indexOf("/")!==0&&f.indexOf("://")==-1&&(f=i.baseURL+"/"+f),a.urls[n]=f.substring(0,f.lastIndexOf("/")),a.lookup[n]?l():e.ScriptLoader.add(f,l,u)}},i.PluginManager=new i,i.ThemeManager=new i,i}),i("tinymce/html/Node",[],function(){function n(e,t,n){var r,i,s=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[s])return e[s];if(e!==t){r=e[o];if(r)return r;for(i=e.parent;i&&i!==t;i=i.parent){r=i[o];if(r)return r}}}function r(e,t){this.name=e,this.type=t,t===1&&(this.attributes=[],this.attributes.map={})}var e=/^[ \t\r\n]*$/,t={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return r.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n=this,r,i,s;if(typeof e!="string"){for(i in e)n.attr(i,e[i]);return n}if(r=n.attributes){if(t!==s){if(t===null){if(e in r.map){delete r.map[e],i=r.length;while(i--)if(r[i].name===e)return r=r.splice(i,1),n}return n}if(e in r.map){i=r.length;while(i--)if(r[i].name===e){r[i].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}},clone:function(){var e=this,t=new r(e.name,e.type),n,i,s,o,u;if(s=e.attributes){u=[],u.map={};for(n=0,i=s.length;n<i;n++)o=s[n],o.name!=="id"&&(u[u.length]={name:o.name,value:o.value},u.map[o.name]=o.value);t.attributes=u}return t.value=e.value,t.shortEnded=e.shortEnded,t},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e=this,t,n;for(t=e.firstChild;t;)n=t.next,e.insert(t,e,!0),t=n;e.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},append:function(e){var t=this,n;return e.parent&&e.remove(),n=t.lastChild,n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(e){var t=this,r,i=[];for(r=t.firstChild;r;r=n(r,t))r.name===e&&i.push(r);return i},empty:function(){var e=this,t,r,i;if(e.firstChild){t=[];for(i=e.firstChild;i;i=n(i,e))t.push(i);r=t.length;while(r--)i=t[r],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return e.firstChild=e.lastChild=null,e},isEmpty:function(t){var r=this,i=r.firstChild,s,o;if(i)do{if(i.type===1){if(i.attributes.map["data-mce-bogus"])continue;if(t[i.name])return!1;s=i.attributes.length;while(s--){o=i.attributes[s].name;if(o==="name"||o.indexOf("data-mce-")===0)return!1}}if(i.type===8)return!1;if(i.type===3&&!e.test(i.value))return!1}while(i=n(i,r));return!0
},walk:function(e){return n(this,null,e)}},r.create=function(e,n){var i,s;i=new r(e,t[e]||1);if(n)for(s in n)i.attr(s,n[s]);return i},r}),i("tinymce/html/Schema",["tinymce/util/Tools"],function(e){function u(e,t){return e?e.split(t||" "):[]}function a(e){function h(e,t,r){function l(e){var t={},n,r;for(n=0,r=e.length;n<r;n++)t[e[n]]={};return t}var s,o,a,f=arguments;r=r||[],t=t||"",typeof r=="string"&&(r=u(r));for(o=3;o<f.length;o++)typeof f[o]=="string"&&(f[o]=u(f[o])),r.push.apply(r,f[o]);e=u(e),s=e.length;while(s--)a=[].concat(i,u(t)),n[e[s]]={attributes:l(a),attributesOrder:a,children:l(r)}}function p(e,t){var r,i,s,o;e=u(e),r=e.length,t=u(t);while(r--){i=n[e[r]];for(s=0,o=t.length;s<o;s++)i.attributes[t[s]]={},i.attributesOrder.push(t[s])}}var n={},i,s,o,a,f,l,c;return t[e]?t[e]:(i=u("id accesskey class dir lang style tabindex title"),s=u("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting"),o=u("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),a=u("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),e!="html4"&&(i.push.apply(i,u("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),o.push.apply(o,u("article aside details dialog figure header footer hgroup section nav")),a.push.apply(a,u("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),e!="html5-strict"&&(i.push("xml:lang"),c=u("acronym applet basefont big font strike tt"),a.push.apply(a,c),r(c,function(e){h(e,"",a)}),l=u("center dir isindex noframes"),o.push.apply(o,l),f=[].concat(o,a),r(l,function(e){h(e,"",f)})),f=f||[].concat(o,a),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),h("address dt dd div caption","",f),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),h("blockquote","cite",f),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",f),h("dl","","dt dd"),h("a","href target rel media hreflang type",a),h("q","cite",a),h("ins del","cite datetime",f),h("img","src alt usemap ismap width height"),h("iframe","src name width height",f),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",f,"param"),h("param","name value"),h("map","name",f,"area"),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+(e=="html4"?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",f),h("th","colspan rowspan headers scope abbr",f),h("form","accept-charset action autocomplete enctype method name novalidate target",f),h("fieldset","disabled form name",f,"legend"),h("label","form for",a),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e=="html4"?f:a),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",f,"li"),h("noscript","",f),e!="html4"&&(h("wbr"),h("ruby","",a,"rt rp"),h("figcaption","",f),h("mark rt rp summary bdi","",a),h("canvas","width height",f),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",f,"track source"),h("audio","src crossorigin preload autoplay mediagroup loop muted controls",f,"track source"),h("source","src type media"),h("track","kind src srclang label default"),h("datalist","",a,"option"),h("article section nav aside header footer","",f),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",f,"figcaption"),h("time","datetime",a),h("dialog","open",f),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",a),h("progress","value max",a),h("meter","value min max low high optimum",a),h("details","open",f,"summary"),h("keygen","autofocus challenge disabled form keytype name")),e!="html5-strict"&&(p("script","language xml:space"),p("style","xml:space"),p("object","declare classid codebase codetype archive standby align border hspace vspace"),p("param","valuetype type"),p("a","charset name rev shape coords"),p("br","clear"),p("applet","codebase archive code object alt name width height align hspace vspace"),p("img","name longdesc align border hspace vspace"),p("iframe","longdesc frameborder marginwidth marginheight scrolling align"),p("font basefont","size color face"),p("input","usemap align"),p("select","onchange"),p("textarea"),p("h1 h2 h3 h4 h5 h6 div p legend caption","align"),p("ul","type compact"),p("li","type"),p("ol dl menu dir","compact"),p("pre","width xml:space"),p("hr","align noshade size width"),p("isindex","prompt"),p("table","summary width frame rules cellspacing cellpadding align bgcolor"),p("col","width align char charoff valign"),p("colgroup","width align char charoff valign"),p("thead","align char charoff valign"),p("tr","align char charoff valign bgcolor"),p("th","axis align char charoff valign nowrap bgcolor width height"),p("form","accept"),p("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),p("tfoot","align char charoff valign"),p("tbody","align char charoff valign"),p("area","nohref"),p("body","background bgcolor text link vlink alink")),e!="html4"&&(p("input button select textarea","autofocus"),p("input textarea","placeholder"),p("a","download"),p("link script img","crossorigin"),p("iframe","srcdoc sandbox seamless allowfullscreen")),r(u("a form meter progress dfn"),function(e){n[e]&&delete n[e].children[e]}),delete n.caption.children.table,t[e]=n,n)}var t={},n=e.makeMap,r=e.each,i=e.extend,s=e.explode,o=e.inArray;return function(e){function T(r,s,o){var u=e[r];return u?u=n(u,",",n(u.toUpperCase()," ")):(u=t[r],u||(u=n(s," ",n(s.toUpperCase()," ")),u=i(u,o),t[r]=u)),u}function N(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function C(e){var t,r,i,s,a,f,c,p,d,v,m,g,y,b,w,E,S,x,T,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,L=/[*?+]/;if(e){e=u(e,","),l["@"]&&(E=l["@"].attributes,S=l["@"].attributesOrder);for(t=0,r=e.length;t<r;t++){a=C.exec(e[t]);if(a){b=a[1],d=a[2],w=a[3],p=a[5],g={},y=[],f={attributes:g,attributesOrder:y},b==="#"&&(f.paddEmpty=!0),b==="-"&&(f.removeEmpty=!0),a[4]==="!"&&(f.removeEmptyAttrs=!0);if(E){for(x in E)g[x]=E[x];y.push.apply(y,S)}if(p){p=u(p,"|");for(i=0,s=p.length;i<s;i++){a=k.exec(p[i]);if(a){c={},m=a[1],v=a[2].replace(/::/g,":"),b=a[3],T=a[4],m==="!"&&(f.attributesRequired=f.attributesRequired||[],f.attributesRequired.push(v),c.required=!0);if(m==="-"){delete g[v],y.splice(o(y,v),1);continue}b&&(b==="="&&(f.attributesDefault=f.attributesDefault||[],f.attributesDefault.push({name:v,value:T}),c.defaultValue=T),b===":"&&(f.attributesForced=f.attributesForced||[],f.attributesForced.push({name:v,value:T}),c.forcedValue=T),b==="<"&&(c.validValues=n(T,"?"))),L.test(v)?(f.attributePatterns=f.attributePatterns||[],c.pattern=N(v),f.attributePatterns.push(c)):(g[v]||y.push(v),g[v]=c)}}}!E&&d=="@"&&(E=g,S=y),w&&(f.outputName=d,l[w]=f),L.test(d)?(f.pattern=N(d),h.push(f)):l[d]=f}}}}function k(e){l={},h=[],C(e),r(d,function(e,t){c[t]=e.children})}function L(e){var t=/^(~)?(.+)$/;e&&r(u(e,","),function(e){var n=t.exec(e),i=n[1]==="~",s=i?"span":"div",o=n[2];c[o]=c[s],S[o]=s,i||(b[o.toUpperCase()]={},b[o]={}),l[o]||(l[o]=l[s]),r(c,function(e){e[s]&&(e[o]=e[s])})})}function A(e){var t=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&r(u(e,","),function(e){var n=t.exec(e),i,s;n&&(s=n[1],s?i=c[n[2]]:i=c[n[2]]={"#comment":{}},i=c[n[2]],r(u(n[3],"|"),function(e){s==="-"?delete i[e]:i[e]={}}))})}function O(e){var t=l[e],n;if(t)return t;n=h.length;while(n--){t=h[n];if(t.pattern.test(e))return t}}var f=this,l={},c={},h=[],p,d,v,m,g,y,b,w,E,S={},x={};e=e||{},d=a(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),e.valid_styles&&(p={},r(e.valid_styles,function(e,t){p[t]=s(e)})),v=T("whitespace_elements","pre script noscript style textarea video audio iframe object"),m=T("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),g=T("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),y=T("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),w=T("non_empty_elements","td th iframe video audio object",g),E=T("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),b=T("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",E),r((e.special||"script noscript style textarea").split(" "),function(e){x[e]=new RegExp("</"+e+"[^>]*>","gi")}),e.valid_elements?k(e.valid_elements):(r(d,function(e,t){l[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},c[t]=e.children}),e.schema!="html5"&&r(u("strong/b em/i"),function(e){e=u(e,"/"),l[e[1]].outputName=e[0]}),l.img.attributesDefault=[{name:"alt",value:""}],r(u("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){l[e]&&(l[e].removeEmpty=!0)}),r(u("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){l[e].paddEmpty=!0}),r(u("span"),function(e){l[e].removeEmptyAttrs=!0})),L(e.custom_elements),A(e.valid_children),C(e.extended_valid_elements),A("+ol[ul|ol],+ul[ul|ol]"),e.invalid_elements&&r(s(e.invalid_elements),function(e){l[e]&&delete l[e]}),O("span")||C("span[!data-mce-type|*]"),f.children=c,f.styles=p,f.getBoolAttrs=function(){return y},f.getBlockElements=function(){return b},f.getTextBlockElements=function(){return E},f.getShortEndedElements=function(){return g},f.getSelfClosingElements=function(){return m},f.getNonEmptyElements=function(){return w},f.getWhiteSpaceElements=function(){return v},f.getSpecialElements=function(){return x},f.isValidChild=function(e,t){var n=c[e];return!!n&&!!n[t]},f.isValid=function(e,t){var n,r,i=O(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;n=i.attributePatterns;if(n){r=n.length;while(r--)if(n[r].pattern.test(e))return!0}}return!1},f.getElementRule=O,f.getCustomElements=function(){return S},f.addValidElements=C,f.setValidElements=k,f.addCustomElements=L,f.addValidChildren=A,f.elements=l}}),i("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(e,t,n){var r=n.each;return function(n,i){var s=this,o=function(){};n=n||{},s.schema=i=i||new e,n.fix_self_closing!==!1&&(n.fix_self_closing=!0),r("comment cdata text start end pi doctype".split(" "),function(e){e&&(s[e]=n[e]||o)}),s.parse=function(e){function F(e){var t,n;t=f.length;while(t--)if(f[t].name===e)break;if(t>=0){for(n=f.length-1;n>=t;n--)e=f[n],e.valid&&r.end(e.name);f.length=t}}function I(e,t,n,r,i){var s,o;t=t.toLowerCase(),n=t in g?t:B(n||r||i||"");if(b&&!d&&t.indexOf("data-")!==0){s=T[t];if(!s&&N){o=N.length;while(o--){s=N[o];if(s.pattern.test(t))break}o===-1&&(s=null)}if(!s)return;if(s.validValues&&!(n in s.validValues))return}l.map[t]=n,l.push({name:t,value:n})}var r=this,s,o=0,u,a,f=[],l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H=0,B=t.decode,j;M=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),_=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,m=i.getShortEndedElements(),O=n.self_closing_elements||i.getSelfClosingElements(),g=i.getBoolAttrs(),b=n.validate,v=n.remove_internals,j=n.fix_self_closing,D=i.getSpecialElements();while(s=M.exec(e)){o<s.index&&r.text(B(e.substr(o,s.index-o)));if(u=s[6])u=u.toLowerCase(),u.charAt(0)===":"&&(u=u.substr(1)),F(u);else if(u=s[7]){u=u.toLowerCase(),u.charAt(0)===":"&&(u=u.substr(1)),y=u in m,j&&O[u]&&f.length>0&&f[f.length-1].name===u&&F(u);if(!b||(w=i.getElementRule(u))){E=!0,b&&(T=w.attributes,N=w.attributePatterns),(x=s[8])?(d=x.indexOf("data-mce-type")!==-1,d&&v&&(E=!1),l=[],l.map={},x.replace(_,I)):(l=[],l.map={});if(b&&!d){C=w.attributesRequired,k=w.attributesDefault,L=w.attributesForced,A=w.removeEmptyAttrs,A&&!l.length&&(E=!1);if(L){c=L.length;while(c--)S=L[c],p=S.name,P=S.value,P==="{$uid}"&&(P="mce_"+H++),l.map[p]=P,l.push({name:p,value:P})}if(k){c=k.length;while(c--)S=k[c],p=S.name,p in l.map||(P=S.value,P==="{$uid}"&&(P="mce_"+H++),l.map[p]=P,l.push({name:p,value:P}))}if(C){c=C.length;while(c--)if(C[c]in l.map)break;c===-1&&(E=!1)}l.map["data-mce-bogus"]&&(E=!1)}E&&r.start(u,l,y)}else E=!1;if(a=D[u]){a.lastIndex=o=s.index+s[0].length,(s=a.exec(e))?(E&&(h=e.substr(o,s.index-o)),o=s.index+s[0].length):(h=e.substr(o),o=e.length),E&&(h.length>0&&r.text(h,!0),r.end(u)),M.lastIndex=o;continue}y||(!x||x.indexOf("/")!=x.length-1?f.push({name:u,valid:E}):E&&r.end(u))}else(u=s[1])?r.comment(u):(u=s[2])?r.cdata(u):(u=s[3])?r.doctype(u):(u=s[4])&&r.pi(u,s[5]);o=s.index+s[0].length}o<e.length&&r.text(B(e.substr(o)));for(c=f.length-1;c>=0;c--)u=f[c],u.valid&&r.end(u.name)}}}),i("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(e,t,n,r){var i=r.makeMap,s=r.each,o=r.explode,u=r.extend;return function(r,a){function d(t){var n,r,s,o,u,l,c,h,p,d,v,m,g,y;v=i("tr,td,th,tbody,thead,tfoot,table"),d=a.getNonEmptyElements(),m=a.getTextBlockElements();for(n=0;n<t.length;n++){r=t[n];if(!r.parent||r.fixed)continue;if(m[r.name]&&r.parent.name=="li"){g=r.next;while(g){if(!m[g.name])break;g.name="li",g.fixed=!0,r.parent.insert(g,r.parent),g=g.next}r.unwrap(r);continue}o=[r];for(s=r.parent;s&&!a.isValidChild(s.name,r.name)&&!v[s.name];s=s.parent)o.push(s);if(s&&o.length>1){o.reverse(),u=l=f.filterNode(o[0].clone());for(p=0;p<o.length-1;p++){a.isValidChild(l.name,o[p].name)?(c=f.filterNode(o[p].clone()),l.append(c)):c=l;for(h=o[p].firstChild;h&&h!=o[p+1];)y=h.next,c.append(h),h=y;l=c}u.isEmpty(d)?s.insert(r,o[0],!0):(s.insert(u,o[0],!0),s.insert(r,u)),s=o[0],(s.isEmpty(d)||s.firstChild===s.lastChild&&s.firstChild.name==="br")&&s.empty().remove()}else if(r.parent){if(r.name==="li"){g=r.prev;if(!g||g.name!=="ul"&&g.name!=="ul"){g=r.next;if(!g||g.name!=="ul"&&g.name!=="ul"){r.wrap(f.filterNode(new e("ul",1)));continue}g.insert(r,g.firstChild,!0);continue}g.append(r);continue}a.isValidChild(r.parent.name,"div")&&a.isValidChild("div",r.name)?r.wrap(f.filterNode(new e("div",1))):r.name==="style"||r.name==="script"?r.empty().remove():r.unwrap()}}}var f=this,l={},c=[],h={},p={};r=r||{},r.validate="validate"in r?r.validate:!0,r.root_name=r.root_name||"body",f.schema=a=a||new t,f.filterNode=function(e){var t,n,r;n in l&&(r=h[n],r?r.push(e):h[n]=[e]),t=c.length;while(t--)n=c[t].name,n in e.attributes.map&&(r=p[n],r?r.push(e):p[n]=[e]);return e},f.addNodeFilter=function(e,t){s(o(e),function(e){var n=l[e];n||(l[e]=n=[]),n.push(t)})},f.addAttributeFilter=function(e,t){s(o(e),function(e){var n;for(n=0;n<c.length;n++)if(c[n].name===e){c[n].callbacks.push(t);return}c.push({name:e,callbacks:[t]})})},f.parse=function(t,s){function H(){function r(t){t&&(e=t.firstChild,e&&e.type==3&&(e.value=e.value.replace(N,"")),e=t.lastChild,e&&e.type==3&&(e.value=e.value.replace(L,"")))}var e=f.firstChild,t,n;if(!a.isValidChild(f.name,P.toLowerCase()))return;while(e)t=e.next,e.type==3||e.type==1&&e.name!=="p"&&!T[e.name]&&!e.attr("data-mce-type")?n?n.append(e):(n=B(P,1),f.insert(n,e),n.append(e)):(r(n),n=null),e=t;r(n)}function B(t,n){var r=new e(t,n),i;return t in l&&(i=h[t],i?i.push(r):h[t]=[r]),r}function j(e){var t,n,r;for(t=e.prev;t&&t.type===3;)n=t.value.replace(L,""),n.length>0?(t.value=n,t=t.prev):(r=t.prev,t.remove(),t=r)}function F(e){var t,n={};for(t in e)t!=="li"&&t!="p"&&(n[t]=e[t]);return n}var o,f,v,m,g,y,b,w,E,S,x,T,N,C=[],k,L,A,O,M,_,D,P;s=s||{},h={},p={},T=u(i("script,style,head,html,body,title,meta,param"),a.getBlockElements()),D=a.getNonEmptyElements(),_=a.children,x=r.validate,P="forced_root_block"in s?s.forced_root_block:r.forced_root_block,M=a.getWhiteSpaceElements(),N=/^[ \t\r\n]+/,L=/[ \t\r\n]+$/,A=/[ \t\r\n]+/g,O=/^[ \t\r\n]+$/,o=new n({validate:x,self_closing_elements:F(a.getSelfClosingElements()),cdata:function(e){v.append(B("#cdata",4)).value=e},text:function(e,t){var n;k||(e=e.replace(A," "),v.lastChild&&T[v.lastChild.name]&&(e=e.replace(N,""))),e.length!==0&&(n=B("#text",3),n.raw=!!t,v.append(n).value=e)},comment:function(e){v.append(B("#comment",8)).value=e},pi:function(e,t){v.append(B(e,7)).value=t,j(v)},doctype:function(e){var t;t=v.append(B("#doctype",10)),t.value=e,j(v)},start:function(e,t,n){var r,i,s,o,u;s=x?a.getElementRule(e):{};if(s){r=B(s.outputName||e,1),r.attributes=t,r.shortEnded=n,v.append(r),u=_[v.name],u&&_[r.name]&&!u[r.name]&&C.push(r),i=c.length;while(i--)o=c[i].name,o in t.map&&(E=p[o],E?E.push(r):p[o]=[r]);T[e]&&j(r),n||(v=r),!k&&M[e]&&(k=!0)}},end:function(t){var n,r,i,s,o;r=x?a.getElementRule(t):{};if(r){if(T[t]&&!k){n=v.firstChild;if(n&&n.type===3){i=n.value.replace(N,"");if(i.length>0)n.value=i,n=n.next;else{s=n.next,n.remove(),n=s;while(n&&n.type===3){i=n.value,s=n.next;if(i.length===0||O.test(i))n.remove(),n=s;n=s}}}n=v.lastChild;if(n&&n.type===3){i=n.value.replace(L,"");if(i.length>0)n.value=i,n=n.prev;else{s=n.prev,n.remove(),n=s;while(n&&n.type===3){i=n.value,s=n.prev;if(i.length===0||O.test(i))n.remove(),n=s;n=s}}}}k&&M[t]&&(k=!1);if(r.removeEmpty||r.paddEmpty)if(v.isEmpty(D))if(r.paddEmpty)v.empty().append(new e("#text","3")).value=" ";else if(!v.attributes.map.name&&!v.attributes.map.id){o=v.parent,v.empty().remove(),v=o;return}v=v.parent}}},a),f=v=new e(s.context||r.root_name,11),o.parse(t),x&&C.length&&(s.context?s.invalid=!0:d(C)),P&&(f.name=="body"||s.isRootContent)&&H();if(!s.invalid){for(S in h){E=l[S],m=h[S],b=m.length;while(b--)m[b].parent||m.splice(b,1);for(g=0,y=E.length;g<y;g++)E[g](m,S,s)}for(g=0,y=c.length;g<y;g++){E=c[g];if(E.name in p){m=p[E.name],b=m.length;while(b--)m[b].parent||m.splice(b,1);for(b=0,w=E.callbacks.length;b<w;b++)E.callbacks[b](m,E.name,s)}}}return f},r.remove_trailing_brs&&f.addNodeFilter("br",function(t){var n,r=t.length,i,s=u({},a.getBlockElements()),o=a.getNonEmptyElements(),f,l,c,h,p,d;s.body=1;for(n=0;n<r;n++){i=t[n],f=i.parent;if(s[i.parent.name]&&i===f.lastChild){c=i.prev;while(c){h=c.name;if(h!=="span"||c.attr("data-mce-type")!=="bookmark"){if(h!=="br")break;if(h==="br"){i=null;break}}c=c.prev}i&&(i.remove(),f.isEmpty(o)&&(p=a.getElementRule(f.name),p&&(p.removeEmpty?f.remove():p.paddEmpty&&(f.empty().append(new e("#text",3)).value=" "))))}else{l=i;while(f&&f.firstChild===l&&f.lastChild===l){l=f;if(s[f.name])break;f=f.parent}l===f&&(d=new e("#text",3),d.value=" ",i.replace(d))}}}),r.allow_html_in_named_anchor||f.addAttributeFilter("id,name",function(e){var t=e.length,n,r,i,s;while(t--){s=e[t];if(s.name==="a"&&s.firstChild&&!s.attr("href")){i=s.parent,n=s.lastChild;do r=n.prev,i.insert(n,s),n=r;while(n)}}})}}),i("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(e,t){var n=t.makeMap;return function(t){var r=[],i,s,o,u,a;return t=t||{},i=t.indent,s=n(t.indent_before||""),o=n(t.indent_after||""),u=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),a=t.element_format=="html",{start:function(e,t,n){var f,l,c,h;i&&s[e]&&r.length>0&&(h=r[r.length-1],h.length>0&&h!=="\n"&&r.push("\n")),r.push("<",e);if(t)for(f=0,l=t.length;f<l;f++)c=t[f],r.push(" ",c.name,'="',u(c.value,!0),'"');!n||a?r[r.length]=">":r[r.length]=" />",n&&i&&o[e]&&r.length>0&&(h=r[r.length-1],h.length>0&&h!=="\n"&&r.push("\n"))},end:function(e){var t;r.push("</",e,">"),i&&o[e]&&r.length>0&&(t=r[r.length-1],t.length>0&&t!=="\n"&&r.push("\n"))},text:function(e,t){e.length>0&&(r[r.length]=t?e:u(e))},cdata:function(e){r.push("<![CDATA[",e,"]]>")},comment:function(e){r.push("<!--",e,"-->")},pi:function(e,t){t?r.push("<?",e," ",t,"?>"):r.push("<?",e,"?>"),i&&r.push("\n")},doctype:function(e){r.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}}}),i("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(e,t){return function(n,r){var i=this,s=new e(n);n=n||{},n.validate="validate"in n?n.validate:!0,i.schema=r=r||new t,i.writer=s,i.serialize=function(e){function o(e){var n=t[e.type],u,a,f,l,c,h,p,d,v;if(!n){u=e.name,a=e.shortEnded,f=e.attributes;if(i&&f&&f.length>1){h=[],h.map={},v=r.getElementRule(e.name);for(p=0,d=v.attributesOrder.length;p<d;p++)l=v.attributesOrder[p],l in f.map&&(c=f.map[l],h.map[l]=c,h.push({name:l,value:c}));for(p=0,d=f.length;p<d;p++)l=f[p].name,l in h.map||(c=f.map[l],h.map[l]=c,h.push({name:l,value:c}));f=h}s.start(e.name,f,a);if(!a){if(e=e.firstChild)do o(e);while(e=e.next);s.end(u)}}else n(e)}var t,i;return i=n.validate,t={3:function(e){s.text(e.value,e.raw)},8:function(e){s.comment(e.value)},7:function(e){s.pi(e.name,e.value)},10:function(e){s.doctype(e.value)},4:function(e){s.cdata(e.value)},11:function(e){if(e=e.firstChild)do o(e);while(e=e.next)}},s.reset(),e.type==1&&!n.inner?o(e):t[11](e),s.getContent()}}}),i("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools"],function(e,t,n,r,i,s,o,u){var a=u.each,f=u.trim,l=e.DOM;return function(e,i){var u,c,h;return i&&(u=i.dom,c=i.schema),u=u||l,c=c||new s(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0,h=new t(e,c),h.addAttributeFilter("src,href,style",function(t,n){var r=t.length,i,s,o="data-mce-"+n,a=e.url_converter,f=e.url_converter_scope,l;while(r--)i=t[r],s=i.attributes.map[o],s!==l?(i.attr(n,s.length>0?s:null),i.attr(o,null)):(s=i.attributes.map[n],n==="style"?s=u.serializeStyle(u.parseStyle(s),i.name):a&&(s=a.call(f,s,n,i.name)),i.attr(n,s.length>0?s:null))}),h.addAttributeFilter("class",function(e){var t=e.length,n,r;while(t--)n=e[t],r=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null)}),h.addAttributeFilter("data-mce-type",function(e,t,n){var r=e.length,i;while(r--)i=e[r],i.attributes.map["data-mce-type"]==="bookmark"&&!n.cleanup&&i.remove()}),h.addAttributeFilter("data-mce-expando",function(e,t){var n=e.length;while(n--)e[n].attr(t,null)}),h.addNodeFilter("noscript",function(e){var t=e.length,r;while(t--)r=e[t].firstChild,r&&(r.value=n.decode(r.value))}),h.addNodeFilter("script,style",function(e,t){function s(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}var n=e.length,r,i;while(n--)r=e[n],i=r.firstChild?r.firstChild.value:"",t==="script"?(r.attr("type",(r.attr("type")||"text/javascript").replace(/^mce\-/,"")),i.length>0&&(r.firstChild.value="// <![CDATA[\n"+s(i)+"\n// ]]>")):i.length>0&&(r.firstChild.value="<!--\n"+s(i)+"\n-->")}),h.addNodeFilter("#comment",function(e){var t=e.length,n;while(t--)n=e[t],n.value.indexOf("[CDATA[")===0?(n.name="#cdata",n.type=4,n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,"")):n.value.indexOf("mce:protected ")===0&&(n.name="#text",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}),h.addNodeFilter("xml:namespace,input",function(e,t){var n=e.length,r;while(n--)r=e[n],r.type===7?r.remove():r.type===1&&t==="input"&&!("type"in r.attributes.map)&&r.attr("type","text")}),e.fix_list_elements&&h.addNodeFilter("ul,ol",function(e){var t=e.length,n,r;while(t--)n=e[t],r=n.parent,(r.name==="ul"||r.name==="ol")&&n.prev&&n.prev.name==="li"&&n.prev.append(n)}),h.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(e,t){var n=e.length;while(n--)e[n].attr(t,null)}),{schema:c,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:function(t,n){var i=this,s,l,p,d,v;return o.ie&&u.select("script,style,select,map").length>0?(v=t.innerHTML,t=t.cloneNode(!1),u.setHTML(t,v)):t=t.cloneNode(!0),s=t.ownerDocument.implementation,s.createHTMLDocument&&(l=s.createHTMLDocument(""),a(t.nodeName=="BODY"?t.childNodes:[t],function(e){l.body.appendChild(l.importNode(e,!0))}),t.nodeName!="BODY"?t=l.body.firstChild:t=l.body,p=u.doc,u.doc=l),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,i.onPreProcess(n)),d=new r(e,c),n.content=d.serialize(h.parse(f(n.getInner?t.innerHTML:u.getOuterHTML(t)),n)),n.cleanup||(n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||i.onPostProcess(n),p&&(u.doc=p),n.node=null,n.content},addRules:function(e){c.addValidElements(e)},setRules:function(e){c.setValidElements(e)},onPreProcess:function(e){i&&i.fire("PreProcess",e)},onPostProcess:function(e){i&&i.fire("PostProcess",e)}}}}),i("tinymce/dom/TridentSelection",[],function(){function e(e){function i(t,n){var r,i=0,s,o,u,a,f,l,c=-1,h;r=t.duplicate(),r.collapse(n),h=r.parentElement();if(h.ownerDocument!==e.dom.doc)return;while(h.contentEditable==="false")h=h.parentNode;if(!h.hasChildNodes())return{node:h,inside:1};u=h.children,s=u.length-1;while(i<=s){l=Math.floor((i+s)/2),a=u[l],r.moveToElementText(a),c=r.compareEndPoints(n?"StartToStart":"EndToEnd",t);if(c>0)s=l-1;else{if(!(c<0))return{node:a};i=l+1}}if(c<0){a?r.collapse(!1):(r.moveToElementText(h),r.collapse(!0),a=h,o=!0),f=0;while(r.compareEndPoints(n?"StartToStart":"StartToEnd",t)!==0){if(r.move("character",1)===0||h!=r.parentElement())break;f++}}else{r.collapse(!0),f=0;while(r.compareEndPoints(n?"StartToStart":"StartToEnd",t)!==0){if(r.move("character",-1)===0||h!=r.parentElement())break;f++}}return{node:a,position:c,offset:f,inside:o}}function s(){function c(e){var t=i(r,e),n,o,u=0,a,f,l;n=t.node,o=t.offset;if(t.inside&&!n.hasChildNodes()){s[e?"setStart":"setEnd"](n,0);return}if(o===f){s[e?"setStartBefore":"setEndAfter"](n);return}if(t.position<0){a=t.inside?n.firstChild:n.nextSibling;if(!a){s[e?"setStartAfter":"setEndAfter"](n);return}if(!o){a.nodeType==3?s[e?"setStart":"setEnd"](a,0):s[e?"setStartBefore":"setEndBefore"](a);return}while(a){l=a.nodeValue,u+=l.length;if(u>=o){n=a,u-=o,u=l.length-u;break}a=a.nextSibling}}else{a=n.previousSibling;if(!a)return s[e?"setStartBefore":"setEndBefore"](n);if(!o){n.nodeType==3?s[e?"setStart":"setEnd"](a,n.nodeValue.length):s[e?"setStartAfter":"setEndAfter"](a);return}while(a){u+=a.nodeValue.length;if(u>=o){n=a,u-=o;break}a=a.previousSibling}}s[e?"setStart":"setEnd"](n,u)}var r=e.getRng(),s=n.createRng(),o,u,a,f,l;o=r.item?r.item(0):r.parentElement();if(o.ownerDocument!=n.doc)return s;u=e.isCollapsed();if(r.item)return s.setStart(o.parentNode,n.nodeIndex(o)),s.setEnd(s.startContainer,s.startOffset+1),s;try{c(!0),u||c()}catch(h){if(h.number!=-2147024809)throw h;l=t.getBookmark(2),a=r.duplicate(),a.collapse(!0),o=a.parentElement(),u||(a=r.duplicate(),a.collapse(!1),f=a.parentElement(),f.innerHTML=f.innerHTML),o.innerHTML=o.innerHTML,t.moveToBookmark(l),r=e.getRng(),c(!0),u||c()}return s}var t=this,n=e.dom,r=!1;this.getBookmark=function(t){function o(e){var t,r,i,s,o=[];t=e.parentNode,r=n.getRoot().parentNode;while(t!=r&&t.nodeType!==9){i=t.children,s=i.length;while(s--)if(e===i[s]){o.push(s);break}e=t,t=t.parentNode}return o}function u(e){var t;t=i(r,e);if(t)return{position:t.position,offset:t.offset,indexes:o(t.node),inside:t.inside}}var r=e.getRng(),s={};return t===2&&(r.item?s.start={ctrl:!0,indexes:o(r.item(0))}:(s.start=u(!0),e.isCollapsed()||(s.end=u()))),s},this.moveToBookmark=function(e){function i(e){var t,r,i,s;t=n.getRoot();for(r=e.length-1;r>=0;r--)s=t.children,i=e[r],i<=s.length-1&&(t=s[i]);return t}function s(n){var s=e[n?"start":"end"],o,u,a,f;s&&(o=s.position>0,u=r.createTextRange(),u.moveToElementText(i(s.indexes)),f=s.offset,f!==a?(u.collapse(s.inside||o),u.moveStart("character",o?-f:f)):u.collapse(n),t.setEndPoint(n?"StartToStart":"EndToStart",u),n&&t.collapse(!0))}var t,r=n.doc.body;e.start&&(e.start.ctrl?(t=r.createControlRange(),t.addElement(i(e.start.indexes)),t.select()):(t=r.createTextRange(),s(!0),s(),t.select()))},this.addRange=function(t){function v(e){var t,s,l,p,d;l=n.create("a"),t=e?o:a,s=e?u:f,p=i.duplicate();if(t==c||t==c.documentElement)t=h,s=0;t.nodeType==3?(t.parentNode.insertBefore(l,t),p.moveToElementText(l),p.moveStart("character",s),n.remove(l),i.setEndPoint(e?"StartToStart":"EndToEnd",p)):(d=t.childNodes,d.length?(s>=d.length?n.insertAfter(l,d[d.length-1]):t.insertBefore(l,d[s]),p.moveToElementText(l)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",l=t.firstChild,p.moveToElementText(l),p.collapse(r)),i.setEndPoint(e?"StartToStart":"EndToEnd",p),n.remove(l))}var i,s,o,u,a,f,l,c=e.dom.doc,h=c.body,p,d;o=t.startContainer,u=t.startOffset,a=t.endContainer,f=t.endOffset,i=h.createTextRange();if(o==a&&o.nodeType==1){if(u==f&&!o.hasChildNodes()){if(o.canHaveHTML){l=o.previousSibling,l&&!l.hasChildNodes()&&n.isBlock(l)?l.innerHTML="&#xFEFF;":l=null,o.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(o.lastChild),i.select(),n.doc.selection.clear(),o.innerHTML="",l&&(l.innerHTML="");return}u=n.nodeIndex(o),o=o.parentNode}if(u==f-1)try{d=o.childNodes[u],s=h.createControlRange(),s.addElement(d),s.select(),p=e.getRng();if(p.item&&d===p.item(0))return}catch(m){}}v(!0),v(),i.select()},this.getRangeAt=s}return e}),i("tinymce/util/VK",["tinymce/Env"],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return(e.mac?t.ctrlKey||t.metaKey:t.ctrlKey)&&!t.altKey}}}),i("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(e,t,n){return function(r,i){function C(e){return i.settings.object_resizing===!1?!1:/TABLE|IMG|DIV/.test(e.nodeName)?e.getAttribute("data-mce-resize")==="false"?!1:!0:!1}function k(t){var n,r;n=t.screenX-c,r=t.screenY-h,b=n*l[2]+v,w=r*l[3]+m,b=b<5?5:b,w=w<5?5:w;if(e.modifierPressed(t)||u.nodeName=="IMG"&&l[2]*l[3]!==0)b=Math.round(w/g),w=Math.round(b*g);s.setStyles(a,{width:b,height:w}),l[2]<0&&a.clientWidth<=b&&s.setStyle(a,"left",p+(v-b)),l[3]<0&&a.clientHeight<=w&&s.setStyle(a,"top",d+(m-w)),y||(i.fire("ObjectResizeStart",{target:u,width:v,height:m}),y=!0)}function L(){function e(e,t){t&&(u.style[e]||!i.schema.isValid(u.nodeName.toLowerCase(),e)?s.setStyle(u,e,t):s.setAttrib(u,e,t))}y=!1,e("width",b),e("height",w),s.unbind(E,"mousemove",k),s.unbind(E,"mouseup",L),S!=E&&(s.unbind(S,"mousemove",k),s.unbind(S,"mouseup",L)),s.remove(a),(!x||u.nodeName=="TABLE")&&A(u),i.fire("ObjectResized",{target:u,width:b,height:w}),i.nodeChanged()}function A(e,t,n){var r,x,T,N,A;r=s.getPos(e,i.getBody()),p=r.x,d=r.y,A=e.getBoundingClientRect(),x=A.width||A.right-A.left,T=A.height||A.bottom-A.top,u!=e&&(B(),u=e,b=w=0),N=i.fire("ObjectSelected",{target:e}),C(e)&&!N.isDefaultPrevented()?o(f,function(e,r){function b(t){y=!0,c=t.screenX,h=t.screenY,v=u.clientWidth,m=u.clientHeight,g=m/v,l=e,a=u.cloneNode(!0),s.addClass
(a,"mce-clonedresizable"),a.contentEditable=!1,a.unSelectabe=!0,s.setStyles(a,{left:p,top:d,margin:0}),a.removeAttribute("data-mce-selected"),i.getBody().appendChild(a),s.bind(E,"mousemove",k),s.bind(E,"mouseup",L),S!=E&&(s.bind(S,"mousemove",k),s.bind(S,"mouseup",L))}var o,f;if(t){r==t&&b(n);return}o=s.get("mceResizeHandle"+r),o?s.show(o):(f=i.getBody(),o=s.add(f,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":!0,"class":"mce-resizehandle",contentEditable:!1,unSelectabe:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),s.bind(o,"mousedown",function(e){e.preventDefault(),b(e)})),s.setStyles(o,{left:x*e[0]+p-o.offsetWidth/2,top:T*e[1]+d-o.offsetHeight/2})}):O(),u.setAttribute("data-mce-selected","1")}function O(){var e,t;u&&u.removeAttribute("data-mce-selected");for(e in f)t=s.get("mceResizeHandle"+e),t&&(s.unbind(t),s.remove(t))}function M(e){function n(e,t){do if(e===t)return!0;while(e=e.parentNode)}var t;o(s.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),t=e.type=="mousedown"?e.target:r.getNode(),t=s.getParent(t,x?"table":"table,img,hr");if(t){j();if(n(r.getStart(),t)&&n(r.getEnd(),t))if(!x||t!=r.getStart()&&r.getStart().nodeName!=="IMG"){A(t);return}}O()}function _(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function D(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function P(e){var t=e.srcElement,n,r,s,o,u,a,c;n=t.getBoundingClientRect(),a=T.clientX-n.left,c=T.clientY-n.top;for(r in f){s=f[r],o=t.offsetWidth*s[0],u=t.offsetHeight*s[1];if(Math.abs(o-a)<8&&Math.abs(u-c)<8){l=s;break}}y=!0,i.getDoc().selection.empty(),A(t,r,T)}function H(e){var t=e.srcElement;if(t!=u){B();if(t.id.indexOf("mceResizeHandle")===0){e.returnValue=!1;return}if(t.nodeName=="IMG"||t.nodeName=="TABLE")O(),u=t,_(t,"resizestart",P)}}function B(){D(u,"resizestart",P)}function j(){try{i.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function F(e){var t;if(!x)return;t=E.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}function I(){u=a=null,x&&(B(),D(i.getBody(),"controlselect",H))}var s=i.dom,o=t.each,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E=i.getDoc(),S=document,x=n.ie,T;f={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var N=".mce-content-body";return i.contentStyles.push(N+" div.mce-resizehandle {"+"position: absolute;"+"border: 1px solid black;"+"background: #FFF;"+"width: 5px;"+"height: 5px;"+"z-index: 10000"+"}"+N+" .mce-resizehandle:hover {"+"background: #000"+"}"+N+" img[data-mce-selected], hr[data-mce-selected] {"+"outline: 1px solid black;"+"resize: none"+"}"+N+" .mce-clonedresizable {"+"position: absolute;"+(n.gecko?"":"outline: 1px dashed black;")+"opacity: .5;"+"filter: alpha(opacity=50);"+"z-index: 10000"+"}"),i.on("init",function(){x?(i.on("ObjectResized",function(e){e.target.nodeName!="TABLE"&&(O(),F(e.target))}),_(i.getBody(),"controlselect",H),i.on("mousedown",function(e){T=e})):j(),i.on("nodechange mousedown ResizeEditor",M),i.on("keydown keyup",function(e){u&&u.nodeName=="TABLE"&&M(e)})}),{controlSelect:F,destroy:I}}}),i("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/Env","tinymce/util/Tools"],function(e,n,r,i,s){function c(e,t,i,s){var o=this;o.dom=e,o.win=t,o.serializer=i,o.editor=s,o.controlSelection=new r(o,s),o.win.getSelection||(o.tridentSel=new n(o))}var o=s.each,u=s.grep,a=s.trim,f=i.ie,l=i.opera;return c.prototype={setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();r.setStart(e,t),r.setEnd(e,t),n.setRng(r),n.collapse(!1)},getContent:function(e){var n=this,r=n.getRng(),i=n.dom.create("body"),s=n.getSel(),o,u,a;return e=e||{},o=u="",e.get=!0,e.format=e.format||"html",e.selection=!0,n.editor.fire("BeforeGetContent",e),e.format=="text"?n.isCollapsed()?"":r.text||(s.toString?s.toString():""):(r.cloneContents?(a=r.cloneContents(),a&&i.appendChild(a)):r.item!==t||r.htmlText!==t?(i.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),i.removeChild(i.firstChild)):i.innerHTML=r.toString(),/^\s/.test(i.innerHTML)&&(o=" "),/\s+$/.test(i.innerHTML)&&(u=" "),e.getInner=!0,e.content=n.isCollapsed()?"":o+n.serializer.serialize(i,e)+u,n.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n=this,r=n.getRng(),i,s=n.win.document,o,u;t=t||{format:"html"},t.set=!0,t.selection=!0,e=t.content=e,t.no_events||n.editor.fire("BeforeSetContent",t),e=t.content;if(r.insertNode){e+='<span id="__caret">_</span>',r.startContainer==s&&r.endContainer==s?s.body.innerHTML=e:(r.deleteContents(),s.body.childNodes.length===0?s.body.innerHTML=e:r.createContextualFragment?r.insertNode(r.createContextualFragment(e)):(o=s.createDocumentFragment(),u=s.createElement("div"),o.appendChild(u),u.outerHTML=e,r.insertNode(o))),i=n.dom.get("__caret"),r=s.createRange(),r.setStartBefore(i),r.setEndBefore(i),n.setRng(r),n.dom.remove("__caret");try{n.setRng(r)}catch(a){}}else r.item&&(s.execCommand("Delete",!1,null),r=n.getRng()),/^\s+/.test(e)?(r.pasteHTML('<span id="__mce_tmp">_</span>'+e),n.dom.remove("__mce_tmp")):r.pasteHTML(e);t.no_events||n.editor.fire("SetContent",t)},getStart:function(){var e=this,t=e.getRng(),n,r,i,s;if(t.duplicate||t.item){if(t.item)return t.item(0);i=t.duplicate(),i.collapse(1),n=i.parentElement(),n.ownerDocument!==e.dom.doc&&(n=e.dom.getRoot()),r=s=t.parentElement();while(s=s.parentNode)if(s==n){n=r;break}return n}return n=t.startContainer,n.nodeType==1&&n.hasChildNodes()&&(n=n.childNodes[Math.min(n.childNodes.length-1,t.startOffset)]),n&&n.nodeType==3?n.parentNode:n},getEnd:function(){var e=this,t=e.getRng(),n,r;return t.duplicate||t.item?t.item?t.item(0):(t=t.duplicate(),t.collapse(0),n=t.parentElement(),n.ownerDocument!==e.dom.doc&&(n=e.dom.getRoot()),n&&n.nodeName=="BODY"?n.lastChild||n:n):(n=t.endContainer,r=t.endOffset,n.nodeType==1&&n.hasChildNodes()&&(n=n.childNodes[r>0?r-1:r]),n&&n.nodeType==3?n.parentNode:n)},getBookmark:function(e,t){function p(e,t){var n=0;return o(r.select(e),function(e,r){e==t&&(n=r)}),n}function d(e){function t(t){var n,r,i,s=t?"start":"end";n=e[s+"Container"],r=e[s+"Offset"],n.nodeType==1&&n.nodeName=="TR"&&(i=n.childNodes,n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))}return t(!0),t(),e}function v(){function o(e,r){var s=e[r?"startContainer":"endContainer"],o=e[r?"startOffset":"endOffset"],u=[],a,f,l=0;if(s.nodeType==3){if(t)for(a=s.previousSibling;a&&a.nodeType==3;a=a.previousSibling)o+=a.nodeValue.length;u.push(o)}else f=s.childNodes,o>=f.length&&f.length&&(l=1,o=Math.max(0,f.length-1)),u.push(n.dom.nodeIndex(f[o],t)+l);for(;s&&s!=i;s=s.parentNode)u.push(n.dom.nodeIndex(s,t));return u}var e=n.getRng(!0),i=r.getRoot(),s={};return s.start=o(e,!0),n.isCollapsed()||(s.end=o(e)),s}var n=this,r=n.dom,i,s,u,a,f,l,c="&#xFEFF;",h;if(e==2)return l=n.getNode(),f=l.nodeName,f=="IMG"?{name:f,index:p(f,l)}:n.tridentSel?n.tridentSel.getBookmark(e):v();if(e)return{rng:n.getRng()};i=n.getRng(),u=r.uniqueId(),a=n.isCollapsed(),h="overflow:hidden;line-height:0px";if(i.duplicate||i.item){if(!!i.item)return l=i.item(0),f=l.nodeName,{name:f,index:p(f,l)};s=i.duplicate();try{i.collapse(),i.pasteHTML('<span data-mce-type="bookmark" id="'+u+'_start" style="'+h+'">'+c+"</span>"),a||(s.collapse(!1),i.moveToElementText(s.parentElement()),i.compareEndPoints("StartToEnd",s)===0&&s.move("character",-1),s.pasteHTML('<span data-mce-type="bookmark" id="'+u+'_end" style="'+h+'">'+c+"</span>"))}catch(m){return null}}else{l=n.getNode(),f=l.nodeName;if(f=="IMG")return{name:f,index:p(f,l)};s=d(i.cloneRange()),a||(s.collapse(!1),s.insertNode(r.create("span",{"data-mce-type":"bookmark",id:u+"_end",style:h},c))),i=d(i),i.collapse(!0),i.insertNode(r.create("span",{"data-mce-type":"bookmark",id:u+"_start",style:h},c))}return n.moveToBookmark({id:u,keep:1}),{id:u}},moveToBookmark:function(e){function p(t){var n=e[t?"start":"end"],s,o,u,a;if(n){u=n[0];for(o=i,s=n.length-1;s>=1;s--){a=o.childNodes;if(n[s]>a.length-1)return;o=a[n[s]]}o.nodeType===3&&(u=Math.min(n[0],o.nodeValue.length)),o.nodeType===1&&(u=Math.min(n[0],o.childNodes.length)),t?r.setStart(o,u):r.setEnd(o,u)}return!0}function d(t){var r=n.get(e.id+"_"+t),i,f,p,d,v=e.keep;if(r){i=r.parentNode,t=="start"?(v?(i=r.firstChild,f=1):f=n.nodeIndex(r),s=a=i,c=h=f):(v?(i=r.firstChild,f=1):f=n.nodeIndex(r),a=i,h=f);if(!v){d=r.previousSibling,p=r.nextSibling,o(u(r.childNodes),function(e){e.nodeType==3&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});while(r=n.get(e.id+"_"+t))n.remove(r,1);d&&p&&d.nodeType==p.nodeType&&d.nodeType==3&&!l&&(f=d.nodeValue.length,d.appendData(p.nodeValue),n.remove(p),t=="start"?(s=a=d,c=h=f):(a=d,h=f))}}}function v(e){return n.isBlock(e)&&!e.innerHTML&&!f&&(e.innerHTML='<br data-mce-bogus="1" />'),e}var t=this,n=t.dom,r,i,s,a,c,h;if(e)if(e.start){r=n.createRng(),i=n.getRoot();if(t.tridentSel)return t.tridentSel.moveToBookmark(e);p(!0)&&p()&&t.setRng(r)}else e.id?(d("start"),d("end"),s&&(r=n.createRng(),r.setStart(v(s),c),r.setEnd(v(a),h),t.setRng(r))):e.name?t.select(n.select(e.name)[e.index]):e.rng&&t.setRng(e.rng)},select:function(t,n){function u(t,n){var r=new e(t,t);do{if(t.nodeType==3&&a(t.nodeValue).length!==0){n?s.setStart(t,0):s.setEnd(t,t.nodeValue.length);return}if(t.nodeName=="BR"){n?s.setStartBefore(t):s.setEndBefore(t);return}}while(t=n?r.next():r.prev())}var r=this,i=r.dom,s=i.createRng(),o;if(t){if(!n&&r.controlSelection.controlSelect(t))return;o=i.nodeIndex(t),s.setStart(t.parentNode,o),s.setEnd(t.parentNode,o+1),n&&(u(t,1),u(t)),r.setRng(s)}return t},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?t.compareEndPoints("StartToEnd",t)===0:!n||t.collapsed},collapse:function(e){var t=this,n=t.getRng(),r;n.item&&(r=n.item(0),n=t.win.document.body.createTextRange(),n.moveToElementText(r)),n.collapse(!!e),t.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){var t=this,n,r,i,s=t.win.document,o;if(!e&&t.restoreRng)return t.restoreRng;if(e&&t.tridentSel)return t.tridentSel.getRangeAt(0);try{if(n=t.getSel())n.rangeCount>0?r=n.getRangeAt(0):r=n.createRange?n.createRange():s.createRange()}catch(u){}if(f&&r&&r.setStart){try{o=s.selection.createRange()}catch(u){}o&&o.item&&(i=o.item(0),r=s.createRange(),r.setStartBefore(i),r.setEndAfter(i))}return r||(r=s.createRange?s.createRange():s.body.createTextRange()),r.setStart&&r.startContainer.nodeType===9&&r.collapsed&&(i=t.dom.getRoot(),r.setStart(i,0),r.setEnd(i,0)),t.selectedRange&&t.explicitRange&&(r.compareBoundaryPoints(r.START_TO_START,t.selectedRange)===0&&r.compareBoundaryPoints(r.END_TO_END,t.selectedRange)===0?r=t.explicitRange:(t.selectedRange=null,t.explicitRange=null)),r},setRng:function(e,t){var n=this,r;if(e.select){try{e.select()}catch(i){}return}if(!n.tridentSel){r=n.getSel();if(r){n.explicitRange=e;try{r.removeAllRanges()}catch(i){}r.addRange(e),t===!1&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),n.selectedRange=r.rangeCount>0?r.getRangeAt(0):null}}else if(e.cloneRange)try{n.tridentSel.addRange(e);return}catch(i){}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function u(e,t){var n=e;while(e&&e.nodeType===3&&e.length===0)e=t?e.nextSibling:e.previousSibling;return e||n}var e=this,t=e.getRng(),n,r=t.startContainer,i=t.endContainer,s=t.startOffset,o=t.endOffset;if(!t)return e.dom.getRoot();if(t.setStart){n=t.commonAncestorContainer;if(!t.collapsed){r==i&&o-s<2&&r.hasChildNodes()&&(n=r.childNodes[s]);if(r.nodeType===3&&i.nodeType===3){r.length===s?r=u(r.nextSibling,!0):r=r.parentNode,o===0?i=u(i.previousSibling,!1):i=i.parentNode;if(r&&r===i)return r}}return n&&n.nodeType==3?n.parentNode:n}return t.item?t.item(0):t.parentElement()},getSelectedBlocks:function(t,n){var r=this,i=r.dom,s,o,u=[];o=i.getRoot(),t=i.getParent(t||r.getStart(),i.isBlock),n=i.getParent(n||r.getEnd(),i.isBlock),t&&t!=o&&u.push(t);if(t&&n&&t!=n){s=t;var a=new e(t,o);while((s=a.next())&&s!=n)i.isBlock(s)&&u.push(s)}return n&&t!=n&&n!=o&&u.push(n),u},isForward:function(){var e=this.dom,t=this.getSel(),n,r;return!t||!t.anchorNode||!t.focusNode?!0:(n=e.createRng(),n.setStart(t.anchorNode,t.anchorOffset),n.collapse(!0),r=e.createRng(),r.setStart(t.focusNode,t.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)<=0)},normalize:function(){function s(s){function d(t,n){var r=new e(t,f.getParent(t.parentNode,f.isBlock)||l);while(t=r[n?"prev":"next"]())if(t.nodeName==="BR")return!0}function v(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function m(t,n){var s,a;n=n||o,s=new e(n,f.getParent(n.parentNode,f.isBlock)||l);while(c=s[t?"prev":"next"]()){if(c.nodeType===3&&c.nodeValue.length>0){o=c,u=t?c.nodeValue.length:0,r=!0;return}if(f.isBlock(c)||h[c.nodeName.toLowerCase()])return;a=c}i&&a&&(o=a,r=!0,u=0)}var o,u,a,f=t.dom,l=f.getRoot(),c,h,p;o=n[(s?"start":"end")+"Container"],u=n[(s?"start":"end")+"Offset"],h=f.schema.getNonEmptyElements(),o.nodeType===9&&(o=f.getRoot(),u=0);if(o===l){if(s){c=o.childNodes[u>0?u-1:0];if(c){p=c.nodeName.toLowerCase();if(h[c.nodeName]||c.nodeName=="TABLE")return}}if(o.hasChildNodes()){u=Math.min(!s&&u>0?u-1:u,o.childNodes.length-1),o=o.childNodes[u],u=0;if(o.hasChildNodes()&&!/TABLE/.test(o.nodeName)){c=o,a=new e(o,l);do{if(c.nodeType===3&&c.nodeValue.length>0){u=s?0:c.nodeValue.length,o=c,r=!0;break}if(h[c.nodeName.toLowerCase()]){u=f.nodeIndex(c),o=c.parentNode,c.nodeName=="IMG"&&!s&&u++,r=!0;break}}while(c=s?a.next():a.prev())}}}i&&(o.nodeType===3&&u===0&&m(!0),o.nodeType===1&&(c=o.childNodes[u],c&&c.nodeName==="BR"&&!v(c,"A")&&!d(c)&&!d(c,!0)&&m(!0,o.childNodes[u]))),s&&!i&&o.nodeType===3&&u===o.nodeValue.length&&m(!1),r&&n["set"+(s?"Start":"End")](o,u)}var t=this,n,r,i;if(f)return;n=t.getRng(),i=n.collapsed,s(!0),i||s(),r&&(i&&n.collapse(!0),t.setRng(n,t.isForward()))},selectorChanged:function(e,t){var n=this,r;return n.selectorChangedData||(n.selectorChangedData={},r={},n.editor.on("NodeChange",function(e){var t=e.element,i=n.dom,s=i.getParents(t,null,i.getRoot()),u={};o(n.selectorChangedData,function(e,t){o(s,function(n){if(i.is(n,t))return r[t]||(o(e,function(e){e(!0,{node:n,selector:t,parents:s})}),r[t]=e),u[t]=e,!1})}),o(r,function(e,n){u[n]||(delete r[n],o(e,function(e){e(!1,{node:t,selector:n,parents:s})}))})})),n.selectorChangedData[e]||(n.selectorChangedData[e]=[]),n.selectorChangedData[e].push(t),n},scrollIntoView:function(e){var t,n,r=this,i=r.dom;n=i.getViewPort(r.editor.getWin()),t=i.getPos(e).y,(t<n.y||t+25>n.y+n.h)&&r.editor.getWin().scrollTo(0,t<n.y?t:t-n.h+25)},destroy:function(){this.win=null,this.controlSelection.destroy()}},c}),i("tinymce/dom/RangeUtils",["tinymce/util/Tools"],function(e){function n(e){this.walk=function(n,r){function v(e){var t;return t=e[0],t.nodeType===3&&t===i&&s>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],u===0&&e.length>0&&t===o&&t.nodeType===3&&e.splice(e.length-1,1),e}function m(e,t,n){var r=[];for(;e&&e!=n;e=e[t])r.push(e);return r}function g(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function y(e,t,n){var i=n?"nextSibling":"previousSibling";for(c=e,h=c.parentNode;c&&c!=t;c=h)h=c.parentNode,p=m(c==e?c:c[i],i),p.length&&(n||p.reverse(),r(v(p)))}var i=n.startContainer,s=n.startOffset,o=n.endContainer,u=n.endOffset,a,f,l,c,h,p,d;d=e.select("td.mce-item-selected,th.mce-item-selected");if(d.length>0){t(d,function(e){r([e])});return}i.nodeType==1&&i.hasChildNodes()&&(i=i.childNodes[s]),o.nodeType==1&&o.hasChildNodes()&&(o=o.childNodes[Math.min(u-1,o.childNodes.length-1)]);if(i==o)return r(v([i]));a=e.findCommonAncestor(i,o);for(c=i;c;c=c.parentNode){if(c===o)return y(i,a,!0);if(c===a)break}for(c=o;c;c=c.parentNode){if(c===i)return y(o,a);if(c===a)break}f=g(i,a)||i,l=g(o,a)||o,y(i,f,!0),p=m(f==i?f:f.nextSibling,"nextSibling",l==o?l.nextSibling:l),p.length&&r(v(p)),y(o,l)},this.split=function(e){function s(e,t){return e.splitText(t)}var t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;return t==r&&t.nodeType==3?n>0&&n<t.nodeValue.length&&(r=s(t,n),t=r.previousSibling,i>n?(i-=n,t=r=s(r,i).previousSibling,i=r.nodeValue.length,n=0):i=0):(t.nodeType==3&&n>0&&n<t.nodeValue.length&&(t=s(t,n),n=0),r.nodeType==3&&i>0&&i<r.nodeValue.length&&(r=s(r,i).previousSibling,i=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:i}}}var t=e.each;return n.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},n}),i("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/util/Tools"],function(e,t,n){return function(r){function N(e){return e.nodeType&&(e=e.nodeName),!!r.schema.getTextBlockElements()[e.toLowerCase()]}function C(e,t){return s.getParents(e,t,s.getRoot())}function k(e){return e.nodeType===1&&e.id==="_mce_caret"}function L(){M({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){E(n,function(t,n){s.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),E("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){M(e,{block:e,remove:"all"})}),M(r.settings.formats)}function A(){r.addShortcut("ctrl+b","bold_desc","Bold"),r.addShortcut("ctrl+i","italic_desc","Italic"),r.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;e<=6;e++)r.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);r.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),r.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),r.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function O(e){return e?i[e]:i}function M(e,t){e&&(typeof e!="string"?E(e,function(e,t){M(t,e)}):(t=t.length?t:[t],E(t,function(e){e.deep===g&&(e.deep=!e.selector),e.split===g&&(e.split=!e.selector||e.inline),e.remove===g&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),typeof e.classes=="string"&&(e.classes=e.classes.split(/\s+/))}),i[e]=t))}function _(e){var t;return r.dom.getParent(e,function(e){return t=r.dom.getStyle(e,"text-decoration"),t&&t!=="none"}),t}function D(e){var t;e.nodeType===1&&e.parentNode&&e.parentNode.nodeType===1&&(t=_(e.parentNode),r.dom.getStyle(e,"color")&&t?r.dom.setStyle(e,"text-decoration",t):r.dom.getStyle(e,"textdecoration")===t&&r.dom.setStyle(e,"text-decoration",null))}function P(t,n,i){function b(e,t){t=t||h,e&&(t.onformat&&t.onformat(e,t,n,i),E(t.styles,function(t,r){s.setStyle(e,r,V(t,n))}),E(t.attributes,function(t,r){s.setAttrib(e,r,V(t,n))}),E(t.classes,function(t){t=V(t,n),s.hasClass(e,t)||s.addClass(e,t)}))}function w(){function t(t,n){var r=new e(n);for(i=r.current();i;i=r.prev())if(i.childNodes.length>1||i==t||i.tagName=="BR")return i}var n=r.selection.getRng(),s=n.startContainer,o=n.endContainer;if(s!=o&&n.endOffset===0){var u=t(s,o),a=u.nodeType==3?u.length:u.childNodes.length;n.setEnd(u,a)}return n}function T(e,t,n,r,i){var o=[],u=-1,a,f=-1,l=-1,c;return E(e.childNodes,function(e,t){if(e.nodeName==="UL"||e.nodeName==="OL")return u=t,a=e,!1}),E(e.childNodes,function(e,n){e.nodeName==="SPAN"&&s.getAttrib(e,"data-mce-type")=="bookmark"&&(e.id==t.id+"_start"?f=n:e.id==t.id+"_end"&&(l=n))}),u<=0||f<u&&l>u?(E(S(e.childNodes),i),0):(c=s.clone(n,d),E(S(e.childNodes),function(e,t){if(f<u&&t<u||f>u&&t>u)o.push(e),e.parentNode.removeChild(e)}),f<u?e.insertBefore(c,a):f>u&&e.insertBefore(c,a.nextSibling),r.push(c),E(o,function(e){c.appendChild(e)}),c)}function C(e,r,i){var o=[],l,p,m=!0;l=h.inline||h.block,p=s.create(l),b(p),u.walk(e,function(e){function v(e){var w,x,C,L,A;A=m,w=e.nodeName.toLowerCase(),x=e.parentNode.nodeName.toLowerCase(),e.nodeType===1&&y(e)&&(A=m,m=y(e)==="true",L=!0);if(z(w,"br")){u=0,h.block&&s.remove(e);return}if(h.wrapper&&j(e,t,n)){u=0;return}if(m&&!L&&h.block&&!h.wrapper&&N(w)&&a(x,l)){e=s.rename(e,l),b(e),o.push(e),u=0;return}if(h.selector){E(c,function(t){if("collapsed"in t&&t.collapsed!==g)return;s.is(e,t.selector)&&!k(e)&&(b(e,t),C=!0)});if(!h.inline||C){u=0;return}}m&&!L&&a(l,w)&&a(x,l)&&(!!i||e.nodeType!==3||e.nodeValue.length!==1||e.nodeValue.charCodeAt(0)!==65279)&&!k(e)&&(!h.inline||!f(e))?(u||(u=s.clone(p,d),e.parentNode.insertBefore(u,e),o.push(u)),u.appendChild(e)):w=="li"&&r?u=T(e,r,p,o,v):(u=0,E(S(e.childNodes),v),L&&(m=A),u=0)}var u;E(e,v)}),h.wrap_links===!1&&E(o,function(e){function t(e){var n,r,i;if(e.nodeName==="A"){r=s.clone(p,d),o.push(r),i=S(e.childNodes);for(n=0;n<i.length;n++)r.appendChild(i[n]);e.appendChild(r)}E(S(e.childNodes),t)}t(e)}),E(o,function(e){function i(e){var t=0;return E(e.childNodes,function(e){!$(e)&&!Z(e)&&t++}),t}function u(e){var t,n;return E(e.childNodes,function(e){if(e.nodeType==1&&!Z(e)&&!k(e))return t=e,d}),t&&U(t,h)&&(n=s.clone(t,d),b(n),s.replace(n,e,v),s.remove(t,1)),n||e}var r;r=i(e);if((o.length>1||!f(e))&&r===0){s.remove(e,1);return}if(h.inline||h.wrapper){!h.exact&&r===1&&(e=u(e)),E(c,function(t){E(s.select(t.inline,e),function(e){var r;if(t.wrap_links===!1){r=e.parentNode;do if(r.nodeName==="A")return;while(r=r.parentNode)}Q(t,n,e,t.exact?e:null)})});if(j(e.parentNode,t,n))return s.remove(e,1),e=0,v;h.merge_with_parents&&s.getParent(e.parentNode,function(r){if(j(r,t,n))return s.remove(e,1),e=0,v}),e&&h.merge_siblings!==!1&&(e=et(Y(e),e),e=et(e,Y(e,v)))}})}var c=O(t),h=c[0],p,m,g=!i&&o.isCollapsed();if(h)if(i)i.nodeType?(m=s.createRng(),m.setStartBefore(i),m.setEndAfter(i),C(K(m,c),null,!0)):C(i,null,!0);else if(!g||!h.inline||s.select("td.mce-item-selected,th.mce-item-selected").length){var L=r.selection.getNode();!l&&c[0].defaultBlock&&!s.getParent(L,s.isBlock)&&P(c[0].defaultBlock),r.selection.setRng(w()),p=o.getBookmark(),C(K(o.getRng(v),c),p),h.styles&&(h.styles.color||h.styles.textDecoration)&&(x(L,D,"childNodes"),D(L)),o.moveToBookmark(p),rt(o.getRng(v)),r.nodeChanged()}else nt("apply",t,n)}function H(e,t,n){function m(e){var n,r,s,o,u;e.nodeType===1&&y(e)&&(o=p,p=y(e)==="true",u=!0),n=S(e.childNodes);if(p&&!u)for(r=0,s=i.length;r<s;r++)if(Q(i[r],t,e,e))break;if(a.deep&&n.length){for(r=0,s=n.length;r<s;r++)m(n[r]);u&&(p=o)}}function g(n){var r;return E(C(n.parentNode).reverse(),function(n){var i;!r&&n.id!="_start"&&n.id!="_end"&&(i=j(n,e,t),i&&i.split!==!1&&(r=n))}),r}function b(e,n,r,o){var u,l,c,h,p,v;if(e){v=e.parentNode;for(u=n.parentNode;u&&u!=v;u=u.parentNode){l=s.clone(u,d);for(p=0;p<i.length;p++)if(Q(i[p],t,l,l)){l=0;break}l&&(c&&l.appendChild(c),h||(h=l),c=l)}o&&(!a.mixed||!f(e))&&(n=s.split(e,n)),c&&(r.parentNode.insertBefore(c,r),h.appendChild(r))}return n}function w(e){return b(g(e),e,e,!0)}function x(e){var t=s.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return Z(n)&&(n=n[e?"firstChild":"lastChild"]),s.remove(t,!0),n}function T(e){var t,n;e=K(e,i,v),a.split&&(t=tt(e,v),n=tt(e),t!=n?(/^(TR|TD)$/.test(t.nodeName)&&t.firstChild&&(t.nodeName=="TD"?t=t.firstChild||t:t=t.firstChild.firstChild||t),t=J(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=J(n,"span",{id:"_end","data-mce-type":"bookmark"}),w(t),w(n),t=x(v),n=x()):t=n=w(t),e.startContainer=t.parentNode,e.startOffset=c(t),e.endContainer=n.parentNode,e.endOffset=c(n)+1),u.walk(e,function(e){E(e,function(e){m(e),e.nodeType===1&&r.dom.getStyle(e,"text-decoration")==="underline"&&e.parentNode&&_(e.parentNode)==="underline"&&Q({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var i=O(e),a=i[0],l,h,p=!0;if(n){n.nodeType?(h=s.createRng(),h.setStartBefore(n),h.setEndAfter(n),T(h)):T(n);return}!o.isCollapsed()||!a.inline||s.select("td.mce-item-selected,th.mce-item-selected").length?(l=o.getBookmark(),T(o.getRng(v)),o.moveToBookmark(l),a.inline&&F(e,t,o.getStart())&&rt(o.getRng(!0)),r.nodeChanged()):nt("remove",e,t)}function B(e,t,n){var r=O(e);!F(e,t,n)||"toggle"in r[0]&&!r[0].toggle?P(e,t,n):H(e,t,n)}function j(e,t,n,r){function f(e,t,i){var o,u,a=t[i],f;if(t.onmatch)return t.onmatch(e,t,i);if(a)if(a.length===g){for(o in a)if(a.hasOwnProperty(o)){i==="attributes"?u=s.getAttrib(e,o):u=W(e,o);if(r&&!u&&!t.exact)return;if((!r||t.exact)&&!z(u,X(V(a[o],n),o)))return}}else for(f=0;f<a.length;f++)if(i==="attributes"?s.getAttrib(e,a[f]):W(e,a[f]))return t;return t}var i=O(t),o,u,a;if(i&&e)for(u=0;u<i.length;u++){o=i[u];if(U(e,o)&&f(e,o,"attributes")&&f(e,o,"styles")){if(a=o.classes)for(u=0;u<a.length;u++)if(!s.hasClass(e,a[u]))return;return o}}}function F(e,t,n){function i(n){return n=s.getParent(n,function(n){return!!j(n,e,t,!0)}),j(n,e,t)}var r;return n?i(n):(n=o.getNode(),i(n)?v:(r=o.getStart(),r!=n&&i(r)?v:d))}function I(e,t){var n,r=[],i={};return n=o.getStart(),s.getParent(n,function(n){var s,o;for(s=0;s<e.length;s++)o=e[s],!i[o]&&j(n,o,t)&&(i[o]=!0,r.push(o))},s.getRoot()),r}function q(e){var t=O(e),n,r,i,u,a;if(t){n=o.getStart(),r=C(n);for(u=t.length-1;u>=0;u--){a=t[u].selector;if(!a)return v;for(i=r.length-1;i>=0;i--)if(s.is(r[i],a))return v}}return d}function R(e,t,n){var i;return m||(m={},i={},r.on("NodeChange",function(e){var t=C(e.element),n={};E(m,function(e,r){E(t,function(s){if(j(s,r,{},e.similar))return i[r]||(E(e,function(e){e(!0,{node:s,format:r,parents:t})}),i[r]=e),n[r]=e,!1})}),E(i,function(r,s){n[s]||(delete i[s],E(r,function(n){n(!1,{node:e.element,format:s,parents:t})}))})})),E(e.split(","),function(e){m[e]||(m[e]=[],m[e].similar=n),m[e].push(t)}),this}function U(e,t){if(z(e,t.inline))return v;if(z(e,t.block))return v;if(t.selector)return e.nodeType==1&&s.is(e,t.selector)}function z(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function W(e,t){return X(s.getStyle(e,t),t)}function X(e,t){if(t=="color"||t=="backgroundColor")e=s.toHex(e);return t=="fontWeight"&&e==700&&(e="bold"),t=="fontFamily"&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function V(e,t){return typeof e!="string"?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function $(e){return e&&e.nodeType===3&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function J(e,t,n){var r=s.create(t,n);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function K(t,n,i){function m(e){function a(e){return e.nodeName=="BR"&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var t,r,i,o,u;t=r=e?l:p,o=e?"previousSibling":"nextSibling",u=s.getRoot();if(t.nodeType==3&&!$(t))if(e?h>0:v<t.nodeValue.length)return t;for(;;){if(!n[0].block_expand&&f(r))return r;for(i=r[o];i;i=i[o])if(!Z(i)&&!$(i)&&!a(i))return r;if(r.parentNode==u){t=r;break}r=r.parentNode}return t}function b(e,t){t===g&&(t=e.nodeType===3?e.length:e.childNodes.length);while(e&&e.hasChildNodes())e=e.childNodes[t],e&&(t=e.nodeType===3?e.length:e.childNodes.length);return{node:e,offset:t}}function w(e){var t=e;while(t){if(t.nodeType===1&&y(t))return y(t)==="false"?t:e;t=t.parentNode}return e}function E(t,n,o){function h(e,t){var n,r,s=e.nodeValue;return typeof t=="undefined"&&(t=o?s.length:0),o?(n=s.lastIndexOf(" ",t),r=s.lastIndexOf(" ",t),n=n>r?n:r,n!==-1&&!i&&n++):(n=s.indexOf(" ",t),r=s.indexOf(" ",t),n=n!==-1&&(r===-1||n<r)?n:r),n}var u,a,l,c;if(t.nodeType===3){l=h(t,n);if(l!==-1)return{container:t,offset:l};c=t}u=new e(t,s.getParent(t,f)||r.getBody());while(a=u[o?"prev":"next"]())if(a.nodeType===3){c=a,l=h(a);if(l!==-1)return{container:a,offset:l}}else if(f(a))break;if(c)return o?n=0:n=c.length,{container:c,offset:n}}function S(e,r){var i,o,u,a;e.nodeType==3&&e.nodeValue.length===0&&e[r]&&(e=e[r]),i=C(e);for(o=0;o<i.length;o++)for(u=0;u<n.length;u++){a=n[u];if("collapsed"in a&&a.collapsed!==t.collapsed)continue;if(s.is(i[o],a.selector))return i[o]}return e}function x(e,t){var r;n[0].wrapper||(r=s.getParent(e,n[0].block)),r||(r=s.getParent(e.nodeType==3?e.parentNode:e,N)),r&&n[0].wrapper&&(r=C(r,"ul,ol").reverse()[0]||r);if(!r){r=e;while(r[t]&&!f(r[t])){r=r[t];if(z(r,"br"))break}}return r||e}var o,u,a,l=t.startContainer,h=t.startOffset,p=t.endContainer,v=t.endOffset;l.nodeType==1&&l.hasChildNodes()&&(o=l.childNodes.length-1,l=l.childNodes[h>o?o:h],l.nodeType==3&&(h=0)),p.nodeType==1&&p.hasChildNodes()&&(o=p.childNodes.length-1,p=p.childNodes[v>o?o:v-1],p.nodeType==3&&(v=p.nodeValue.length)),l=w(l),p=w(p);if(Z(l.parentNode)||Z(l))l=Z(l)?l:l.parentNode,l=l.nextSibling||l,l.nodeType==3&&(h=0);if(Z(p.parentNode)||Z(p))p=Z(p)?p:p.parentNode,p=p.previousSibling||p,p.nodeType==3&&(v=p.length);if(n[0].inline){t.collapsed&&(a=E(l,h,!0),a&&(l=a.container,h=a.offset),a=E(p,v),a&&(p=a.container,v=a.offset)),u=b(p,v);if(u.node){while(u.node&&u.offset===0&&u.node.previousSibling)u=b(u.node.previousSibling);u.node&&u.offset>0&&u.node.nodeType===3&&u.node.nodeValue.charAt(u.offset-1)===" "&&u.offset>1&&(p=u.node,p.splitText(u.offset-1))}}if(n[0].inline||n[0].block_expand){if(!n[0].inline||l.nodeType!=3||h===0)l=m(!0);if(!n[0].inline||p.nodeType!=3||v===p.nodeValue.length)p=m()}n[0].selector&&n[0].expand!==d&&!n[0].inline&&(l=S(l,"previousSibling"),p=S(p,"nextSibling"));if(n[0].block||n[0].selector)l=x(l,"previousSibling"),p=x(p,"nextSibling"),n[0].block&&(f(l)||(l=m(!0)),f(p)||(p=m()));return l.nodeType==1&&(h=c(l),l=l.parentNode),p.nodeType==1&&(v=c(p)+1,p=p.parentNode),{startContainer:l,startOffset:h,endContainer:p,endOffset:v}}function Q(e,t,n,r){var i,o,u;if(!U(n,e))return d;if(e.remove!="all"){E(e.styles,function(e,i){e=X(V(e,t),i),typeof i=="number"&&(i=e,r=0),(!r||z(W(r,i),e))&&s.setStyle(n,i,""),u=1}),u&&s.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),E(e.attributes,function(e,i){var o;e=V(e,t),typeof i=="number"&&(i=e,r=0);if(!r||z(s.getAttrib(r,i),e)){if(i=="class"){e=s.getAttrib(n,i);if(e){o="",E(e.split(/\s+/),function(e){/mce\w+/.test(e)&&(o+=(o?" ":"")+e)});if(o){s.setAttrib(n,i,o);return}}}i=="class"&&n.removeAttribute("className"),p.test(i)&&n.removeAttribute("data-mce-"+i),n.removeAttribute(i)}}),E(e.classes,function(e){e=V(e,t),(!r||s.hasClass(r,e))&&s.removeClass(n,e)}),o=s.getAttribs(n);for(i=0;i<o.length;i++)if(o[i].nodeName.indexOf("_")!==0)return d}if(e.remove!="none")return G(n,e),v}function G(e,t){function i(e,t,n){return e=Y(e,t,n),!e||e.nodeName=="BR"||f(e)}var n=e.parentNode,r;t.block&&(l?n==s.getRoot()&&(!t.list_block||!z(e,t.list_block))&&E(S(e.childNodes),function(e){a(l,e.nodeName.toLowerCase())?r?r.appendChild(e):r=J(e,l):r=0}):f(e)&&!f(n)&&(!i(e,d)&&!i(e.firstChild,v,1)&&e.insertBefore(s.create("br"),e.firstChild),!i(e,v)&&!i(e.lastChild,d,1)&&e.appendChild(s.create("br"))));if(t.selector&&t.inline&&!z(t.inline,e))return;s.remove(e,1)}function Y(e,t,n){if(e){t=t?"nextSibling":"previousSibling";for(e=n?e:e[t];e;e=e[t])if(e.nodeType==1||!$(e))return e}}function Z(e){return e&&e.nodeType==1&&e.getAttribute("data-mce-type")=="bookmark"}function et(e,t){function i(e,t){function n(e){var t=
{};return E(s.getAttribs(e),function(n){var r=n.nodeName.toLowerCase();r.indexOf("_")!==0&&r!=="style"&&(t[r]=s.getAttrib(e,r))}),t}function r(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){n=t[r];if(n===g)return d;if(e[r]!=n)return d;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return d;return v}return e.nodeName!=t.nodeName?d:r(n(e),n(t))?r(s.parseStyle(s.getAttrib(e,"style")),s.parseStyle(s.getAttrib(t,"style")))?v:d:d}function o(e,t){for(n=e;n;n=n[t]){if(n.nodeType==3&&n.nodeValue.length!==0)return e;if(n.nodeType==1&&!Z(n))return n}return e}var n,r;if(e&&t){e=o(e,"previousSibling"),t=o(t,"nextSibling");if(i(e,t)){for(n=e.nextSibling;n&&n!=t;)r=n,n=n.nextSibling,e.appendChild(r);return s.remove(t),E(S(t.childNodes),function(t){e.appendChild(t)}),e}}return t}function tt(t,n){var i,s,o;return i=t[n?"startContainer":"endContainer"],s=t[n?"startOffset":"endOffset"],i.nodeType==1&&(o=i.childNodes.length-1,!n&&s&&s--,i=i.childNodes[s>o?o:s]),i.nodeType===3&&n&&s>=i.nodeValue.length&&(i=(new e(i,r.getBody())).next()||i),i.nodeType===3&&!n&&s===0&&(i=(new e(i,r.getBody())).prev()||i),i}function nt(t,n,i){function l(e){var t=s.create("span",{id:a,"data-mce-bogus":!0,style:f?"color:red":""});return e&&t.appendChild(r.getDoc().createTextNode(h)),t}function c(e,t){while(e){if(e.nodeType===3&&e.nodeValue!==h||e.childNodes.length>1)return!1;t&&e.nodeType===1&&t.push(e),e=e.firstChild}return!0}function p(e){while(e){if(e.id===a)return e;e=e.parentNode}}function d(t){var n;if(t){n=new e(t,t);for(t=n.current();t;t=n.next())if(t.nodeType===3)return t}}function v(e,t){var n,r;if(!e){e=p(o.getStart());if(!e)while(e=s.get(a))v(e,!1)}else r=o.getRng(!0),c(e)?(t!==!1&&(r.setStartBefore(e),r.setEndBefore(e)),s.remove(e)):(n=d(e),n.nodeValue.charAt(0)===h&&(n=n.deleteData(0,1)),s.remove(e,1)),o.setRng(r)}function m(){var e,t,r,s,a,f,c;e=o.getRng(!0),s=e.startOffset,f=e.startContainer,c=f.nodeValue,t=p(o.getStart()),t&&(r=d(t)),c&&s>0&&s<c.length&&/\w/.test(c.charAt(s))&&/\w/.test(c.charAt(s-1))?(a=o.getBookmark(),e.collapse(!0),e=K(e,O(n)),e=u.split(e),P(n,i,e),o.moveToBookmark(a)):(!t||r.nodeValue!==h?(t=l(!0),r=t.firstChild,e.insertNode(t),s=1,P(n,i,t)):P(n,i,t),o.setCursorLocation(r,s))}function g(){var e=o.getRng(!0),t,r,a,f,c,p,d=[],v,m;t=e.startContainer,r=e.startOffset,c=t;if(t.nodeType==3){if(r!=t.nodeValue.length||t.nodeValue===h)f=!0;c=c.parentNode}while(c){if(j(c,n,i)){p=c;break}c.nextSibling&&(f=!0),d.push(c),c=c.parentNode}if(!p)return;if(f)a=o.getBookmark(),e.collapse(!0),e=K(e,O(n),!0),e=u.split(e),H(n,i,e),o.moveToBookmark(a);else{m=l(),c=m;for(v=d.length-1;v>=0;v--)c.appendChild(s.clone(d[v],!1)),c=c.firstChild;c.appendChild(s.doc.createTextNode(h)),c=c.firstChild;var g=s.getParent(p,N);g&&s.isEmpty(g)?p.parentNode.replaceChild(m,p):s.insertAfter(m,p),o.setCursorLocation(c,1)}}function y(){var e;e=p(o.getStart()),e&&!s.isEmpty(e)&&x(e,function(e){e.nodeType==1&&e.id!==a&&!s.isEmpty(e)&&s.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var a="_mce_caret",f=r.settings.caret_debug;r._hasCaretEvents||(w=function(){var e=[],t;if(c(p(o.getStart()),e)){t=e.length;while(t--)s.setAttrib(e[t],"data-mce-bogus","1")}},b=function(e){var t=e.keyCode;v(),(t==8||t==37||t==39)&&v(p(o.getStart())),y()},r.on("SetContent",function(e){e.selection&&y()}),r._hasCaretEvents=!0),t=="apply"?m():g()}function rt(t){var n=t.startContainer,r=t.startOffset,i,u,a,f,l;n.nodeType==3&&r>=n.nodeValue.length&&(r=c(n),n=n.parentNode,i=!0);if(n.nodeType==1){f=n.childNodes,n=f[Math.min(r,f.length-1)],u=new e(n,s.getParent(n,s.isBlock)),(r>f.length-1||i)&&u.next();for(a=u.current();a;a=u.next())if(a.nodeType==3&&!$(a)){l=s.create("a",null,h),a.parentNode.insertBefore(l,a),t.setStart(a,0),o.setRng(t),s.remove(l);return}}}var i={},s=r.dom,o=r.selection,u=new t(s),a=r.schema.isValidChild,f=s.isBlock,l=r.settings.forced_root_block,c=s.nodeIndex,h="﻿",p=/^(src|href|style)$/,d=!1,v=!0,m,g,y=s.getContentEditable,b,w,E=n.each,S=n.grep,x=n.walk,T=n.extend;T(this,{get:O,register:M,apply:P,remove:H,toggle:B,match:F,matchAll:I,matchNode:j,canApply:q,formatChanged:R}),L(),A(),r.on("BeforeGetContent",function(){w&&w()}),r.on("mouseup keydown",function(e){b&&b(e)})}}),i("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools"],function(e,t){var n=t.trim,r;return r=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[​﻿]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(t){function f(){return n(t.getContent({format:"raw",no_events:1}).replace(r,""))}function l(){i.typing=!1,i.add()}var i,s=0,o=[],u,a;return t.on("init",function(){i.add()}),t.on("BeforeExecCommand",function(e){var t=e.command;t!="Undo"&&t!="Redo"&&t!="mceRepaint"&&i.beforeChange()}),t.on("ExecCommand",function(e){var t=e.command;t!="Undo"&&t!="Redo"&&t!="mceRepaint"&&i.add()}),t.on("ObjectResizeStart",function(){i.beforeChange()}),t.on("SaveContent ObjectResized",l),t.dom.bind(t.dom.getRoot(),"dragend",l),t.dom.bind(t.getBody(),"focusout",function(){!t.removed&&i.typing&&l()}),t.on("KeyUp",function(n){var r=n.keyCode;if(r>=33&&r<=36||r>=37&&r<=40||r==45||r==13||n.ctrlKey)l(),t.nodeChanged();(r==46||r==8||e.mac&&(r==91||r==93))&&t.nodeChanged(),a&&i.typing&&(t.isDirty()||(t.isNotDirty=!o[0]||f()==o[0].content),t.fire("TypingUndo"),a=!1,t.nodeChanged())}),t.on("KeyDown",function(e){var t=e.keyCode;if(t>=33&&t<=36||t>=37&&t<=40||t==45){i.typing&&l();return}(t<16||t>20)&&t!=224&&t!=91&&!i.typing&&(i.beforeChange(),i.typing=!0,i.add(),a=!0)}),t.on("MouseDown",function(){i.typing&&l()}),t.addShortcut("ctrl+z","","Undo"),t.addShortcut("ctrl+y,ctrl+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos MouseUp",function(e){e.isDefaultPrevented()||t.nodeChanged()}),i={data:o,typing:!1,beforeChange:function(){u=t.selection.getBookmark(2,!0)},add:function(e){var n,r=t.settings,i;e=e||{},e.content=f();if(t.fire("BeforeAddUndo",{level:e}).isDefaultPrevented())return null;i=o[s];if(i&&i.content==e.content)return null;o[s]&&(o[s].beforeBookmark=u);if(r.custom_undo_redo_levels&&o.length>r.custom_undo_redo_levels){for(n=0;n<o.length-1;n++)o[n]=o[n+1];o.length--,s=o.length}e.bookmark=t.selection.getBookmark(2,!0),s<o.length-1&&(o.length=s+1),o.push(e),s=o.length-1;var a={level:e,lastLevel:i};return t.fire("AddUndo",a),s>0&&(t.fire("change",a),t.isNotDirty=!1),e},undo:function(){var e;return i.typing&&(i.add(),i.typing=!1),s>0&&(e=o[--s],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.beforeBookmark),t.fire("undo",{level:e})),e},redo:function(){var e;return s<o.length-1&&(e=o[++s],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.bookmark),t.fire("redo",{level:e})),e},clear:function(){o=[],s=0,i.typing=!1,t.fire("ClearUndos")},hasUndo:function(){return s>0||i.typing&&o[0]&&f()!=o[0].content},hasRedo:function(){return s<o.length-1&&!this.typing},transact:function(e){i.beforeChange(),e(),i.add()}},i}}),i("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/Env"],function(e,t){var n=t.ie;return function(t){function f(f){function N(e){return e&&r.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&r.getContentEditable(e)!=="true"}function C(e){var t;r.isBlock(e)&&(t=i.getRng(),e.appendChild(r.create("span",null," ")),i.select(e),e.lastChild.outerHTML="",i.setRng(t))}function k(e){var t=e,n=[],i;while(t=t.firstChild){if(r.isBlock(t))return;t.nodeType==1&&!a[t.nodeName.toLowerCase()]&&n.push(t)}i=n.length;while(i--)t=n[i],!t.hasChildNodes()||t.firstChild==t.lastChild&&t.firstChild.nodeValue===""?r.remove(t):t.nodeName=="A"&&(t.innerText||t.textContent)===" "&&r.remove(t)}function L(t){var n,s,o,u=t,f;o=r.createRng();if(t.hasChildNodes()){n=new e(t,t);while(s=n.current()){if(s.nodeType==3){o.setStart(s,0),o.setEnd(s,0);break}if(a[s.nodeName.toLowerCase()]){o.setStartBefore(s),o.setEndBefore(s);break}u=s,s=n.next()}s||(o.setStart(u,0),o.setEnd(u,0))}else if(t.nodeName=="BR")if(t.nextSibling&&r.isBlock(t.nextSibling)){if(!m||m<9)f=r.create("br"),t.parentNode.insertBefore(f,t);o.setStartBefore(t),o.setEndBefore(t)}else o.setStartAfter(t),o.setEndAfter(t);else o.setStart(t,0),o.setEnd(t,0);i.setRng(o),r.remove(f),i.scrollIntoView(t)}function A(e){var t=p,i,o,u;i=e||E=="TABLE"?r.create(e||x):v.cloneNode(!1),u=i;if(s.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(t.nodeName)){if(t.id=="_mce_caret")continue;o=t.cloneNode(!1),r.setAttrib(o,"id",""),i.hasChildNodes()?(o.appendChild(i.firstChild),i.appendChild(o)):(u=o,i.appendChild(o))}while(t=t.parentNode);return n||(u.innerHTML='<br data-mce-bogus="1">'),i}function O(t){var n,r,i;if(p.nodeType==3&&(t?d>0:d<p.nodeValue.length))return!1;if(p.parentNode==v&&T&&!t)return!0;if(t&&p.nodeType==1&&p==v.firstChild)return!0;if(p.nodeName==="TABLE"||p.previousSibling&&p.previousSibling.nodeName=="TABLE")return T&&!t||!T&&t;n=new e(p,v),p.nodeType==3&&(t&&d===0?n.prev():!t&&d==p.nodeValue.length&&n.next());while(r=n.current()){if(r.nodeType===1){if(!r.getAttribute("data-mce-bogus")){i=r.nodeName.toLowerCase();if(a[i]&&i!=="br")return!1}}else if(r.nodeType===3&&!/^[ \t\r\n]*$/.test(r.nodeValue))return!1;t?n.prev():n.next()}return!0}function M(e,n){var i,s,o,a,f,c,p=x||"P";s=r.getParent(e,r.isBlock),c=t.getBody().nodeName.toLowerCase();if(!s||!N(s)){s=s||h;if(!s.hasChildNodes())return i=r.create(p),s.appendChild(i),l.setStart(i,0),l.setEnd(i,0),i;a=e;while(a.parentNode!=s)a=a.parentNode;while(a&&!r.isBlock(a))o=a,a=a.previousSibling;if(o&&u.isValidChild(c,p.toLowerCase())){i=r.create(p),o.parentNode.insertBefore(i,o),a=o;while(a&&!r.isBlock(a))f=a.nextSibling,i.appendChild(a),a=f;l.setStart(e,n),l.setEnd(e,n)}}return e}function _(){function e(e){var t=w[e?"firstChild":"lastChild"];while(t){if(t.nodeType==1)break;t=t[e?"nextSibling":"previousSibling"]}return t===v}function t(){var e=w.parentNode;return e.nodeName=="LI"?e:w}var n=w.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(x="LI"),y=x?A(x):r.create("BR"),e(!0)&&e()?n=="LI"?r.insertAfter(y,t()):r.replace(y,w):e(!0)?n=="LI"?(r.insertAfter(y,t()),y.appendChild(r.doc.createTextNode(" ")),y.appendChild(w)):w.parentNode.insertBefore(y,w):e()?(r.insertAfter(y,t()),C(y)):(w=t(),c=l.cloneRange(),c.setStartAfter(v),c.setEndAfter(w),b=c.extractContents(),r.insertAfter(b,w),r.insertAfter(y,w)),r.remove(v),L(y),o.add()}function D(){var t=new e(p,v),n;while(n=t.next())if(a[n.nodeName.toLowerCase()]||n.length>0)return!0}function P(){var e,t,s;p&&p.nodeType==3&&d>=p.nodeValue.length&&!n&&!D()&&(e=r.create("br"),l.insertNode(e),l.setStartAfter(e),l.setEndAfter(e),t=!0),e=r.create("br"),l.insertNode(e),n&&E=="PRE"&&(!m||m<8)&&e.parentNode.insertBefore(r.doc.createTextNode("\r"),e),s=r.create("span",{},"&nbsp;"),e.parentNode.insertBefore(s,e),i.scrollIntoView(s),r.remove(s),t?(l.setStartBefore(e),l.setEndBefore(e)):(l.setStartAfter(e),l.setEndAfter(e)),i.setRng(l),o.add()}function H(e){do e.nodeType===3&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function B(e){var t=r.getRoot(),n,i;n=e;while(n!==t&&r.getContentEditable(n)!=="false")r.getContentEditable(n)==="true"&&(i=n),n=n.parentNode;return n!==t?i:t}function j(e){var t;n||(e.normalize(),t=e.lastChild,(!t||/^(left|right)$/gi.test(r.getStyle(t,"float",!0)))&&r.add(e,"br"))}var l=i.getRng(!0),c,h,p,d,v,m,g,y,b,w,E,S,x,T;if(!l.collapsed){t.execCommand("Delete");return}if(f.isDefaultPrevented())return;p=l.startContainer,d=l.startOffset,x=(s.force_p_newlines?"p":"")||s.forced_root_block,x=x?x.toUpperCase():"",m=r.doc.documentMode,g=f.shiftKey,p.nodeType==1&&p.hasChildNodes()&&(T=d>p.childNodes.length-1,p=p.childNodes[Math.min(d,p.childNodes.length-1)]||p,T&&p.nodeType==3?d=p.nodeValue.length:d=0),h=B(p);if(!h)return;o.beforeChange();if(!r.isBlock(h)&&h!=r.getRoot()){(!x||g)&&P();return}if(x&&!g||!x&&g)p=M(p,d);v=r.getParent(p,r.isBlock),w=v?r.getParent(v.parentNode,r.isBlock):null,E=v?v.nodeName.toUpperCase():"",S=w?w.nodeName.toUpperCase():"",S=="LI"&&!f.ctrlKey&&(v=w,E=S);if(E=="LI"){if(!x&&g){P();return}if(r.isEmpty(v)){_();return}}if(E=="PRE"&&s.br_in_pre!==!1){if(!g){P();return}}else if(!x&&!g&&E!="LI"||x&&g){P();return}if(x&&v===t.getBody())return;x=x||"P",O()?(/^(H[1-6]|PRE|FIGURE)$/.test(E)&&S!="HGROUP"?y=A(x):y=A(),s.end_container_on_empty_block&&N(w)&&r.isEmpty(v)?y=r.split(w,v):r.insertAfter(y,v),L(y)):O(!0)?(y=v.parentNode.insertBefore(A(),v),C(y)):(c=l.cloneRange(),c.setEndAfter(v),b=c.extractContents(),H(b),y=b.firstChild,r.insertAfter(b,v),k(y),j(v),L(y)),r.setAttrib(y,"id",""),o.add()}var r=t.dom,i=t.selection,s=t.settings,o=t.undoManager,u=t.schema,a=u.getNonEmptyElements();t.on("keydown",function(e){e.keyCode==13&&f(e)!==!1&&e.preventDefault()})}}),i("tinymce/ForceBlocks",[],function(){return function(e){function o(){var o=r.getStart(),u=e.getBody(),a,f,l,c,h,p,d,v=-16777215,m,g,y,b,w;w=t.forced_root_block;if(!o||o.nodeType!==1||!w)return;while(o&&o!=u){if(s[o.nodeName])return;o=o.parentNode}a=r.getRng();if(a.setStart){f=a.startContainer,l=a.startOffset,c=a.endContainer,h=a.endOffset;try{g=e.getDoc().activeElement===u}catch(E){}}else a.item&&(o=a.item(0),a=e.getDoc().body.createTextRange(),a.moveToElementText(o)),g=a.parentElement().ownerDocument===e.getDoc(),y=a.duplicate(),y.collapse(!0),l=y.move("character",v)*-1,y.collapsed||(y=a.duplicate(),y.collapse(!1),h=y.move("character",v)*-1-l);o=u.firstChild,b=u.nodeName.toLowerCase();while(o)if((o.nodeType===3||o.nodeType==1&&!s[o.nodeName])&&i.isValidChild(b,w.toLowerCase())){if(o.nodeType===3&&o.nodeValue.length===0){d=o,o=o.nextSibling,n.remove(d);continue}p||(p=n.create(w),o.parentNode.insertBefore(p,o),m=!0),d=o,o=o.nextSibling,p.appendChild(d)}else p=null,o=o.nextSibling;if(m&&g){if(a.setStart)a.setStart(f,l),a.setEnd(c,h),r.setRng(a);else try{a=e.getDoc().body.createTextRange(),a.moveToElementText(u),a.collapse(!0),a.moveStart("character",l),h>0&&a.moveEnd("character",h),a.select()}catch(E){}e.nodeChanged()}}var t=e.settings,n=e.dom,r=e.selection,i=e.schema,s=i.getBlockElements();t.forced_root_block&&e.on("KeyUp NodeChange",o)}}),i("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools"],function(e,n,r){var i=r.each,s=r.extend,o=r.map,u=r.inArray,a=r.explode,f=n.gecko,l=n.ie,c=!0,h=!1;return function(n){function y(e,t,n){var r;return e=e.toLowerCase(),(r=d.exec[e])?(r(e,t,n),c):h}function b(e){var t;return e=e.toLowerCase(),(t=d.state[e])?t(e):-1}function w(e){var t;return e=e.toLowerCase(),(t=d.value[e])?t(e):h}function E(e,t){t=t||"exec",i(e,function(e,n){i(n.toLowerCase().split(","),function(n){d[t][n]=e})})}function S(e,r,i){return r===t&&(r=h),i===t&&(i=null),n.getDoc().execCommand(e,r,i)}function x(e){return m.match(e)}function T(e,r){m.toggle(e,r?{value:r}:t),n.nodeChanged()}function N(e){g=p.getBookmark(e)}function C(){p.moveToBookmark(g)}var r=n.dom,p=n.selection,d={state:{},exec:{},value:{}},v=n.settings,m=n.formatter,g;s(this,{execCommand:y,queryCommandState:b,queryCommandValue:w,addCommands:E}),E({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(e){var t=n.getDoc(),r;try{S(e)}catch(i){r=c}(r||!t.queryCommandSupported(e))&&n.windowManager.alert("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")},unlink:function(e){p.isCollapsed()&&p.select(p.getNode()),S(e),p.collapse(h)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);t=="full"&&(t="justify"),i("left,center,right,justify".split(","),function(e){t!=e&&m.remove("align"+e)}),T("align"+t),y("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;S(e),t=r.getParent(p.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(N(),r.split(n,t),C()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){T(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){T(e,n)},FontSize:function(e,t,n){var r,i;n>=1&&n<=7&&(i=a(v.font_size_style_values),r=a(v.font_size_classes),r?n=r[n-1]||n:n=i[n-1]||n),T(e,n)},RemoveFormat:function(e){m.remove(e)},mceBlockQuote:function(){T("blockquote")},FormatBlock:function(e,t,n){return T(n||"p")},mceCleanup:function(){var e=p.getBookmark();n.setContent(n.getContent({cleanup:c}),{cleanup:c}),p.moveToBookmark(e)},mceRemoveNode:function(e,t,r){var i=r||p.getNode();i!=n.getBody()&&(N(),n.dom.remove(i,c),C())},mceSelectNodeDepth:function(e,t,i){var s=0;r.getParent(p.getNode(),function(e){if(e.nodeType==1&&s++==i)return p.select(e),h},n.getBody())},mceSelectNode:function(e,t,n){p.select(n)},mceInsertContent:function(t,i,s){function S(e){function i(e){return n[e]&&n[e].nodeType==3}var t,n,r;return t=p.getRng(!0),n=t.startContainer,r=t.startOffset,n.nodeType==3&&(r>0?e=e.replace(/^&nbsp;/," "):i("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):i("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}var o,u,a,f,c,h,d,v,m,g,y,b,w,E;/^ | $/.test(s)&&(s=S(s)),o=n.parser,u=new e({},n.schema),w='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',h={content:s,format:"html",selection:!0},n.fire("BeforeSetContent",h),s=h.content,s.indexOf("{$caret}")==-1&&(s+="{$caret}"),s=s.replace(/\{\$caret\}/,w),p.isCollapsed()||n.getDoc().execCommand("Delete",!1,null),a=p.getNode(),h={context:a.nodeName.toLowerCase()},c=o.parse(s,h),y=c.lastChild;if(y.attr("id")=="mce_marker"){d=y;for(y=y.prev;y;y=y.walk(!0))if(y.type==3||!r.isBlock(y.name)){y.parent.insert(d,y,y.name==="br");break}}if(!h.invalid)s=u.serialize(c),y=a.firstChild,b=a.lastChild,!y||y===b&&y.nodeName==="BR"?r.setHTML(a,s):p.setContent(s);else{p.setContent(w),a=p.getNode(),f=n.getBody(),a.nodeType==9?a=y=f:y=a;while(y!==f)a=y,y=y.parentNode;s=a==f?f.innerHTML:r.getOuterHTML(a),s=u.serialize(o.parse(s.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return u.serialize(c)}))),a==f?r.setHTML(f,s):r.setOuterHTML(a,s)}d=r.get("mce_marker"),v=r.getRect(d),m=r.getViewPort(n.getWin());if(v.y+v.h>m.y+m.h||v.y<m.y||v.x>m.x+m.w||v.x<m.x)E=l?n.getDoc().documentElement:n.getBody(),E.scrollLeft=v.x,E.scrollTop=v.y-m.h+25;g=r.createRng(),y=d.previousSibling,y&&y.nodeType==3?(g.setStart(y,y.nodeValue.length),l||(b=d.nextSibling,b&&b.nodeType==3&&(y.appendData(b.data),b.parentNode.removeChild(b)))):(g.setStartBefore(d),g.setEndBefore(d)),r.remove(d),p.setRng(g),n.fire("SetContent",h),n.addVisual()},mceInsertRawHTML:function(e,t,r){p.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(e,t,n){T(n)},mceSetContent:function(e,t,r){n.setContent(r)},"Indent,Outdent":function(e){var t,n,s;t=v.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),!b("InsertUnorderedList")&&!b("InsertOrderedList")?(!v.forced_root_block&&!r.getParent(p.getNode(),r.isBlock)&&m.apply("div"),i(p.getSelectedBlocks(),function(i){var o;i.nodeName!="LI"&&(o=r.getStyle(i,"direction",true)=="rtl"?"paddingRight":"paddingLeft",e=="outdent"?(s=Math.max(0,parseInt(i.style[o]||0,10)-t),r.setStyle(i,o,s?s+n:"")):(s=parseInt(i.style[o]||0,10)+t+n,r.setStyle(i,o,s)))})):S(e)},mceRepaint:function(){if(f)try{N(c),p.getSel()&&p.getSel().selectAllChildren(n.getBody()),p.collapse(c),C()}catch(e){}},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(e,t,r){n.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,p.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;typeof n=="string"&&(n={href:n}),i=r.getParent(p.getNode(),"a"),n.href=n.href.replace(" ","%20"),(!i||!n.href)&&m.remove("link"),n.href&&m.apply("link",n,i)},selectAll:function(){var e=r.getRoot(),t=r.createRng();p.getRng().setStart?(t.setStart(e,0),t.setEnd(e,e.childNodes.length),p.setRng(t)):S("SelectAll")},mceNewDocument:function(){n.setContent("")}}),E({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=p.isCollapsed()?[r.getParent(p.getNode(),r.isBlock)]:p.getSelectedBlocks(),i=o(n,function(e){return!!m.matchNode(e,t)});return u(i,c)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return x(e)},mceBlockQuote:function(){return x("blockquote")},Outdent:function(){var e;if(v.inline_styles){if((e=r.getParent(p.getStart(),r.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return c;if((e=r.getParent(p.getEnd(),r.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return c}return b("InsertUnorderedList")||b("InsertOrderedList")||!v.inline_styles&&!!r.getParent(p.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=r.getParent(p.getNode(),"ul,ol");return t&&(e==="insertunorderedlist"&&t.tagName==="UL"||e==="insertorderedlist"&&t.tagName==="OL")}},"state"),E({"FontSize,FontName":function(e){var t=0,n;if(n=r.getParent(p.getNode(),"span"))e=="fontsize"?t=n.style.fontSize:t=n.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return t}},"value"),E({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),i("tinymce/util/URI",["tinymce/util/Tools"],function(e){function r(e,i){var s=this,o,u;e=n(e),i=s.settings=i||{};if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){s.source=e;return}e.indexOf("/")===0&&e.indexOf("//")!==0&&(e=(i.base_uri?i.base_uri.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(u=i.base_uri?i.base_uri.path:(new r(location.href)).directory,e=(i.base_uri&&i.base_uri.protocol||"http")+"://mce_host"+s.toAbsPath(u,e)),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),t(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),s[t]=r}),o=i.base_uri;if(o){s.protocol||(s.protocol=o.protocol),s.userInfo||(s.userInfo=o.userInfo),!s.port&&s.host==="mce_host"&&(s.port=o.port);if(!s.host||s.host==="mce_host")s.host=o.host;s.source=""}}var t=e.each,n=e.trim;return r.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t=this,n;if(e==="./")return e;e=new r(e,{base_uri:t});if(e.host!="mce_host"&&t.host!=e.host&&e.host||t.port!=e.port||t.protocol!=e.protocol)return e.getURI();var i=t.getURI(),s=e.getURI();return i==s||i.charAt(i.length-1)=="/"&&i.substr(0,i.length-1)==s?i:(n=t.toRelPath(t.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,t){return e=new r(e,{base_uri:this}),e.getURI(this.host==e.host&&this.protocol==e.protocol?t:0)},toRelPath:function(e,t){var n,r=0,i="",s,o;e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/");if(e.length>=n.length)for(s=0,o=e.length;s<o;s++)if(s>=n.length||e[s]!=n[s]){r=s+1;break}if(e.length<n.length)for(s=0,o=n.length;s<o;s++)if(s>=e.length||e[s]!=n[s]){r=s+1;break}if(r===1)return t;for(s=0,o=e.length-(r-1);s<o;s++)i+="../";for(s=r-1,o=n.length;s<o;s++)s!=r-1?i+="/"+n[s]:i+=n[s];return i},toAbsPath:function(e,n){var r,i=0,s=[],o,u;o=/\/$/.test(n)?"/":"",e=e.split("/"),n=n.split("/"),t(e,function(e){e&&s.push(e)}),e=s;for(r=n.length-1,s=[];r>=0;r--){if(n[r].length===0||n[r]===".")continue;if(n[r]===".."){i++;continue}if(i>0){i--;continue}s.push(n[r])}return r=e.length-i,r<=0?u=s.reverse().join("/"):u=e.slice(0,r).join("/")+"/"+s.reverse().join("/"),u.indexOf("/")!==0&&(u="/"+u),o&&u.lastIndexOf("/")!==u.length-1&&(u+=o),u},getURI:function(e){var t,n=this;if(!n.source||e)t="",e||(n.protocol&&(t+=n.protocol+"://"),n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t;return n.source}},r}),i("tinymce/util/Class",["tinymce/util/Tools"],function(e){function s(){}var t=e.each,n=e.extend,r,i;return s.extend=r=function(e){function l(){var e,t,n,r;if(!i){r=this,r.init&&r.init.apply(r,arguments),t=r.Mixins;if(t){e=t.length;while(e--)n=t[e],n.init&&n.init.apply(r,arguments)}}}function c(){return this}function h(e,t){return function(){var n=this,r=n._super,i;return n._super=o[e],i=t.apply(n,arguments),n._super=r,i}}var s=this,o=s.prototype,u,a,f;i=!0,u=new s,i=!1,e.Mixins&&(t(e.Mixins,function(t){t=t;for(var n in t)n!=="init"&&(e[n]=t[n])}),o.Mixins&&(e.Mixins=o.Mixins.concat(e.Mixins))),e.Methods&&t(e.Methods.split(","),function(t){e[t]=c}),e.Properties&&t(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this,r;return e!==r?(t[n]=e,t):t[n]}}),e.Statics&&t(e.Statics,function(e,t){l[t]=e}),e.Defaults&&o.Defaults&&(e.Defaults=n({},o.Defaults,e.Defaults));for(a in e)f=e[a],typeof f=="function"&&o[a]?u[a]=h(a,f):u[a]=f;return l.prototype=u,l.constructor=l,l.extend=r,l},s}),i("tinymce/ui/Selector",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){function n(e){var t=[],n=e.length,r;while(n--)r=e[n],r.__checked||(t.push(r),r.__checked=1);n=t.length;while(n--)delete t[n].__checked;return t}var r=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,s=/^\s*|\s*$/g,o,u=e.extend({init:function(e){function n(e){if(e)return e=e.toLowerCase(),function(t){return e==="*"||t.type===e}}function o(e){if(e)return function(t){return t._name===e}}function u(e){if(e)return e=e.split("."),function(t){var n=e.length;while(n--)if(!t.hasClass(e[n]))return!1;return!0}}function a(e,t,n){if(e)return function(r){var i=r[e]?r[e]():"";return t?t==="="?i===n:t==="*="?i.indexOf(n)>=0:t==="~="?(" "+i+" ").indexOf(" "+n+" ")>=0:t==="!="?i!=n:t==="^="?i.indexOf(n)===0:t==="$="?i.substr(i.length-n.length)===n:!1:!!n}}function f(e){var n;if(e)return e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(n=c(e[1],[]),function(e){return!t(e,n)}):(e=e[2],function(t,n,r){return e==="first"?n===0:e==="last"?n===r-1:e==="even"?n%2===0:e==="odd"?n%2===1:t[e]?t[e]():!1})}function l(e,t,i){function c(e){e&&t.push(e)}var l;return l=r.exec(e.replace(s,"")),c(n(l[1])),c(o(l[2])),c(u(l[3])),c(a(l[4],l[5],l[6])),c(f(l[7])),t.psuedo=!!l[7],t.direct=i,t}function c(e,t){var n=[],r,s,o;do{i.exec(""),s=i.exec(e);if(s){e=s[3],n.push(s[1]);if(s[2]){r=s[3];break}}}while(s);r&&c(r,t),e=[];for(o=0;o<n.length;o++)n[o]!=">"&&e.push(l(n[o],[],n[o-1]===">"));return t.push(e),t}var t=this.match;this._selectors=c(e,[])},match:function(e,n){var r,i,s,o,u,a,f,l,c,h,p,d,v;n=n||this._selectors;for(r=0,i=n.length;r<i;r++){u=n[r],o=u.length,v=e,d=0;for(s=o-1;s>=0;s--){l=u[s];while(v){l.psuedo&&(p=v.parent().items(),c=t.inArray(v,p),h=p.length);for(a=0,f=l.length;a<f;a++)if(!l[a](v,c,h)){a=f+1;break}if(a===f){d++;break}if(s===o-1)break;v=v.parent()}}if(d===o)return!0}return!1},find:function(e){function a(e,n,r){var i,s,o,u,f,l=n[r];for(i=0,s=e.length;i<s;i++){f=e[i];for(o=0,u=l.length;o<u;o++)if(!l[o](f,i,s)){o=u+1;break}if(o===u)r==n.length-1?t.push(f):f.items&&a(f.items(),n,r+1);else if(l.direct)return;f.items&&a(f.items(),n,r)}}var t=[],r,i,s=this._selectors;if(e.items){for(r=0,i=s.length;r<i;r++)a(e.items(),s[r],0);i>1&&(t=n(t))}return o||(o=u.Collection),new o(t)}});return u}),i("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(e,t,n){var r,i,s=Array.prototype.push,o=Array.prototype.slice;return i={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?s.apply(n,t):t instanceof r?n.add(t.toArray()):s.call(n,t),n},set:function(e){var t=this,n=t.length,r;t.length=0,t.add(e);for(r=t.length;r<n;r++)delete t[r];return t},filter:function(e){var n=this,i,s,o=[],u,a;typeof e=="string"?(e=new t(e),a=function(t){return e.match(t)}):a=e;for(i=0,s=n.length;i<s;i++)u=n[i],a(u)&&o.push(u);return new r(o)},slice:function(){return new r(o.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){var t=this,n=t.length;while(n--)if(t[n]===e)break;return n},reverse:function(){return new r(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].hasClass(e):!1},prop:function(e,t){var n=this,r,i;if(t!==r)return n.each(function(n){n[e]&&n[e](t)}),n;i=n[0];if(i&&i[e])return i[e]()},exec:function(t){var n=this,r=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,r)}),n}},e.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(t){i[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){i[e]=function(t){return this.prop(e,t)}}),r=n.extend(i),t.Collection=r,r}),i("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(e,t){return{id:function(){return t.DOM.uniqueId()},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){return t.DOM.getSize(e)},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,r){return t.DOM.toggleClass(e,n,r)},css:function(e,n,r){return t.DOM.setStyle(e,n,r)},on:function(e,n,r,i){return t.DOM.bind(e,n,r,i)},off:function(e,n,r){return t.DOM.unbind(e,n,r)},fire:function(e,n,r){return t.DOM.fire(e,n,r)}}}),i("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(e,t,n,r){var i=t.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),s={},o="onmousewheel"in document,u=!1,a=e.extend({Statics:{controlIdLookup:{}},classPrefix:"mce-",init:function(e){var n=this,i,s;n.settings=e=t.extend({},n.Defaults,e),n._id=r.id(),n._text=n._name="",n._width=n._height=0,n._aria={role:e.role},i=e.classes;if(i){i=i.split(" "),i.map={},s=i.length;while(s--)i.map[i[s]]=!0}n._classes=i||[],n.visible(!0),t.each("title text width height name classes visible disabled active value".split(" "),function(t){var r=e[t],i;r!==i?n[t](r):n["_"+t]===i&&(n["_"+t]=!1)}),n.on("click",function(){if(n.disabled())return!1}),e.classes&&t.each(e.classes.split(" "),function(e){n.addClass(e)}),n.settings=e,n._borderBox=n.parseBox(e.border),n._paddingBox=n.parseBox(e.padding),n._marginBox=n.parseBox(e.margin),e.hidden&&n.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(e){var t;while(e){t=a.controlIdLookup[e.id];if(t)break;e=e.parentNode}return t},parseBox:function(e){var t,n=10;if(!e)return;return typeof e=="number"?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,t===1?e[1]=e[2]=e[3]=e[0]:t===2?(e[2]=e[0],e[3]=e[1]):t===3&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function r(e){var t=parseInt(n(e),10);return isNaN(t)?0:t}return{top:r(t+"TopWidth"),right:r(t+"RightWidth"),bottom:r(t+"BottomWidth"),left:r(t+"LeftWidth")}},initLayoutRect:function(){var e=this,t=e.settings,n,r,i=e.getEl(),s,o,u,a,f,l,c;n=e._borderBox=e._borderBox||e.measureBox(i,"border"),e._paddingBox=e._paddingBox||e.measureBox(i,"padding"),e._marginBox=e._marginBox||e.measureBox(i,"margin"),l=t.minWidth,c=t.minHeight,u=l||i.offsetWidth,a=c||i.offsetHeight,s=t.width,o=t.height,f=t.autoResize,f=typeof f!="undefined"?f:!s&&!o,s=s||u,o=o||a;var h=n.left+n.right,p=n.top+n.bottom,d=t.maxWidth||65535,v=t.maxHeight||65535;return e._layoutRect=r={x:t.x||0,y:t.y||0,w:s,h:o,deltaW:h,deltaH:p,contentW:s-h,contentH:o-p,innerW:s-h,innerH:o-p,startMinWidth:l||0
,startMinHeight:c||0,minW:Math.min(u,d),minH:Math.min(a,v),maxW:d,maxH:v,autoResize:f,scrollW:0},e._lastLayoutRect={},r},layoutRect:function(e){var t=this,n=t._layoutRect,r,i,s,o,u,f;n||(n=t.initLayoutRect());if(e){s=n.deltaW,o=n.deltaH,e.x!==u&&(n.x=e.x),e.y!==u&&(n.y=e.y),e.minW!==u&&(n.minW=e.minW),e.minH!==u&&(n.minH=e.minH),i=e.w,i!==u&&(i=i<n.minW?n.minW:i,i=i>n.maxW?n.maxW:i,n.w=i,n.innerW=i-s),i=e.h,i!==u&&(i=i<n.minH?n.minH:i,i=i>n.maxH?n.maxH:i,n.h=i,n.innerH=i-o),i=e.innerW,i!==u&&(i=i<n.minW-s?n.minW-s:i,i=i>n.maxW-s?n.maxW-s:i,n.innerW=i,n.w=i+s),i=e.innerH,i!==u&&(i=i<n.minH-o?n.minH-o:i,i=i>n.maxH-o?n.maxH-o:i,n.innerH=i,n.h=i+o),e.contentW!==u&&(n.contentW=e.contentW),e.contentH!==u&&(n.contentH=e.contentH),r=t._lastLayoutRect;if(r.x!==n.x||r.y!==n.y||r.w!==n.w||r.h!==n.h)f=a.repaintControls,f&&f.map&&!f.map[t._id]&&(f.push(t),f.map[t._id]=!0),r.x=n.x,r.y=n.y,r.w=n.w,r.h=n.h;return t}return n},repaint:function(){var e=this,t,n,r,i,s=0,o=0,u;t=e.getEl().style,r=e._layoutRect,u=e._lastRepaintRect||{},i=e._borderBox,s=i.left+i.right,o=i.top+i.bottom,r.x!==u.x&&(t.left=r.x+"px",u.x=r.x),r.y!==u.y&&(t.top=r.y+"px",u.y=r.y),r.w!==u.w&&(t.width=r.w-s+"px",u.w=r.w),r.h!==u.h&&(t.height=r.h-o+"px",u.h=r.h),e._hasBody&&r.innerW!==u.innerW&&(n=e.getEl("body").style,n.width=r.innerW+"px",u.innerW=r.innerW),e._hasBody&&r.innerH!==u.innerH&&(n=n||e.getEl("body").style,n.height=r.innerH+"px",u.innerH=r.innerH),e._lastRepaintRect=u,e.fire("repaint",{},!1)},on:function(e,t){function a(e){var t,r;return function(i){return t||n.parents().each(function(n){var i=n.settings.callbacks;if(i&&(t=i[e]))return r=n,!1}),t.call(r,i)}}var n=this,r,s,o,u;if(t){typeof t=="string"&&(t=a(t)),o=e.toLowerCase().split(" "),u=o.length;while(u--)e=o[u],r=n._bindings,r||(r=n._bindings={}),s=r[e],s||(s=r[e]=[]),s.push(t),i[e]&&(n._nativeEvents?n._nativeEvents[e]=!0:n._nativeEvents={name:!0},n._rendered&&n.bindPendingEvents())}return n},off:function(e,t){var n=this,r,i=n._bindings,s,o,u,a;if(i)if(e){u=e.toLowerCase().split(" "),r=u.length;while(r--){e=u[r],s=i[e];if(!e){for(o in i)i[o].length=0;return n}if(s)if(!t)s.length=0;else{a=s.length;while(a--)s[a]===t&&s.splice(a,1)}}}else n._bindings=[];return n},fire:function(e,t,n){function a(){return!1}function f(){return!0}var r=this,i,s,o,u;e=e.toLowerCase(),t=t||{},t.type||(t.type=e),t.control||(t.control=r),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=f},t.stopPropagation=function(){t.isPropagationStopped=f},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=f},t.isDefaultPrevented=a,t.isPropagationStopped=a,t.isImmediatePropagationStopped=a);if(r._bindings){o=r._bindings[e];if(o)for(i=0,s=o.length;i<s;i++)if(!t.isImmediatePropagationStopped()&&o[i].call(r,t)===!1)break}if(n!==!1){u=r.parent();while(u&&!t.isPropagationStopped())u.fire(e,t,!1),u=u.parent()}return t},parents:function(e){var t=this,r=new n;for(t=t.parent();t;t=t.parent())r.add(t);return e&&(r=r.filter(e)),r},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},findCommonAncestor:function(e,t){var n;while(e){n=t;while(n&&e!=n)n=n.parent();if(e==n)break;e=e.parent()}return e},hasClass:function(e,t){var n=this._classes[t||"control"];return e=this.classPrefix+e,n&&!!n.map[e]},addClass:function(e,t){var n=this,r,i;return e=this.classPrefix+e,r=n._classes[t||"control"],r||(r=[],r.map={},n._classes[t||"control"]=r),r.map[e]||(r.map[e]=e,r.push(e),n._rendered&&(i=n.getEl(t),i&&(i.className=r.join(" ")))),n},removeClass:function(e,t){var n=this,r,i,s;e=this.classPrefix+e,r=n._classes[t||"control"];if(r&&r.map[e]){delete r.map[e],i=r.length;while(i--)r[i]===e&&r.splice(i,1)}return n._rendered&&(s=n.getEl(t),s&&(s.className=r.join(" "))),n},toggleClass:function(e,t,n){var r=this;return t?r.addClass(e,n):r.removeClass(e,n),r},classes:function(e){var t=this._classes[e||"control"];return t?t.join(" "):""},getEl:function(e,t){var n,i=e?this._id+"-"+e:this._id;return n=s[i]=(t===!0?null:s[i])||r.get(i),n},visible:function(e){var t=this,n;return typeof e!="undefined"?(t._visible!==e&&(t._rendered&&(t.getEl().style.display=e?"":"none"),t._visible=e,n=t.parent(),n&&(n._lastRect=null),t.fire(e?"show":"hide")),t):t._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,r=n.getEl();return typeof t=="undefined"?n._aria[e]:(n._aria[e]=t,n._rendered&&(e=="label"&&r.setAttribute("aria-labeledby",n._id),r.setAttribute(e=="role"?e:"aria-"+e,t)),n)},encode:function(e,t){return t!==!1&&a.translate&&(e=a.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e=this,t=e.getEl(),n=e.parent(),i;if(e.items){var s=e.items().toArray(),o=s.length;while(o--)s[o].remove()}return n&&n.items&&(i=[],n.items().each(function(t){t!==e&&i.push(t)}),n.items().set(i),n._lastRect=null),e._eventsRoot&&e._eventsRoot==e&&r.off(t),delete a.controlIdLookup[e._id],t.parentNode&&t.parentNode.removeChild(t),e},renderBefore:function(e){var t=this;return e.parentNode.insertBefore(r.createFragment(t.renderHtml()),e),t.postRender(),t},renderTo:function(e){var t=this;return e=e||t.getContainerElm(),e.appendChild(r.createFragment(t.renderHtml())),t.postRender(),t},postRender:function(){var e=this,t=e.settings,n,i,s,o,u;for(o in t)o.indexOf("on")===0&&e.on(o.substr(2),t[o]);if(e._eventsRoot){for(s=e.parent();!u&&s;s=s.parent())u=s._eventsRoot;if(u)for(o in u._nativeEvents)e._nativeEvents[o]=!0}e.bindPendingEvents(),t.style&&(n=e.getEl(),n&&(n.setAttribute("style",t.style),n.style.cssText=t.style)),e._visible||r.css(e.getEl(),"display","none"),e.settings.border&&(i=e.borderBox(),r.css(e.getEl(),{"border-top-width":i.top,"border-right-width":i.right,"border-bottom-width":i.bottom,"border-left-width":i.left})),a.controlIdLookup[e._id]=e;for(var f in e._aria)e.aria(f,e._aria[f]);e.fire("postrender",{},!1)},scrollIntoView:function(e){function t(e,t){var n,r,i=e;n=r=0;while(i&&i!=t&&i.nodeType)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}var n=this.getEl(),r=n.parentNode,i,s,o,u,a,f,l=t(n,r);return i=l.x,s=l.y,o=n.offsetWidth,u=n.offsetHeight,a=r.clientWidth,f=r.clientHeight,e=="end"?(i-=a-o,s-=f-u):e=="center"&&(i-=a/2-o/2,s-=f/2-u/2),r.scrollLeft=i,r.scrollTop=s,this},bindPendingEvents:function(){function l(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function c(){var e=s._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),s._lastHoverCtrl=null)}function h(t){var n=e.getParentCtrl(t.target),r=s._lastHoverCtrl,i=0,o,u,a;if(n!==r){s._lastHoverCtrl=n,u=n.parents().toArray().reverse(),u.push(n);if(r){a=r.parents().toArray().reverse(),a.push(r);for(i=0;i<a.length;i++)if(u[i]!==a[i])break;for(o=a.length-1;o>=i;o--)r=a[o],r.fire("mouseleave",{target:r.getEl()})}for(o=i;o<u.length;o++)n=u[o],n.fire("mouseenter",{target:n.getEl()})}}function p(t){t.preventDefault(),t.type=="mousewheel"?(t.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-1/40*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var e=this,t,n,i,s,a,f;e._rendered=!0,a=e._nativeEvents;if(a){i=e.parents().toArray(),i.unshift(e);for(t=0,n=i.length;!s&&t<n;t++)s=i[t]._eventsRoot;s||(s=i[i.length-1]||e),e._eventsRoot=s;for(n=t,t=0;t<n;t++)i[t]._eventsRoot=s;for(f in a){if(!a)return!1;if(f==="wheel"&&!u){o?r.on(e.getEl(),"mousewheel",p):r.on(e.getEl(),"DOMMouseScroll",p);continue}f==="mouseenter"||f==="mouseleave"?s._hasMouseEnter||(r.on(s.getEl(),"mouseleave",c),r.on(s.getEl(),"mouseover",h),s._hasMouseEnter=1):s[f]||(r.on(s.getEl(),f,l),s[f]=!0),a[f]=!1}}},reflow:function(){return this.repaint(),this}});return a}),i("tinymce/ui/Factory",[],function(){var e={},t;return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,r){var i,s,o;if(!t){o=tinymce.ui;for(s in o)e[s.toLowerCase()]=o[s];t=!0}typeof n=="string"?(r=r||{},r.type=n):(r=n,n=r.type),n=n.toLowerCase(),i=e[n];if(!i)throw new Error("Could not find control by type: "+n);return i=new i(r),i.type=n,i}}}),i("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/util/Tools","tinymce/ui/DomUtils"],function(e,t,n,r,i,s){var o={};return e.extend({layout:"",innerClass:"container-inner",init:function(e){var n=this;n._super(e),e=n.settings,n._fixed=e.fixed,n._items=new t,n.addClass("container"),n.addClass("container-body","body"),e.containerCls&&n.addClass(e.containerCls),n._layout=r.create((e.layout||n.layout)+"layout"),n.settings.items&&n.add(n.settings.items),n._hasBody=!0},items:function(){return this._items},find:function(e){return e=o[e]=o[e]||new n(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(){var e=this;return e.keyNav?e.keyNav.focusFirst():e._super(),e},replace:function(e,t){var n,r=this.items(),i=r.length;while(i--)if(r[i]===e){r[i]=t;break}i>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n=this,s,o=[];return i.isArray(t)||(t=[t]),i.each(t,function(t){t&&(t instanceof e||(typeof t=="string"&&(t={type:t}),s=i.extend({},n.settings.defaults,t),t.type=s.type=s.type||t.type||n.settings.defaultType||(s.defaults?s.defaults.type:null),t=r.create(s)),o.push(t))}),o},renderNew:function(){var e=this;return e.items().each(function(t,n){var r,i;t.parent(e),t._rendered||(r=e.getEl("body"),i=s.createFragment(t.renderHtml()),r.hasChildNodes()&&n<=r.childNodes.length-1?r.insertBefore(i,r.childNodes[n]):r.appendChild(i),t.postRender())}),e._layout.applyClasses(e),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r=this,i,s,o;return e=r.create(e),i=r.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(s=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(s.concat(e,o))),r.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),r=e.value();n&&typeof r!="undefined"&&(t[n]=r)}),t},preRender:function(){},renderHtml:function(){var e=this,t=e._layout;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'" role="'+this.settings.role+'">'+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"},postRender:function(){var e=this,t;return e.items().exec("postRender"),e._super(),e._layout.postRender(e),e._rendered=!0,e.settings.style&&s.css(e.getEl(),e.settings.style),e.settings.border&&(t=e.borderBox(),s.css(e.getEl(),{"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),e},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var t,n;if(this.visible()){e.repaintControls=[],e.repaintControls.map={},n=this.recalc(),t=e.repaintControls.length;while(t--)e.repaintControls[t].repaint();this.settings.layout!=="flow"&&this.settings.layout!=="stack"&&this.repaint(),e.repaintControls=[]}return this}})}),i("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(e){function t(){var e=document,t,n,r,i,s,o,u,a,f=Math.max;return t=e.documentElement,n=e.body,r=f(t.scrollWidth,n.scrollWidth),i=f(t.clientWidth,n.clientWidth),s=f(t.offsetWidth,n.offsetWidth),o=f(t.scrollHeight,n.scrollHeight),u=f(t.clientHeight,n.clientHeight),a=f(t.offsetHeight,n.offsetHeight),{width:r<s?i:r,height:o<a?u:o}}return function(n,r){function h(){return s.getElementById(r.handle||n)}var i,s=document,o,u,a,f,l,c;r=r||{},u=function(n){var u=t(),p,d;n.preventDefault(),o=n.button,p=h(),l=n.screenX,c=n.screenY,window.getComputedStyle?d=window.getComputedStyle(p,null).getPropertyValue("cursor"):d=p.runtimeStyle.cursor,i=s.createElement("div"),e.css(i,{position:"absolute",top:0,left:0,width:u.width,height:u.height,zIndex:2147483647,opacity:1e-4,background:"red",cursor:d}),s.body.appendChild(i),e.on(s,"mousemove",f),e.on(s,"mouseup",a),r.start(n)},f=function(e){if(e.button!==o)return a(e);e.deltaX=e.screenX-l,e.deltaY=e.screenY-c,e.preventDefault(),r.drag(e)},a=function(t){e.off(s,"mousemove",f),e.off(s,"mouseup",a),i.parentNode.removeChild(i),r.stop&&r.stop(t)},this.destroy=function(){e.off(h())},e.on(h(),"mousedown",u)}}),i("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(e,t){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function i(){function o(s,o,u,a,f,l){var c,h,p,d,v,m,g,y,b;h=n.getEl("scroll"+s);if(h){y=o.toLowerCase(),b=u.toLowerCase(),n.getEl("absend")&&e.css(n.getEl("absend"),y,n.layoutRect()[a]-1);if(!f){e.css(h,"display","none");return}e.css(h,"display","block"),c=n.getEl("body"),p=n.getEl("scroll"+s+"t"),d=c["client"+u]-r*2,d-=t&&i?h["client"+l]:0,v=c["scroll"+u],m=d/v,g={},g[y]=c["offset"+o]+r,g[b]=d,e.css(h,g),g={},g[y]=c["scroll"+o]*m,g[b]=d*m,e.css(p,g)}}var t,i,s;s=n.getEl("body"),t=s.scrollWidth>s.clientWidth,i=s.scrollHeight>s.clientHeight,o("h","Left","Width","contentW",t,"Height"),o("v","Top","Height","contentH",i,"Width")}function s(){function i(i,s,o,u,a){var f,l=n._id+"-scroll"+i,c=n.classPrefix;n.getEl().appendChild(e.createFragment('<div id="'+l+'" class="'+c+"scrollbar "+c+"scrollbar-"+i+'">'+'<div id="'+l+'t" class="'+c+'scrollbar-thumb"></div>'+"</div>")),n.draghelper=new t(l+"t",{start:function(){f=n.getEl("body")["scroll"+s],e.addClass(e.get(l),c+"active")},drag:function(e){var t,l,c,h,p=n.layoutRect();l=p.contentW>p.innerW,c=p.contentH>p.innerH,h=n.getEl("body")["client"+o]-r*2,h-=l&&c?n.getEl("scroll"+i)["client"+a]:0,t=h/n.getEl("body")["scroll"+o],n.getEl("body")["scroll"+s]=f+e["delta"+u]/t},stop:function(){e.removeClass(e.get(l),c+"active")}})}n.addClass("scroll"),i("v","Top","Height","Y","Width"),i("h","Left","Width","X","Height")}var n=this,r=2;n.settings.autoScroll&&(n._hasScroll||(n._hasScroll=!0,s(),n.on("wheel",function(e){var t=n.getEl("body");t.scrollLeft+=(e.deltaX||0)*10,t.scrollTop+=e.deltaY*10,i()}),e.on(n.getEl("body"),"scroll",i)),i())}}}),i("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),typeof n=="undefined"?n='<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>":(typeof n=="function"&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+(e._preBodyHtml||"")+n+"</div>"}})}),i("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(e){function t(t,n,r){var i,s,o,u,a,f,l,c,h;return h=e.getViewPort(),s=e.getPos(n),o=s.x,u=s.y,t._fixed&&(o-=h.x,u-=h.y),i=t.getEl(),a=i.offsetWidth,f=i.offsetHeight,l=n.offsetWidth,c=n.offsetHeight,r=(r||"").split(""),r[0]==="b"&&(u+=c),r[1]==="r"&&(o+=l),r[0]==="c"&&(u+=Math.round(c/2)),r[1]==="c"&&(o+=Math.round(l/2)),r[3]==="b"&&(u-=f),r[4]==="r"&&(o-=a),r[3]==="c"&&(u-=Math.round(f/2)),r[4]==="c"&&(o-=Math.round(a/2)),{x:o,y:u,w:a,h:f}}return{testMoveRel:function(n,r){var i=e.getViewPort();for(var s=0;s<r.length;s++){var o=t(this,n,r[s]);if(this._fixed){if(o.x>0&&o.x+o.w<i.w&&o.y>0&&o.y+o.h<i.h)return r[s]}else if(o.x>i.x&&o.x+o.w<i.w+i.x&&o.y>i.y&&o.y+o.h<i.h+i.y)return r[s]}return r[0]},moveRel:function(e,n){typeof n!="string"&&(n=this.testMoveRel(e,n));var r=t(this,e,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(t,n){function i(e,t,n){return e<0?0:e+n>t?(e=t-n,e<0?0:e):e}var r=this;if(r.settings.constrainToViewport){var s=e.getViewPort(window),o=r.layoutRect();t=i(t,s.w+s.x,o.w),n=i(n,s.h+s.y,o.h)}return r._rendered?r.layoutRect({x:t,y:n}).repaint():(r.settings.x=t,r.settings.y=n),r.fire("move",{x:t,y:n}),r}}}),i("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var r=e.getWindowSize();t=t<=1?t*r.w:t,n=n<=1?n*r.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}}}),i("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(e,t,n,r){function l(e){var t;t=o.length;while(t--)o[t]===e&&o.splice(t,1)}var i,s,o=[],u=[],a,f=e.extend({Mixins:[t,n],init:function(e){function n(){var e,n=f.zIndex||65535,i;if(u.length)for(e=0;e<u.length;e++)u[e].modal&&(n++,i=u[e]),u[e].getEl().style.zIndex=n,u[e].zIndex=n,n++;var s=document.getElementById(t.classPrefix+"modal-block");i?r.css(s,"z-index",i.zIndex-1):s&&(s.parentNode.removeChild(s),a=!1),f.currentZIndex=n}function l(e,t){while(e){if(e==t)return!0;e=e.parent()}}function c(e){function n(t,n){var r;for(var i=0;i<o.length;i++)if(o[i]!=e){r=o[i].parent();while(r&&(r=r.parent()))r==e&&o[i].fixed(t).moveBy(0,n).repaint()}}var t=r.getViewPort().y;e.settings.autofix&&(e._fixed?e._autoFixY>t&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),n(!1,e._autoFixY-t)):(e._autoFixY=e.layoutRect().y,e._autoFixY<t&&(e.fixed(!0).layoutRect({y:0}).repaint(),n(!0,t-e._autoFixY))))}var t=this;t._super(e),t._eventsRoot=t,t.addClass("floatpanel"),e.autohide&&(i||(i=function(e){var n,r=t.getParentCtrl(e.target);n=o.length;while(n--){var i=o[n];if(i.settings.autohide){if(r)if(l(r,i)||i.parent()===r)continue;e=i.fire("autohide",{target:e.target}),e.isDefaultPrevented()||i.hide()}}},r.on(document,"click",i)),o.push(t)),e.autofix&&(s||(s=function(){var e;e=o.length;while(e--)c(o[e])},r.on(window,"scroll",s)),t.on("move",function(){c(this)})),t.on("postrender show",function(e){if(e.control==t){var i,s=t.classPrefix;t.modal&&!a&&(i=r.createFragment('<div id="'+s+'modal-block" class="'+s+"reset "+s+'fade"></div>'),i=i.firstChild,t.getContainerElm().appendChild(i),setTimeout(function(){r.addClass(i,s+"in"),r.addClass(t.getEl(),s+"in")},0),a=!0),u.push(t),n()}}),t.on("close hide",function(e){if(e.control==t){var r=u.length;while(r--)u[r]===t&&u.splice(r,1);n()}}),t.on("show",function(){t.parents().each(function(e){if(e._fixed)return t.fixed(!0),!1})}),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.addClass("popover").addClass("bottom").addClass("start"))},fixed:function(e){var t=this;if(t._fixed!=e){if(t._rendered){var n=r.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.toggleClass("fixed",e),t._fixed=e}return t},show:function(){var e=this,t,n=e._super();t=o.length;while(t--)if(o[t]===e)break;return t===-1&&o.push(e),n},hide:function(){return l(this),this._super()},hideAll:function(){f.hideAll()},close:function(){var e=this;return e.fire("close"),e.remove()},remove:function(){l(this),this._super()}});return f.hideAll=function(){var e=o.length;while(e--){var t=o[e];t.settings.autohide&&(t.fire("cancel",{},!1),t.hide(),o.splice(e,1))}},f}),i("tinymce/ui/KeyboardNavigation",["tinymce/ui/DomUtils"],function(e){return function(t){function u(){if(!s){s=[];if(n.find)n.find("*").each(function(e){e.canFocus&&s.push(e.getEl())});else{var e=n.getEl().getElementsByTagName("*");for(var t=0;t<e.length;t++)e[t].id&&e[t]&&s.push(e[t])}}}function a(){return document.getElementById(o)}function f(e){return e=e||a(),e&&e.getAttribute("role")}function l(e){var t,n=e||a();while(n=n.parentNode)if(t=f(n))return t}function c(e){var t=document.getElementById(o);if(t)return t.getAttribute("aria-"+e)}function h(){var n=a();if(!n||n.nodeName!="TEXTAREA"&&n.type!="text")return t.onAction?t.onAction(o):e.fire(a(),"click",{keyboard:!0}),!0;return}function p(){var e;t.onCancel?((e=a())&&e.blur(),t.onCancel()):t.root.fire("cancel")}function d(e){function l(e){var t=n?n.getEl():document.body;while(e&&e!=t){if(e.style.display=="none")return!1;e=e.parentNode}return!0}var r=-1,i,a,f=[];u(),a=f.length;for(a=0;a<s.length;a++)l(s[a])&&f.push(s[a]);a=f.length;while(a--)if(f[a].id===o){r=a;break}r+=e,r<0?r=f.length-1:r>=f.length&&(r=0),i=f[r],i.focus(),o=i.id,t.actOnFocus&&h()}function v(){var e,n;n=f(t.root.getEl()),u(),e=s.length;while(e--)if(n=="toolbar"&&s[e].id===o){s[e].focus();return}s[0].focus()}var n=t.root,r=t.enableUpDown!==!1,i=t.enableLeftRight!==!1,s=t.items,o;return n.on("keydown",function(e){var n=37,s=39,o=38,u=40,a=27,v=14,m=13,g=32,y=9,b;switch(e.keyCode){case n:i&&(t.leftAction?t.leftAction():d(-1),b=!0);break;case s:i&&(f()=="menuitem"&&l()=="menu"?c("haspopup")&&h():d(1),b=!0);break;case o:r&&(d(-1),b=!0);break;case u:r&&(f()=="menuitem"&&l()=="menubar"?h():f()=="button"&&c("haspopup")?h():d(1),b=!0);break;case y:b=!0,e.shiftKey?d(-1):d(1);break;case a:b=!0,p();break;case v:case m:case g:b=h()}b&&(e.stopPropagation(),e.preventDefault())}),n.on("focusin",function(e){u(),o=e.target.id}),{moveFocus:d,focusFirst:v,cancel:p}}}),i("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/KeyboardNavigation","tinymce/ui/DragHelper"],function(e,t,n,r,i){var s=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.addClass("window"),n._fixed=!0,e.buttons&&(n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.addClass("foot"),n.statusbar.parent(n)),n.on("click",function(e){e.target.className.indexOf(n.classPrefix+"close")!=-1&&n.close()}),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e=this,t=e.statusbar,r,i,s;e._fullscreen&&(e.layoutRect(n.getWindowSize()),e.layoutRect().contentH=e.layoutRect().innerH),e._super(),r=e.layoutRect(),e.settings.title&&!e._fullscreen&&(i=r.headerW,i>r.w&&(e.layoutRect({w:i}),s=!0)),t&&(t.layoutRect({w:e.layoutRect().innerW}).recalc(),i=t.layoutRect().minW+r.deltaW,i>r.w&&(e.layoutRect({w:i}),s=!0)),s&&e.recalc()},initLayoutRect:function(){var e=this,t=e._super(),r=0,i;e.settings.title&&!e._fullscreen&&(i=e.getEl("head"),t.headerW=i.offsetWidth,t.headerH=i.offsetHeight,r+=t.headerH),e.statusbar&&(r+=e.statusbar.layoutRect().h),t.deltaH+=r,t.minH+=r,t.h+=r;var s=n.getWindowSize();return t.x=Math.max(0,s.w/2-t.w/2),t.y=Math.max(0,s.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,s="",o="",u=i.html;return e.preRender(),t.preRender(e),i.title&&(s='<div id="'+n+'-head" class="'+r+'window-head">'+'<div class="'+r+'title">'+e.encode(i.title)+"</div>"+'<button type="button" class="'+r+'close" aria-hidden="true">&times;</button>'+'<div id="'+n+'-dragh" class="'+r+'dragh"></div>'+"</div>"),i.url&&(u='<iframe src="'+i.url+'" tabindex="-1"></iframe>'),typeof u=="undefined"&&(u=t.renderHtml(e)),e.statusbar&&(o=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+s+'<div id="'+n+'-body" class="'+e.classes("body")+'">'+u+"</div>"+o+"</div>"},fullscreen:function(e){var t=this,r=document.documentElement,i,s=t.classPrefix,o;if(e!=t._fullscreen){n.on(window,"resize",function(){var e;if(t._fullscreen)if(!i){e=(new Date).getTime();var r=n.getWindowSize();t.moveTo(0,0).resizeTo(r.w,r.h),(new Date).getTime()-e>50&&(i=!0)}else t._timer||(t._timer=setTimeout(function(){var e=n.getWindowSize();t.moveTo(0,0).resizeTo(e.w,e.h),t._timer=0},50))}),o=t.layoutRect(),t._fullscreen=e;if(!e)t._borderBox=t.parseBox(t.settings.border),t.getEl("head").style.display="",o.deltaH+=o.headerH,n.removeClass(r,s+"fullscreen"),n.removeClass(document.body,s+"fullscreen"),t.removeClass("fullscreen"),t.moveTo(t._initial.x,t._initial.y).resizeTo(t._initial.w,t._initial.h);else{t._initial={x:o.x,y:o.y,w:o.w,h:o.h},t._borderBox=t.parseBox("0"),t.getEl("head").style.display="none",o.deltaH-=o.headerH+2,n.addClass(r,s+"fullscreen"),n.addClass(document.body,s+"fullscreen"),t.addClass("fullscreen");var u=n.getWindowSize();t.moveTo(0,0).resizeTo(u.w,u.h)}}return t.reflow()},postRender:function(){var e=this,t=[],n,s,o;setTimeout(function(){e.addClass("in")},0),e.keyboardNavigation=new r({root:e,enableLeftRight:!1,enableUpDown:!1,items:t,onCancel:function(){e.close()}}),e.find("*").each(function(e){e.canFocus&&(s=s||e.settings.autofocus,n=n||e,e.type=="filepicker"?(t.push(e.getEl("inp")),e.getEl("open")&&t.push(e.getEl("open").firstChild)):t.push(e.getEl()))}),e.statusbar&&e.statusbar.find("*").each(function(e){e.canFocus&&(s=s||e.settings.autofocus,n=n||e,t.push(e.getEl()))}),e._super(),e.statusbar&&e.statusbar.postRender(),!s&&n&&n.focus(),this.dragHelper=new i(e._id+"-dragh",{start:function(){o={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(t){e.moveTo(o.x+t.deltaX,o.y+t.deltaY)}}),e.on("submit",function(t){t.isDefaultPrevented()||e.close()})},submit:function(){var e=this.getParentCtrl(document.activeElement);return e&&e.blur(),this.fire("submit",{data:this.toJSON()})},remove:function(){var e=this;e._super(),e.dragHelper.destroy(),e.statusbar&&this.statusbar.remove()}});return s}),i("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){var r,i=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:r=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),i(!0)}},{type:"button",text:"Cancel",onClick:function(e){e.control.parents()[1].close(),i(!1)}}];break;case t.YES_NO:r=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),i(!0)}}];break;case t.YES_NO_CANCEL:r=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close()}}];break;default:r=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close()}}]}return(new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:r,title:n.title,items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onClose:n.onClose})).renderTo(document.body).reflow()},alert:function(e,n){return typeof e=="string"&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return typeof e=="string"&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),i("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(e,t){return function(n){var r=this,i=[];r.windows=i,r.open=function(t,r){var s;return t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body}),!t.url&&!t.buttons&&(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){s.find("form")[0].submit(),s.close()}},{text:"Cancel",onclick:function(){s.close()}}]),s=new e(t),i.push(s),s.on("close",function(){var e=i.length;while(e--)i[e]===s&&i.splice(e,1);n.focus()}),t.data&&s.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),s.params=r||{},n.nodeChanged(),s.renderTo(document.body).reflow()},r.alert=function(e,n,r){t.alert(e,function(){n.call(r||this)})},r.confirm=function(e,n,r){t.confirm(e,function(e){n.call(r||this,e)})},r.close=function(){i.length&&i[i.length-1].close()},r.getParams=function(){return i.length?i[i.length-1].params:null},r.setParams=function(e){i.length&&(i[i.length-1].params=e)}}}),i("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(e,t,n,r,i,s){return function(o){function y(e,t){try{o.getDoc().execCommand(e,!1,t)}catch(n){}}function b(){var e=o.getDoc().documentMode;return e?e:6}function w(e){return e.isDefaultPrevented()}function E(){function t(e){function p(){if(a.nodeType==3){if(e&&f==a.length)return!0;if(!e&&f===0)return!0}}var t,n,r,i,a,f,h;t=c.getRng();var d=[t.startContainer,t.startOffset,t.endContainer,t.endOffset];t.collapsed||(e=!0),a=t[(e?"start":"end")+"Container"],f=t[(e?"start":"end")+"Offset"],a.nodeType==3&&(n=l.getParent(t.startContainer,l.isBlock),e&&(n=l.getNext(n,l.isBlock)),n&&(p()||!t.collapsed)&&(r=l.create("em",{id:"__mceDel"}),u(s.grep(n.childNodes),function(e){r.appendChild(e)}),n.appendChild(r))),t=l.createRng(),t.setStart(d[0],d[1]),t.setEnd(d[2],d[3]),c.setRng(t),o.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null);if(r){i=c.getBookmark();while(h=l.get("__mceDel"))l.remove(h,!0);c.moveToBookmark(i)}}o.on("keydown",function(n){var r;r=n.keyCode==f,!w(n)&&(r||n.keyCode==a)&&!e.modifierPressed(n)&&(n.preventDefault(),t(r))}),o.addCommand("Delete",function(){t()})}function S(){function e(e){var t=l.create("body"),n=e.cloneContents();return t.appendChild(n),c.serializer.serialize(t,{format:"html"})}function t(t){var n=e(t),r=l.createRng();r.selectNode(o.getBody());var i=e(r);return n===i}o.on("keydown",function(e){var n=e.keyCode,r;if(!w(e)&&(n==f||n==a)){r=o.selection.isCollapsed();if(r&&!l.isEmpty(o.getBody()))return;if(m&&!r)return;if(!r&&!t(o.selection.getRng()))return;e.preventDefault(),o.setContent(""),o.selection.setCursorLocation(o.getBody(),0),o.nodeChanged()}})}function x(){o.on("keydown",function(t){!w(t)&&t.keyCode==65&&e.metaKeyPressed(t)&&(t.preventDefault(),o.execCommand("SelectAll"))})}function T(){o.settings.content_editable||(l.bind(o.getDoc(),"focusin",function(){c.setRng(c.getRng())}),l.bind(o.getDoc(),"mousedown",function(e){e.target==o.getDoc().documentElement&&(o.getWin().focus(),c.setRng(c.getRng()))}))}function N(){o.on("keydown",function(e){if(!w(e)&&e.keyCode===a&&c.isCollapsed()&&c.getRng(!0).startOffset===0){var t=c.getNode(),n=t.previousSibling;n&&n.nodeName&&n.nodeName.toLowerCase()==="hr"&&(l.remove(n),e.preventDefault())}})}function C(){window.Range.prototype.getClientRects||o.on("mousedown",function(e){if(!w(e)&&e.target.nodeName==="HTML"){var t=o.getBody();t.blur(),setTimeout(function(){t.focus()},0)}})}function k(){o.on("click",function(e){e=e.target,/^(IMG|HR)$/.test(e.nodeName)&&c.getSel().setBaseAndExtent(e,0,e,1),e.nodeName=="A"&&l.hasClass(e,"mce-item-anchor")&&c.select(e),o.nodeChanged()})}function L(){function e(){var e=l.getAttribs(c.getStart().cloneNode(!1));return function(){var t=c.getStart();t!==o.getBody()&&(l.setAttrib(t,"style",null),u(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!c.isCollapsed()&&l.getParent(c.getStart(),l.isBlock)!=l.getParent(c.getEnd(),l.isBlock)}o.on("keypress",function(n){var r;if(!w(n)&&(n.keyCode==8||n.keyCode==46)&&t())return r=e(),o.getDoc().execCommand("delete",!1,null),r(),n.preventDefault(),!1}),l.bind(o.getDoc(),"cut",function(n){var r;!w(n)&&t()&&(r=e(),setTimeout(function(){r()},0))})}function A(){var e,n;o.on("selectionchange",function(){n&&(clearTimeout(n),n=0),n=window.setTimeout(function(){var n=c.getRng();if(!e||!t.compareRanges(n,e))o.nodeChanged(),e=n},50)})}function O(){document.body.setAttribute("role","application")}function M(){o.on("keydown",function(e){if(!w(e)&&e.keyCode===a&&c.isCollapsed()&&c.getRng(!0).startOffset===0){var t=c.getNode().previousSibling;if(t&&t.nodeName&&t.nodeName.toLowerCase()==="table")return e.preventDefault(),!1}})}function _(){if(b()>7)return;y("RespectVisibilityInDesign",!0),o.contentStyles.push(".mceHideBrInPre pre br {display: none}"),l.addClass(o.getBody(),"mceHideBrInPre"),p.addNodeFilter("pre",function(e){var t=e.length,r,i,s,o;while(t--){r=e[t].getAll("br"),i=r.length;while(i--)s=r[i],o=s.prev,o&&o.type===3&&o.value.charAt(o.value-1)!="\n"?o.value+="\n":s.parent.insert(new n("#text",3),s,!0).value="\n"}}),d.addNodeFilter("pre"
,function(e){var t=e.length,n,r,i,s;while(t--){n=e[t].getAll("br"),r=n.length;while(r--)i=n[r],s=i.prev,s&&s.type==3&&(s.value=s.value.replace(/\r?\n$/,""))}})}function D(){l.bind(o.getBody(),"mouseup",function(){var e,t=c.getNode();if(t.nodeName=="IMG"){if(e=l.getStyle(t,"width"))l.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),l.setStyle(t,"width","");if(e=l.getStyle(t,"height"))l.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),l.setStyle(t,"height","")}})}function P(){o.on("keydown",function(t){var n,r,i,s,u,h,p,d;n=t.keyCode==f;if(!w(t)&&(n||t.keyCode==a)&&!e.modifierPressed(t)){r=c.getRng(),i=r.startContainer,s=r.startOffset,p=r.collapsed;if(i.nodeType==3&&i.nodeValue.length>0&&(s===0&&!p||p&&s===(n?0:1))){h=i.previousSibling;if(h&&h.nodeName=="IMG")return;d=o.schema.getNonEmptyElements(),t.preventDefault(),u=l.create("br",{id:"__tmp"}),i.parentNode.insertBefore(u,i),o.getDoc().execCommand(n?"ForwardDelete":"Delete",!1,null),i=c.getRng().startContainer,h=i.previousSibling,h&&h.nodeType==1&&!l.isBlock(h)&&l.isEmpty(h)&&!d[h.nodeName.toLowerCase()]&&l.remove(h),l.remove("__tmp")}}})}function H(){o.on("keydown",function(t){var n,r,i,s,u;if(w(t)||t.keyCode!=e.BACKSPACE)return;n=c.getRng(),r=n.startContainer,i=n.startOffset,s=l.getRoot(),u=r;if(!n.collapsed||i!==0)return;while(u&&u.parentNode&&u.parentNode.firstChild==u&&u.parentNode!=s)u=u.parentNode;u.tagName==="BLOCKQUOTE"&&(o.formatter.toggle("blockquote",null,u),n=l.createRng(),n.setStart(r,0),n.setEnd(r,0),c.setRng(n))})}function B(){function e(){o._refreshContentEditable(),y("StyleWithCSS",!1),y("enableInlineTableEditing",!1),h.object_resizing||y("enableObjectResizing",!1)}h.readonly||o.on("BeforeExecCommand MouseDown",e)}function j(){function e(){u(l.select("a"),function(e){var t=e.parentNode,n=l.getRoot();if(t.lastChild===e){while(t&&!l.isBlock(t)){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}l.add(t,"br",{"data-mce-bogus":1})}})}o.on("SetContent ExecCommand",function(t){(t.type=="setcontent"||t.command==="mceInsertLink")&&e()})}function F(){h.forced_root_block&&o.on("init",function(){y("DefaultParagraphSeparator",h.forced_root_block)})}function I(){o.on("Undo Redo SetContent",function(e){e.initial||o.execCommand("mceRepaint")})}function q(){o.on("keydown",function(e){var t;!w(e)&&e.keyCode==a&&(t=o.getDoc().selection.createRange(),t&&t.item&&(e.preventDefault(),o.undoManager.beforeChange(),l.remove(t.item(0)),o.undoManager.add()))})}function R(){var e;b()>=10&&(e="",u("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"}),o.contentStyles.push(e+"{padding-right: 1px !important}"))}function U(){b()<9&&(p.addNodeFilter("noscript",function(e){var t=e.length,n,r;while(t--)n=e[t],r=n.firstChild,r&&n.attr("data-mce-innertext",r.value)}),d.addNodeFilter("noscript",function(e){var t=e.length,i,s,o;while(t--)i=e[t],s=e[t].firstChild,s?s.value=r.decode(s.value):(o=i.attributes.map["data-mce-innertext"],o&&(i.attr("data-mce-innertext",null),s=new n("#text",3),s.value=o,s.raw=!0,i.append(s)))}))}function z(){function s(e,n){var r=t.createTextRange();try{r.moveToPoint(e,n)}catch(i){r=null}return r}function o(e){var t;e.button?(t=s(e.x,e.y),t&&(t.compareEndPoints("StartToStart",r)>0?t.setEndPoint("StartToStart",r):t.setEndPoint("EndToEnd",r),t.select())):u()}function u(){var t=e.selection.createRange();r&&!t.item&&t.compareEndPoints("StartToEnd",t)===0&&r.select(),l.unbind(e,"mouseup",u),l.unbind(e,"mousemove",o),r=n=0}var e=l.doc,t=e.body,n,r,i;e.documentElement.unselectable=!0,l.bind(e,"mousedown contextmenu",function(t){if(t.target.nodeName==="HTML"){n&&u(),i=e.documentElement;if(i.scrollHeight>i.clientHeight)return;n=1,r=s(t.x,t.y),r&&(l.bind(e,"mouseup",u),l.bind(e,"mousemove",o),l.win.focus(),r.select())}})}function W(){o.on("keyup focusin",function(t){(t.keyCode!=65||!e.metaKeyPressed(t))&&c.normalize()})}function X(){o.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}var u=s.each,a=e.BACKSPACE,f=e.DELETE,l=o.dom,c=o.selection,h=o.settings,p=o.parser,d=o.serializer,v=i.gecko,m=i.ie,g=i.webkit;M(),H(),S(),W(),g&&(P(),E(),T(),k(),F(),i.iOS?A():x()),m&&(N(),O(),_(),D(),q(),R(),U(),z()),v&&(N(),C(),L(),B(),j(),I(),X())}}),i("tinymce/util/Observable",["tinymce/util/Tools"],function(e){function r(){return!1}function i(){return!0}var t="__bindings",n=e.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragend dragover draggesture dragdrop drop drag"," ");return{fire:function(e,n,s){var o=this,u,a,f,l,c;e=e.toLowerCase(),n=n||{},n.type=e,n.target||(n.target=o),n.preventDefault||(n.preventDefault=function(){n.isDefaultPrevented=i},n.stopPropagation=function(){n.isPropagationStopped=i},n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=i},n.isDefaultPrevented=r,n.isPropagationStopped=r,n.isImmediatePropagationStopped=r);if(o[t]){u=o[t][e];if(u)for(a=0,f=u.length;a<f;a++){u[a]=l=u[a];if(n.isImmediatePropagationStopped())break;if(l.call(o,n)===!1)return n.preventDefault(),n}}if(s!==!1&&o.parent){c=o.parent();while(c&&!n.isPropagationStopped())c.fire(e,n,!1),c=c.parent()}return n},on:function(e,r){var i=this,s,o,u,a;r===!1&&(r=function(){return!1});if(r){u=e.toLowerCase().split(" "),a=u.length;while(a--)e=u[a],s=i[t],s||(s=i[t]={}),o=s[e],o||(o=s[e]=[],i.bindNative&&n[e]&&i.bindNative(e)),o.push(r)}return i},off:function(e,r){var i=this,s,o=i[t],u,a,f,l;if(o)if(e){f=e.toLowerCase().split(" "),s=f.length;while(s--){e=f[s],u=o[e];if(!e){for(a in o)o[e].length=0;return i}if(u){if(!r)u.length=0;else{l=u.length;while(l--)u[l]===r&&u.splice(l,1)}!u.length&&i.unbindNative&&n[e]&&(i.unbindNative(e),delete o[e])}}}else{if(i.unbindNative)for(e in o)i.unbindNative(e);i[t]=[]}return i}}}),i("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(e,t){var n=e.each,r=e.explode,i={f9:120,f10:121,f11:122};return function(s){var o=this,u={};s.on("keyup keypress keydown",function(e){(e.altKey||e.ctrlKey||e.metaKey)&&n(u,function(n){var r=t.mac?e.ctrlKey||e.metaKey:e.ctrlKey;if(n.ctrl!=r||n.alt!=e.altKey||n.shift!=e.shiftKey)return;if(e.keyCode==n.keyCode||e.charCode&&e.charCode==n.charCode)return e.preventDefault(),e.type=="keydown"&&n.func.call(n.scope),!0})}),o.add=function(t,o,a,f){var l;return l=a,typeof a=="string"?a=function(){s.execCommand(l,!1,null)}:e.isArray(l)&&(a=function(){s.execCommand(l[0],l[1],l[2])}),n(r(t.toLowerCase()),function(e){var t={func:a,scope:f||s,desc:s.translate(o),alt:!1,ctrl:!1,shift:!1};n(r(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":t[e]=!0;break;default:t.charCode=e.charCodeAt(0),t.keyCode=i[e]||e.toUpperCase().charCodeAt(0)}}),u[(t.ctrl?"ctrl":"")+","+(t.alt?"alt":"")+","+(t.shift?"shift":"")+","+t.keyCode]=t}),!0}}}),i("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/AddOnManager","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/Shortcuts"],function(e,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S){function B(e,t){return t=="selectionchange"||t=="drop"?e.getDoc():!e.inline&&/^mouse|click|contextmenu/.test(t)?e.getDoc():e.getBody()}function j(e,t,r){var i=this,s,o;s=i.documentBaseUrl=r.documentBaseURL,o=r.baseURI,i.settings=t=C({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:s,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:i.convertURL,url_converter_scope:i,ie7_compat:!0},t),n.settings=t,n.baseURL=r.baseURL,i.id=t.id=e,i.isNotDirty=!0,i.plugins={},i.documentBaseURI=new h(t.document_base_url||s,{base_uri:o}),i.baseURI=o,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new S(i),i.execCommands={},i.queryStateCommands={},i.queryValueCommands={},i.loadedCSS={},i.suffix=r.suffix,i.editorManager=r,i.inline=t.inline,i.execCallback("setup",i)}var x=e.DOM,T=n.ThemeManager,N=n.PluginManager,C=w.extend,k=w.each,L=w.explode,A=w.inArray,O=w.trim,M=w.resolve,_=d.Event,D=b.gecko,P=b.ie,H=b.opera;return j.prototype={render:function(){function s(){var n=p.ScriptLoader;t.language&&t.language!="en"&&(t.language_url=e.editorManager.baseURL+"/langs/"+t.language+".js"),t.language_url&&n.add(t.language_url),t.theme&&typeof t.theme!="function"&&t.theme.charAt(0)!="-"&&!T.urls[t.theme]&&T.load(t.theme,"themes/"+t.theme+"/theme"+r+".js"),w.isArray(t.plugins)&&(t.plugins=t.plugins.join(" ")),k(t.external_plugins,function(e,n){N.load(n,e),t.plugins+=" "+n}),k(t.plugins.split(/[ ,]/),function(e){e=O(e);if(e&&!N.urls[e])if(e.charAt(0)=="-"){e=e.substr(1,e.length);var t=N.dependencies(e);k(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"};e=N.createUrl(t,e),N.load(e.resource,e)})}else N.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"})}),n.loadQueue(function(){e.removed||e.init()})}var e=this,t=e.settings,n=e.id,r=e.suffix;if(!_.domLoaded){x.bind(window,"ready",function(){e.render()});return}e.editorManager.settings=t;if(!e.getElement())return;if(!b.contentEditable)return;t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||x.getParent(n,"form");i&&(e.formElement=i,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&x.insertAfter(x.create("input",{type:"hidden",name:n}),n),e.formEventDelegate=function(t){e.fire(t.type,t)},x.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),t.submit_patch&&!i.submit.nodeType&&!i.submit.length&&!i._mceOldSubmit&&(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.isNotDirty=!0,i._mceOldSubmit(i)})),e.windowManager=new v(e),t.encoding=="xml"&&e.on("GetContent",function(e){e.save&&(e.content=x.encode(e.content))}),t.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&(e.save(),e.isNotDirty=!0)}),t.add_unload_trigger&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0})},e.editorManager.on("BeforeUnload",e._beforeUnload)),s()},init:function(){function d(t){var n=N.get(t),r,i;r=N.urls[t]||e.documentBaseUrl.replace(/\/$/,""),t=O(t),n&&A(p,t)===-1&&(k(N.dependencies(t),function(e){d(e)}),i=new n(e,r),e.plugins[t]=i,i.init&&(i.init(e,r),p.push(t)))}var e=this,t=e.settings,n=e.getElement(),r,i,s,o,u,a,f,l,c,h,p=[];e.editorManager.add(e),t.aria_label=t.aria_label||x.getAttrib(n,"aria-label",e.getLang("aria.rich_text_area")),t.theme&&(typeof t.theme!="function"?(t.theme=t.theme.replace(/-/,""),u=T.get(t.theme),e.theme=new u(e,T.urls[t.theme]),e.theme.init&&e.theme.init(e,T.urls[t.theme]||e.documentBaseUrl.replace(/\/$/,""))):e.theme=t.theme),k(t.plugins.replace(/\-/g,"").split(/[ ,]/),d),e.fire("BeforeRenderUI"),t.render_ui&&e.theme&&(e.orgDisplay=n.style.display,typeof t.theme!="function"?(r=t.width||n.style.width||n.offsetWidth,i=t.height||n.style.height||n.offsetHeight,s=t.min_height||100,c=/^[0-9\.]+(|px)$/i,c.test(""+r)&&(r=Math.max(parseInt(r,10)+(u.deltaWidth||0),100)),c.test(""+i)&&(i=Math.max(parseInt(i,10)+(u.deltaHeight||0),s)),u=e.theme.renderUI({targetNode:n,width:r,height:i,deltaWidth:t.delta_width,deltaHeight:t.delta_height}),t.content_editable||(x.setStyles(u.sizeContainer||u.editorContainer,{wi2dth:r,h2eight:i}),i=(u.iframeHeight||i)+(typeof i=="number"?u.deltaHeight||0:""),i<s&&(i=s))):(u=t.theme(e,n),u.editorContainer.nodeType&&(u.editorContainer=u.editorContainer.id=u.editorContainer.id||e.id+"_parent"),u.iframeContainer.nodeType&&(u.iframeContainer=u.iframeContainer.id=u.iframeContainer.id||e.id+"_iframecontainer"),i=u.iframeHeight||n.offsetHeight),e.editorContainer=u.editorContainer),t.content_css&&k(L(t.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))}),t.content_style&&e.contentStyles.push(t.content_style);if(t.content_editable)return n=o=u=null,e.initContentBody();document.domain&&location.hostname!=document.domain&&(e.editorManager.relaxedDomain=document.domain),e.iframeHTML=t.doctype+"<html><head>",t.document_base_url!=e.documentBaseUrl&&(e.iframeHTML+='<base href="'+e.documentBaseURI.getURI()+'" />'),!b.caretAfter&&t.ie7_compat&&(e.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),e.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(h=0;h<e.contentCSS.length;h++){var v=e.contentCSS[h];e.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+v+'" />',e.loadedCSS[v]=!0}f=t.body_id||"tinymce",f.indexOf("=")!=-1&&(f=e.getParam("body_id","","hash"),f=f[e.id]||f),l=t.body_class||"",l.indexOf("=")!=-1&&(l=e.getParam("body_class","","hash"),l=l[e.id]||""),e.iframeHTML+='</head><body id="'+f+'" class="mce-content-body '+l+'" '+"onload=\"window.parent.tinymce.get('"+e.id+"').fire('load');\"><br></body></html>",e.editorManager.relaxedDomain&&(P||H&&parseFloat(window.opera.version())<11)&&(a='javascript:(function(){document.open();document.domain="'+document.domain+'";'+'var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);'+"document.close();ed.initContentBody();})()"),o=x.add(u.iframeContainer,"iframe",{id:e.id+"_ifr",src:a||'javascript:""',frameBorder:"0",allowTransparency:"true",title:e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:i,display:"block"}}),e.contentAreaContainer=u.iframeContainer,u.editorContainer&&(x.get(u.editorContainer).style.display=e.orgDisplay),x.get(e.id).style.display="none",x.setAttrib(e.id,"aria-hidden",!0),(!e.editorManager.relaxedDomain||!a)&&e.initContentBody(),n=o=u=null},initContentBody:function(){var t=this,n=t.settings,s=x.get(t.id),h=t.getDoc(),p,d;n.inline||(t.getElement().style.visibility=t.orgVisibility),(!P||!t.editorManager.relaxedDomain)&&!n.content_editable&&(h.open(),h.write(t.iframeHTML),h.close(),t.editorManager.relaxedDomain&&(h.domain=t.editorManager.relaxedDomain)),n.content_editable&&(t.on("remove",function(){var e=this.getBody();x.removeClass(e,"mce-content-body"),x.removeClass(e,"mce-edit-focus"),x.setAttrib(e,"tabIndex",null),x.setAttrib(e,"contentEditable",null)}),x.addClass(s,"mce-content-body"),s.tabIndex=-1,t.contentDocument=h=n.content_document||document,t.contentWindow=n.content_window||window,t.bodyElement=s,n.content_document=n.content_window=null,n.root_name=s.nodeName.toLowerCase()),p=t.getBody(),p.disabled=!0,n.readonly||(p.contentEditable=t.getParam("content_editable_state",!0)),p.disabled=!1,t.schema=new m(n),t.dom=new e(h,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:n.force_hex_style_colors,class_filter:n.class_filter,update_styles:!0,root_element:n.content_editable?t.id:null,schema:t.schema,onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=new g(n,t.schema),t.parser.addAttributeFilter("src,href,style",function(e,n){var r=e.length,i,s=t.dom,o,u;while(r--)i=e[r],o=i.attr(n),u="data-mce-"+n,i.attributes.map[u]||(n==="style"?i.attr(u,s.serializeStyle(s.parseStyle(o),i.name)):i.attr(u,t.convertURL(o,n,i.name)))}),t.parser.addNodeFilter("script",function(e){var t=e.length,n;while(t--)n=e[t],n.attr("type","mce-"+(n.attr("type")||"text/javascript"))}),t.parser.addNodeFilter("#cdata",function(e){var t=e.length,n;while(t--)n=e[t],n.type=8,n.name="#comment",n.value="[CDATA["+n.value+"]]"}),t.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){var n=e.length,i,s=t.schema.getNonEmptyElements();while(n--)i=e[n],i.isEmpty(s)&&(i.empty().append(new r("br",1)).shortEnded=!0)}),t.serializer=new i(n,t),t.selection=new o(t.dom,t.getWin(),t.serializer,t),t.formatter=new u(t),t.undoManager=new a(t),t.forceBlocks=new l(t),t.enterKey=new f(t),t.editorCommands=new c(t),t.fire("PreInit"),!n.browser_spellcheck&&!n.gecko_spellcheck&&(h.body.spellcheck=!1,x.setAttrib(p,"spellcheck","false")),t.fire("PostRender"),t.quirks=y(t),n.directionality&&(p.dir=n.directionality),n.nowrap&&(p.style.whiteSpace="nowrap"),n.protect&&t.on("BeforeSetContent",function(e){k(n.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),n.padd_empty_editor&&t.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.initialized=!0,k(t._pendingNativeEvents,function(e){t.dom.bind(B(t,e),e,function(e){t.fire(e.type,e)})}),t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),t.contentStyles.length>0&&(d="",k(t.contentStyles,function(e){d+=e+"\r\n"}),t.dom.addStyle(d)),k(t.contentCSS,function(e){t.loadedCSS[e]||(t.dom.loadCSS(e),t.loadedCSS[e]=!0)}),n.auto_focus&&setTimeout(function(){var e=t.editorManager.get(n.auto_focus);e.selection.select(e.getBody(),1),e.selection.collapse(1),e.getBody().focus(),e.getWin().focus()},100),s=h=p=null},focus:function(e){var t,n=this,r=n.selection,i=n.settings.content_editable,s,o,u=n.getDoc(),a;if(!e){s=r.getRng(),s.item&&(o=s.item(0)),n._refreshContentEditable(),i||(b.opera||n.getBody().focus(),n.getWin().focus());if(D||i)a=n.getBody(),a.setActive?a.setActive():a.focus(),i&&r.normalize();o&&o.ownerDocument==u&&(s=u.body.createControlRange(),s.addElement(o),s.select())}n.editorManager.activeEditor!=n&&((t=n.editorManager.activeEditor)&&t.fire("deactivate",{relatedTarget:n}),n.fire("activate",{relatedTarget:t})),n.editorManager.activeEditor=n},execCallback:function(e){var t=this,n=t.settings[e],r;if(!n)return;return t.callbackLookup&&(r=t.callbackLookup[e])&&(n=r.func,r=r.scope),typeof n=="string"&&(r=n.replace(/\.\w+$/,""),r=r?M(r):0,n=M(n),t.callbackLookup=t.callbackLookup||{},t.callbackLookup[e]={func:n,scope:r}),n.apply(r||t,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?n[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n[t+"."+r]||"{#"+r+"}"}):""},getLang:function(e,n){return this.editorManager.i18n[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var r=e in this.settings?this.settings[e]:t,i;return n==="hash"?(i={},typeof r=="string"?k(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(e){e=e.split("="),e.length>1?i[O(e[0])]=O(e[1]):i[O(e[0])]=O(e)}):i=r,i):r},nodeChanged:function(){var e=this,t=e.selection,n,r,i;e.initialized&&!e.settings.disable_nodechange&&(i=e.getBody(),n=t.getStart()||i,n=P&&n.ownerDocument!=e.getDoc()?e.getBody():n,n.nodeName=="IMG"&&t.isCollapsed()&&(n=n.parentNode),r=[],e.dom.getParent(n,function(e){if(e===i)return!0;r.push(e)}),e.fire("NodeChange",{element:n,parents:r}))},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),!t.text&&!t.icon&&(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){var i=this,s=0,o;!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)&&(!r||!r.skip_focus)&&i.focus(),r=C({},r),r=i.fire("BeforeExecCommand",{command:e,ui:t,value:n});if(r.isDefaultPrevented())return!1;if(o=i.execCommands[e])if(o.func.call(o.scope,t,n)!==!0)return i.fire("ExecCommand",{command:e,ui:t,value:n}),!0;k(i.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n))return i.fire("ExecCommand",{command:e,ui:t,value:n}),s=!0,!1});if(s)return s;if(i.theme&&i.theme.execCommand&&i.theme.execCommand(e,t,n))return i.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(i.editorCommands.execCommand(e,t,n))return i.fire("ExecCommand",{command:e,ui:t,value:n}),!0;i.getDoc().execCommand(e,t,n),i.fire("ExecCommand",{command:e,ui:t,value:n})},queryCommandState:function(e){var t=this,n,r;if(t._isHidden())return;if(n=t.queryStateCommands[e]){r=n.func.call(n.scope);if(r!==!0)return r}r=t.editorCommands.queryCommandState(e);if(r!==-1)return r;try{return t.getDoc().queryCommandState(e)}catch(i){}},queryCommandValue:function(e){var n=this,r,i;if(n._isHidden())return;if(r=n.queryValueCommands[e]){i=r.func.call(r.scope);if(i!==!0)return i}i=n.editorCommands.queryCommandValue(e);if(i!==t)return i;try{return n.getDoc().queryCommandValue(e)}catch(s){}},show:function(){var e=this;x.show(e.getContainer()),x.hide(e.id),e.load(),e.fire("show")},hide:function(){var e=this,t=e.getDoc();P&&t&&t.execCommand("SelectAll"),e.save(),x.hide(e.getContainer()),x.setStyle(e.id,"display",e.orgDisplay),e.fire("hide")},isHidden:function(){return!x.isHidden(this.id)},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n=this,r=n.getElement(),i;if(r)return e=e||{},e.load=!0,i=n.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,i},save:function(e){var t=this,n=t.getElement(),r,i;if(!n||!t.initialized)return;return e=e||{},e.save=!0,e.element=n,r=e.content=t.getContent(e),e.no_events||t.fire("SaveContent",e),r=e.content,/TEXTAREA|INPUT/i.test(n.nodeName)?n.value=r:(n.innerHTML=r,(i=x.getParent(t.id,"form"))&&k(i.elements,function(e){if(e.name==t.id)return e.value=r,!1})),e.element=n=null,t.isNotDirty=!0,r},setContent:function(e,t){var n=this,r=n.getBody(),i;t=t||{},t.format=t.format||"html",t.set=!0,t.content=e,t.no_events||n.fire("BeforeSetContent",t),e=t.content;if(!P&&(e.length===0||/^\s+$/.test(e))){i=n.settings.forced_root_block,i&&n.schema.isValidChild(r.nodeName.toLowerCase(),i.toLowerCase())?e="<"+i+'><br data-mce-bogus="1"></'+i+">":e='<br data-mce-bogus="1">',r.innerHTML=e,n.selection.select(r,!0),n.selection.collapse(!0),n.fire("SetContent",t);return}return t.format!=="raw"&&(e=(new s({},n.schema)).serialize(n.parser.parse(e,{isRootContent:!0}))),t.content=O(e),n.dom.setHTML(r,t.content),t.no_events||n.fire("SetContent",t),(!n.settings.content_editable||document.activeElement===n.getBody())&&n.selection.normalize(),t.content},getContent:function(e){var t=this,n,r=t.getBody();return e=e||{},e.format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),e.format=="raw"?n=r.innerHTML:e.format=="text"?n=r.innerText||r.textContent:n=t.serializer.serialize(r,e),e.format!="text"?e.content=O(n):e.content=n,e.no_events||t.fire("GetContent",e),e.content},insertContent:function(e){this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=x.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return x.get(this.settings.content_element||this.id)},getWin:function(){var e=this,t;return e.contentWindow||(t=x.get(e.id+"_ifr"),t&&(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var e=this,t;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&n.nodeName=="LINK"||e.indexOf("file:")===0||e.length===0?e:i.relative_urls?r.documentBaseURI.toRelative(e):(e=r.documentBaseURI.toAbsolute(e,i.remove_script_host),e)},addVisual:function(e){var n=this,r=n.settings,i=n.dom,s;e=e||n.getBody(),n.hasVisual===t&&(n.hasVisual=r.visual),k(i.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":s=r.visual_table_class||"mce-item-table",t=i.getAttrib(e,"border");if(!t||t=="0")n.hasVisual?i.addClass(e,s):i.removeClass(e,s);return;case"A":i.getAttrib(e,"href",!1)||(t=i.getAttrib(e,"name")||e.id,s="mce-item-anchor",t&&(n.hasVisual?i.addClass(e,s):i.removeClass(e,s)));return}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this,t=e.getContainer(),n=e.getDoc();e.removed||(e.removed=1,P&&n&&n.execCommand("SelectAll"),e.save(),x.setStyle(e.id,"display",e.orgDisplay),e.settings.content_editable||(_.unbind(e.getWin()),_.unbind(e.getDoc())),_.unbind(e.getBody()),_.unbind(t),e.fire("remove"),e.editorManager.remove(e),x.remove(t))},bindNative:function(e){var t=this;t.initialized?t.dom.bind(B(t,e),e,function(n){t.fire(e,n)}):t._pendingNativeEvents?t._pendingNativeEvents.push(e):t._pendingNativeEvents=[e]},unbindNative:function(e){var t=this;t.initialized&&t.dom.unbind(e)},destroy:function(e){var t=this,n;if(t.destroyed)return;D&&(_.unbind(t.getDoc()),_.unbind(t.getWin()),_.unbind(t.getBody())),e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),t.selection.destroy(),t.dom.destroy()),n=t.formElement,n&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null,x.unbind(n,"submit reset",t.formEventDelegate)),t.contentAreaContainer=t.formElement=t.container=null,t.settings.content_element=t.bodyElement=t.contentDocument=t.contentWindow=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null),t.destroyed=1},_refreshContentEditable:function(){var e=this,t,n;e._isHidden()&&(t=e.getBody(),n=t.parentNode,n.removeChild(t),n.appendChild(t),t.focus())},_isHidden:function(){var e;return D?(e=this.selection.getSel(),!e||!e.rangeCount||e.rangeCount===0):0}},C(j.prototype,E),j}),i("tinymce/util/I18n",[],function(){var e={};return{add:function(t,n){for(var r in n)e[r]=n[r]},translate:function(t){if(typeof t=="undefined")return t;if(typeof t!="string"&&t.raw)return t.raw;if(t.push){var n=t.slice(1);t=(e[t[0]]||t[0]).replace(/\{([^\}]+)\}/g,function(e,t){return n[t]})}return e[t]||t},data:e}}),i("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(e,t){function n(r){function i(){try{return document.activeElement}catch(e){return document.body}}function s(s){function f(t){return!!e.DOM.getParent(t,n.isEditorUIElement)}var o=s.editor,u,a;o.on("init",function(){"onbeforedeactivate"in document?o.dom.bind(o.getBody(),"beforedeactivate",function(){var e=o.getDoc().selection;u=e&&e.createRange?e.createRange():o.selection.getRng()}):o.inline&&(o.on("nodechange",function(){var e,t=document.activeElement;while(t){if(t==o.getBody()){e=!0;break}t=t.parentNode}e&&(u=o.selection.getRng())}),t.webkit&&(a=function(){var e=o.selection.getRng();e.collapsed||(u=e)},e.DOM.bind(document,"selectionchange",a),o.on("remove",function(){e.DOM.unbind(document,"selectionchange",a)})))}),o.on("focusin",function(){var e=r.focusedEditor;o.selection.restoreRng&&(o.selection.setRng(o.selection.restoreRng),o.selection.restoreRng=null),e!=o&&(e&&e.fire("blur",{focusedEditor:o}),o.fire("focus",{blurredEditor:e}),o.focus(!1),r.focusedEditor=o)}),o.on("focusout",function(){o.selection.restoreRng=u,window.setTimeout(function(){var e=r.focusedEditor;e!=o&&(o.selection.restoreRng=null),!f(i())&&e==o&&(o.fire("blur",{focusedEditor:null}),r.focusedEditor=null,o.selection.restoreRng=null)},0)})}r.on("AddEditor",s)}return n.isEditorUIElement=function(e){return e.className.indexOf("mce-")!==-1},n}),i("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(e,n,r,i,s,o,u,a){var f=n.DOM,l=s.explode,c=s.each,h=s.extend,p=0,d,v={majorVersion:"4",minorVersion:"0",releaseDate:"2013-07-18",editors:[],i18n:u,activeEditor:null,setup:function(){var e=this,t,n,i="",s;n=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"),s=window.tinymce||window.tinyMCEPreInit;if(s)t=s.base||s.baseURL,i=s.suffix;else{var o=document.getElementsByTagName("script");for(var u=0;u<o.length;u++){var f=o[u].src;if(/tinymce(\.jquery|)(\.min|\.dev|)\.js/.test(f)){f.indexOf(".min")!=-1&&(i=".min"),t=f.substring(0,f.lastIndexOf("/"));break}}}e.baseURL=(new r(n)).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new r(e.baseURL),e.suffix=i,e.focusManager=new a(e)},init:function(t){function s(e){var t=e.id;return t||(t=e.name,t&&!f.get(t)?t=e.name:t=f.uniqueId(),e.setAttribute("id",t)),t}function o(e,t,n){var r=e[t];if(!r)return;return r.apply(n||this,Array.prototype.slice.call(arguments,2))}function u(e,t){return t.constructor===RegExp?t.test(e.className):f.hasClass(e,t)}var n=this,r=[],i;n.settings=t,f.bind(window,"ready",function(){var a,d;o(t,"onpageload");if(t.types){c(t.types,function(i){c(f.select(i.selector),function(o){var u=new e(s(o),h({},t,i),n);r.push(u),u.render(1)})});return}if(t.selector){c(f.select(t.selector),function(i){var o=new e(s(i),t,n);r.push(o),o.render(1)});return}switch(t.mode){case"exact":a=t.elements||"",a.length>0&&c(l(a),function(s){f.get(s)?(i=new e(s,t,n),r.push(i),i.render(!0)):c(document.forms,function(o){c(o.elements,function(o){o.name===s&&(s="mce_editor_"+p++,f.setAttrib(o,"id",s),i=new e(s,t,n),r.push(i),i.render(1))})})});break;case"textareas":case"specific_textareas":c(f.select("textarea"),function(o){if(t.editor_deselector&&u(o,t.editor_deselector))return;if(!t.editor_selector||u(o,t.editor_selector))i=new e(s(o),t,n),r.push(i),i.render(!0)})}t.oninit&&(a=d=0,c(r,function(e){d++,e.initialized?a++:e.on("init",function(){a++,a==d&&o(t,"oninit")}),a==d&&o(t,"oninit")}))})},get:function(e){return e===t?this.editors:this.editors[e]},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),t.activeEditor=e,t.fire("AddEditor",{editor:e}),d||(d=function(){t.fire("BeforeUnload")},f.bind(window,"beforeunload",d)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t=this,n,r=t.editors,i;if(!e){for(n=r.length-1;n>=0;n--)t.remove(r[n]);return}if(typeof e=="string"){e=e.selector||e,c(f.select(e),function(e){t.remove(r[e.id])});return}i=e;if(!r[i.id])return null;delete r[i.id];for(n=0;n<r.length;n++)if(r[n]==i){r.splice(n,1);break}t.activeEditor==i&&(t.activeEditor=r[0]);if(!i||i.removed)return;return i.remove(),i.destroy(),t.fire("RemoveEditor",{editor:i}),r.length||f.unbind(window,"beforeunload",d),i},execCommand:function(t,n,r){var i=this,s=i.get(r);switch(t){case"mceAddEditor":return i.get(r)||(new e(r,i.settings,i)).render(),!0;case"mceRemoveEditor":return s&&s.remove(),!0;case"mceToggleEditor":if(!s)return i.execCommand("mceAddEditor",0,r),!0;return s.isHidden()?s.show():s.hide(),!0}return i.activeEditor?i.activeEditor.execCommand(t,n,r):!1},triggerSave:function(){c(this.editors,function(e){e.save()})},addI18n:function(e,t){u.add(e,t)},translate:function(e){return u.translate(e)}};return h(v,o),v.setup(),window.tinymce=window.tinyMCE=v,v}),i("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(e,t){var n=t.each,r=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function u(e,t){n(t,function(t,n){t&&s.setStyle(e,n,t)}),s.rename(e,"span")}function a(r){s=t.dom,o.convert_fonts_to_spans&&n(s.select("font,u,strike",r.node),function(t){e[t.nodeName.toLowerCase()](s,t)})}var e,i,s,o=t.settings;o.inline_styles&&(i=r(o.font_size_legacy_values),e={font:function(e,t){u(t,{backgroundColor:t.style.backgroundColor,color
:t.color,fontFamily:t.face,fontSize:i[parseInt(t.size,10)-1]})},u:function(e,t){u(t,{textDecoration:"underline"})},strike:function(e,t){u(t,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",a))})})}),i("tinymce/util/XHR",[],function(){return{send:function(e){function r(){!e.async||t.readyState==4||n++>1e4?(e.success&&n<1e4&&t.status==200?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10)}var t,n=0;e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",t=new XMLHttpRequest;if(t){t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(e.data);if(!e.async)return r();setTimeout(r,10)}}}}),i("tinymce/util/JSON",[],function(){function e(t,n){var r,i,s,o;n=n||'"';if(t===null)return"null";s=typeof t;if(s=="string")return i="\bb	t\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return n==='"'&&e==="'"?e:(r=i.indexOf(t),r+1?"\\"+i.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+n;if(s=="object"){if(t.hasOwnProperty&&Object.prototype.toString.call(t)==="[object Array]"){for(r=0,i="[";r<t.length;r++)i+=(r>0?",":"")+e(t[r],n);return i+"]"}i="{";for(o in t)t.hasOwnProperty(o)&&(i+=typeof t[o]!="function"?(i.length>1?","+n:n)+o+n+":"+e(t[o],n):"");return i+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),i("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(e,t,n){function i(e){this.settings=r({},e),this.count=0}var r=n.extend;return i.sendRPC=function(e){return(new i).send(e)},i.prototype={send:function(n){var i=n.error,s=n.success;n=r(this.settings,n),n.success=function(t,r){t=e.parse(t),typeof t=="undefined"&&(t={error:"JSON Parse error."}),t.error?i.call(n.error_scope||n.scope,t.error,r):s.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},i}),i("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(e){return{callbacks:{},count:0,send:function(n){var r=this,i=e.DOM,s=n.count!==t?n.count:r.count,o="tinymce_jsonp_"+s;r.callbacks[s]=function(e){i.remove(o),delete r.callbacks[s],n.callback(e)},i.add(i.doc.body,"script",{id:o,src:n.url,type:"text/javascript"}),r.count++}}}),i("tinymce/util/LocalStorage",[],function(){function o(){i=[];for(var t in r)i.push(t);e.length=i.length}function u(){function f(e){var n,r;return r=e!==t?a+e:i.indexOf(",",a),r===-1||r>i.length?null:(n=i.substring(a,r),a=r+1,n)}var e,i,u,a=0;r={},n.load(s),i=n.getAttribute(s)||"";do e=f(parseInt(f(),32)||0),e!==null&&(u=f(parseInt(f(),32)||0),r[e]=u);while(e!==null);o()}function a(){var e,t="";for(var i in r)e=r[i],t+=(t?",":"")+i.length.toString(32)+","+i+","+e.length.toString(32)+","+e;n.setAttribute(s,t),n.save(s),o()}var e,n,r,i,s;return window.localStorage?localStorage:(s="tinymce",n=document.documentElement,n.addBehavior("#default#userData"),e={key:function(e){return i[e]},getItem:function(e){return e in r?r[e]:null},setItem:function(e,t){r[e]=""+t,a()},removeItem:function(e){delete r[e],a()},clear:function(){r={},a()}},u(),e)}),i("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(e,t,n,r,i,s){var o=window.tinymce;return o.DOM=e.DOM,o.ScriptLoader=n.ScriptLoader,o.PluginManager=r.PluginManager,o.ThemeManager=r.ThemeManager,o.dom=o.dom||{},o.dom.Event=t.Event,i.each(i,function(e,t){o[t]=e}),i.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){o[e]=s[e.substr(2).toLowerCase()]}),{}}),i("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.addClass(this.settings.containerClass,"body")},applyClasses:function(e){var t=this,n=t.settings,r,i,s;r=e.items().filter(":visible"),i=n.firstControlClass,s=n.lastControlClass,r.each(function(e){e.removeClass(i).removeClass(s),n.controlClass&&e.addClass(n.controlClass)}),r.eq(0).addClass(i),r.eq(-1).addClass(s)},renderHtml:function(e){var t=this,n=t.settings,r,i="";return r=e.items(),r.eq(0).addClass(n.firstControlClass),r.eq(-1).addClass(n.lastControlClass),r.each(function(e){n.controlClass&&e.addClass(n.controlClass),i+=e.renderHtml()}),i},recalc:function(){},postRender:function(){}})}),i("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),i("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},text:function(e){var t=this;return typeof e!="undefined"?(t._value=e,t._rendered&&(t.getEl().lastChild.innerHTML=t.encode(e)),t):t._value},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes()+'" role="presentation">'+'<div class="'+t+'tooltip-arrow"></div>'+'<div class="'+t+'tooltip-inner">'+e.encode(e._text)+"</div>"+"</div>"},repaint:function(){var e=this,t,n;t=e.getEl().style,n=e._layoutRect,t.left=n.x+"px",t.top=n.y+"px",t.zIndex=131070}})}),i("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(e,t){var n,r=e.extend({init:function(e){var t=this;t._super(e),t.canFocus=!0,e.tooltip&&r.tooltips!==!1&&t.on("mouseenter mouseleave",function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t&&n.type=="mouseenter"){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.toggleClass("tooltip-n",i=="bc-tc"),r.toggleClass("tooltip-nw",i=="bc-tl"),r.toggleClass("tooltip-ne",i=="bc-tr"),r.moveRel(t.getEl(),i)}else r.hide()}),t.aria("label",e.tooltip)},tooltip:function(){var e=this;return n||(n=new t({type:"tooltip"}),n.renderTo(e.getContainerElm())),n},active:function(e){var t=this,n;return e!==n&&(t.aria("pressed",e),t.toggleClass("active",e)),t._super(e)},disabled:function(e){var t=this,n;return e!==n&&(t.aria("disabled",e),t.toggleClass("disabled",e)),t._super(e)},postRender:function(){var e=this,t=e.settings;e._rendered=!0,e._super(),!e.parent()&&(t.width||t.height)&&(e.initLayoutRect(),e.repaint()),t.autofocus&&setTimeout(function(){e.focus()},0)},remove:function(){this._super(),n&&(n.remove(),n=null)}});return r}),i("tinymce/ui/Button",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t=this,n;t.on("click mousedown",function(e){e.preventDefault()}),t._super(e),n=e.size,e.subtype&&t.addClass(e.subtype),n&&t.addClass("btn-"+n)},repaint:function(){var e=this.getEl().firstChild.style;e.width=e.height="100%",this._super()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.settings.icon,i="";return e.settings.image&&(r="none",i=" style=\"background-image: url('"+e.settings.image+"')\""),r=e.settings.icon?n+"ico "+n+"i-"+r:"",'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1">'+'<button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+i+"></i>":"")+(e._text?(r?" ":"")+e.encode(e._text):"")+"</button>"+"</div>"}})}),i("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{defaultType:"button",role:"toolbar"},renderHtml:function(){var e=this,t=e._layout;return e.addClass("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'">'+'<div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"}})}),i("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){var t=this;return typeof e!="undefined"?(e?t.addClass("checked"):t.removeClass("checked"),t._checked=e,t.aria("checked",e),t):t._checked},value:function(e){return this.checked(e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes()+'" unselectable="on" aria-labeledby="'+t+'-al" tabindex="-1">'+'<i class="'+n+"ico "+n+'i-checkbox"></i>'+'<span id="'+t+'-al" class="'+n+'label">'+e.encode(e._text)+"</span>"+"</div>"}})}),i("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;n.panel.popover=!0,n.panel.autohide=!0,e.active(!0),e.panel?e.panel.show():(e.panel=(new t(n.panel)).on("hide",function(){e.active(!1)}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()),e.panel.moveRel(e.getEl(),n.popoverAlign||"bc-tc")},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():e.showPanel())}),e._super()}})}),i("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.addClass("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",i=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"";return'<div id="'+t+'" class="'+e.classes()+'">'+'<button role="presentation" hidefocus type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+i+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+(e._text?(r?" ":"")+e._text:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus tabindex="-1">'+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(r){r.control==e&&!n.getParent(r.target,"."+e.classPrefix+"open")&&(r.stopImmediatePropagation(),t.call(e,r))}),delete e.settings.onclick,e._super()}})}),i("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){return e.extend({init:function(e){var n=this;n._super(e),n.addClass("combobox"),n.on("click",function(e){var t=e.target;while(t)t.id&&t.id.indexOf("-open")!=-1&&n.fire("action"),t=t.parentNode}),n.on("keydown",function(e){e.target.nodeName=="INPUT"&&e.keyCode==13&&n.parents().reverse().each(function(t){e.preventDefault(),n.fire("change");if(t.submit)return t.submit(),!1})}),e.placeholder&&(n.addClass("placeholder"),n.on("focusin",function(){n._hasOnChange||(t.on(n.getEl("inp"),"change",function(){n.fire("change")}),n._hasOnChange=!0),n.hasClass("placeholder")&&(n.getEl("inp").value="",n.removeClass("placeholder"))}),n.on("focusout",function(){n.value().length===0&&(n.getEl("inp").value=e.placeholder,n.addClass("placeholder"))}))},value:function(e){var t=this;return typeof e!="undefined"?(t._value=e,t.removeClass("placeholder"),t._rendered&&(t.getEl("inp").value=e),t):t._rendered?(e=t.getEl("inp").value,e!=t.settings.placeholder?e:""):t._value},disabled:function(e){var t=this;t._super(e),t._rendered&&(t.getEl("inp").disabled=e)},focus:function(){this.getEl("inp").focus()},repaint:function(){var e=this,n=e.getEl(),r=e.getEl("open"),i=e.layoutRect(),s,o;r?s=i.w-r.offsetWidth-10:s=i.w-10;var u=document;return u.all&&(!u.documentMode||u.documentMode<=8)&&(o=e.layoutRect().h-2+"px"),t.css(n.firstChild,{width:s,lineHeight:o}),e._super(),e},postRender:function(){var e=this;return t.on(this.getEl("inp"),"change",function(){e.fire("change")}),e._super()},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.classPrefix,i=n.value||n.placeholder||"",s,o,u="";s=n.icon?r+"ico "+r+"i-"+n.icon:"",o=e._text;if(s||o)u='<div id="'+t+'-open" class="'+r+"btn "+r+'open" tabIndex="-1">'+'<button id="'+t+'-action" type="button" hidefocus tabindex="-1">'+(s?'<i class="'+s+'"></i>':'<i class="'+r+'caret"></i>')+(o?(s?" ":"")+o:"")+"</button>"+"</div>",e.addClass("has-open");return'<div id="'+t+'" class="'+e.classes()+'">'+'<input id="'+t+'-inp" class="'+r+"textbox "+r+'placeholder" value="'+i+'" hidefocus="true">'+u+"</div>"}})}),i("tinymce/ui/Path",["tinymce/ui/Control","tinymce/ui/KeyboardNavigation"],function(e,t){return e.extend({Defaults:{delimiter:"»"},init:function(e){var t=this;t._super(e),t.addClass("path"),t.canFocus=!0,t.on("click",function(e){var n,r=e.target;(n=r.getAttribute("data-index"))&&t.fire("select",{value:t.data()[n],index:n})})},focus:function(){var e=this;return e.keyNav=new t({root:e,enableLeftRight:!0}),e.keyNav.focusFirst(),e},data:function(e){var t=this;return typeof e!="undefined"?(t._data=e,t.update(),t):t._data},update:function(){this.getEl().innerHTML=this._getPathHtml()},postRender:function(){var e=this;e._super(),e.data(e.settings.data)},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classPrefix+'path">'+e._getPathHtml()+"</div>"},_getPathHtml:function(){var e=this,t=e._data||[],n,r,i="",s=e.classPrefix;for(n=0,r=t.length;n<r;n++)i+=(n>0?'<div class="'+s+'divider" aria-hidden="true"> '+e.settings.delimiter+" </div>":"")+'<div role="button" class="'+s+"path-item"+(n==r-1?" "+s+"last":"")+'" data-index="'+n+'" tabindex="-1" id="'+e._id+"-"+n+'">'+t[n].name+"</div>";return i||(i='<div class="'+s+'path-item">&nbsp;</div>'),i}})}),i("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(e,t){return e.extend({postRender:function(){function r(e){return e.nodeType===1&&(e.nodeName=="BR"||!!e.getAttribute("data-mce-bogus"))}var e=this,n=t.activeEditor;return e.on("select",function(e){var t=[],i,s=n.getBody();n.focus(),i=n.selection.getStart();while(i&&i!=s)r(i)||t.push(i),i=i.parentNode;n.selection.select(t[t.length-1-e.index]),n.nodeChanged()}),n.on("nodeChange",function(t){var i=[],s=t.parents,o=s.length;while(o--)if(s[o].nodeType==1&&!r(s[o])){var u=n.fire("ResolveName",{name:s[o].nodeName.toLowerCase(),target:s[o]});i.push({name:u.name})}e.data(i)}),e._super()}})}),i("tinymce/ui/FormItem",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.addClass("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"}})}),i("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem"],function(e,t){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10},preRender:function(){var e=this,n=e.items();n.each(function(n){var r,i=n.settings.label;i&&(r=new t({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",text:i,flex:0,forId:n._id}]}),r.type="formitem",typeof n.settings.flex=="undefined"&&(n.settings.flex=1),e.replace(n,r),r.add(n))})},recalcLabels:function(){var e=this,t=0,n=[],r,i;if(e.settings.labelGapCalc===!1)return;e.items().filter("formitem").each(function(e){var r=e.items()[0],i=r.getEl().clientWidth;t=i>t?i:t,n.push(r)}),i=e.settings.labelGap||0,r=n.length;while(r--)n[r].settings.minWidth=t+i},visible:function(e){var t=this._super(e);return e===!0&&this._rendered&&this.recalcLabels(),t},submit:function(){var e=this.getParentCtrl(document.activeElement);return e&&e.blur(),this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.recalcLabels(),e.fromJSON(e.settings.data)}})}),i("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</fieldset>"}})}),i("tinymce/ui/FilePicker",["tinymce/ui/ComboBox"],function(e){return e.extend({init:function(e){var t=this,n=tinymce.activeEditor,r;e.spellcheck=!1,r=n.settings.file_browser_callback,r&&(e.icon="browse",e.onaction=function(){r(t.getEl("inp").id,t.getEl("inp").value,e.filetype,window)}),t._super(e)}})}),i("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox();e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),i("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g=[],y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U=Math.max,z=Math.min;r=e.items().filter(":visible"),i=e.layoutRect(),s=e._paddingBox,o=e.settings,h=o.direction,u=o.align,a=o.pack,f=o.spacing||0;if(h=="row-reversed"||h=="column-reverse")r=r.set(r.toArray().reverse()),h=h.split("-")[0];h=="column"?(C="y",T="h",N="minH",k="maxH",A="innerH",L="top",O="bottom",M="deltaH",_="contentH",F="left",H="w",D="x",P="innerW",B="minW",j="maxW",I="right",q="deltaW",R="contentW"):(C="x",T="w",N="minW",k="maxW",A="innerW",L="left",O="right",M="deltaW",_="contentW",F="top",H="h",D="y",P="innerH",B="minH",j="maxH",I="bottom",q="deltaH",R="contentH"),c=i[A]-s[L]-s[L],x=l=0;for(t=0,n=r.length;t<n;t++)p=r[t],d=p.layoutRect(),v=p.settings,m=v.flex,c-=t<n-1?f:0,m>0&&(l+=m,d[k]&&g.push(p),d.flex=m),c-=d[N],y=s[F]+d[B]+s[I],y>x&&(x=y);E={},c<0?E[N]=i[N]-c+i[M]:E[N]=i[A]-c+i[M],E[B]=x+i[q],E[_]=i[A]-c,E[R]=x,E.minW=z(E.minW,i.maxW),E.minH=z(E.minH,i.maxH),E.minW=U(E.minW,i.startMinWidth),E.minH=U(E.minH,i.startMinHeight);if(!(!i.autoResize||E.minW==i.minW&&E.minH==i.minH)){E.w=E.minW,E.h=E.minH,e.layoutRect(E),this.recalc(e);if(e._lastRect===null){var W=e.parent();W&&(W._lastRect=null,W.recalc())}return}w=c/l;for(t=0,n=g.length;t<n;t++)p=g[t],d=p.layoutRect(),b=d[k],y=d[N]+Math.ceil(d.flex*w),y>b?(c-=d[k]-d[N],l-=d.flex,d.flex=0,d.maxFlexSize=b):d.maxFlexSize=0;w=c/l,S=s[L],E={},l===0&&(a=="end"?S=c+s[L]:a=="center"?(S=Math.round(i[A]/2-(i[A]-c)/2)+s[L],S<0&&(S=s[L])):a=="justify"&&(S=s[L],f=Math.floor(c/(r.length-1)))),E[D]=s[F];for(t=0,n=r.length;t<n;t++)p=r[t],d=p.layoutRect(),y=d.maxFlexSize||d[N],u==="center"?E[D]=Math.round(i[P]/2-d[H]/2):u==="stretch"?(E[H]=U(d[B]||0,i[P]-s[F]-s[I]),E[D]=s[F]):u==="end"&&(E[D]=i[P]-d[H]-s.top),d.flex>0&&(y+=Math.ceil(d.flex*w)),E[T]=y,E[C]=S,p.layoutRect(E),p.recalc&&p.recalc(),S+=y+f}})}),i("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})}})}),i("tinymce/ui/FormatControls",["tinymce/ui/Factory","tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(e,t,n,r,i,s,o){function a(e){function l(e){return e.replace(/%(\w+)/g,"")}var t=s.activeEditor,n,r,i=t.dom,o="",a,f;f=t.settings.preview_styles;if(f===!1)return"";f||(f="font-family font-size font-weight text-decoration text-transform color background-color border border-radius"),e=t.formatter.get(e);if(!e)return;return e=e[0],n=e.block||e.inline||"span",r=i.create(n),u(e.styles,function(e,t){e=l(e),e&&i.setStyle(r,t,e)}),u(e.attributes,function(e,t){e=l(e),e&&i.setAttrib(r,t,e)}),u(e.classes,function(e){e=l(e),i.hasClass(r,e)||i.addClass(r,e)}),t.fire("PreviewFormats"),i.setStyles(r,{position:"absolute",left:-65535}),t.getBody().appendChild(r),a=i.getStyle(t.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,u(f.split(" "),function(e){var n=i.getStyle(r,e,!0);if(e=="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)){n=i.getStyle(t.getBody(),e,!0);if(i.toHex(n).toLowerCase()=="#ffffff")return}if(e=="color"&&i.toHex(n).toLowerCase()=="#000000")return;if(e=="font-size"&&/em|%$/.test(n)){if(a===0)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*a+"px"}e=="border"&&n&&(o+="padding:0 2px;"),o+=e+":"+n+";"}),t.fire("AfterPreviewFormats"),i.remove(r),o}function f(e,t){return function(){var n=this;s.activeEditor.on("nodeChange",function(r){var i=s.activeEditor.formatter,o=null;u(r.parents,function(n){u(e,function(e){t?i.matchNode(n,t,{value:e.value})&&(o=e.value):i.matchNode(n,e.value)&&(o=e.value);if(o)return!1});if(o)return!1}),n.value(o)})}}function l(e){e=e.split(";");var t=e.length;while(t--)e[t]=e[t].split("=");return e}var u=i.each;t.translate=function(e){return s.translate(e)},n.tooltips=!o.iOS,s.on("AddEditor",function(t){function c(){function i(r){var s=[];if(!r)return;return u(r,function(r){var o={text:r.title,icon:r.icon,preview:!0};if(r.items)o.menu=i(r.items);else{var u=r.format||"custom"+e++;r.format||(r.name=u,t.push(r)),o.textStyle=function(){return a(u)},o.onclick=function(){g(u)},o.onPostRender=function(){var e=this;e.parent().on("show",function(){e.disabled(!n.formatter.canApply(u)),e.active(n.formatter.match(u))})}}s.push(o)}),s}var e=0,t=[],r=[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];n.on("init",function(){u(t,function(e){n.formatter.register(e.name,e)})});var s=i(n.settings.style_formats||r);return s}function h(){return n.undoManager?n.undoManager.hasUndo():!1}function p(){return n.undoManager?n.undoManager.hasRedo():!1}function d(){var e=this;e.disabled(!h()),n.on("Undo Redo AddUndo TypingUndo",function(){e.disabled(!h())})}function v(){var e=this;e.disabled(!p()),n.on("Undo Redo AddUndo TypingUndo",function(){e.disabled(!p())})}function m(){var e=this;n.on("VisualAid",function(t){e.active(t.hasVisual)}),e.active(n.hasVisual)}function g(e){e.control&&(e=e.control.value()),e&&s.activeEditor.execCommand("mceToggleFormat",!1,e)}var n=t.editor,o;o=c(),u({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,t){n.addButton(t,{tooltip:e,onPostRender:function(){var e=this;n.formatter?n.formatter.formatChanged(t,function(t){e.active(t)}):n.on("init",function(){n.formatter.formatChanged(t,function(t){e.active(t)})})},onclick:function(){g(t)}})}),u({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,t){n.addButton(t,{tooltip:e[0],cmd:e[1]})}),u({blockquote:["Toggle blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bulleted list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(e,t){n.addButton(t,{tooltip:e[0],cmd:e[1],onPostRender:function(){var e=this;n.formatter?n.formatter.formatChanged(t,function(t){e.active(t)}):n.on("init",function(){n.formatter.formatChanged(t,function(t){e.active(t)})})}})}),n.addButton("undo",{tooltip:"Undo",onPostRender:d,cmd:"undo"}),n.addButton("redo",{tooltip:"Redo",onPostRender:v,cmd:"redo"}),n.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),n.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:d,cmd:"undo"}),n.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:v,cmd:"redo"}),n.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:m,cmd:"mceToggleVisualAid"}),u({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,t){n.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),n.on("mousedown",function(){r.hideAll()}),e.add("styleselect",function(t){var n=[].concat(o);return e.create("menubutton",i.extend({text:"Formats",menu:n},t))}),e.add("formatselect",function(t){var r=[],s=l(n.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");return u(s,function(e){r.push({text:{raw:e[0]},value:e[1],textStyle:function(){return a(e[1])}})}),e.create("listbox",i.extend({text:{raw:s[0][0]},values:r,fixedWidth:!0,onselect:g,onPostRender:f(r)},t))}),e.add("fontselect",function(t){var r="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",o=[],a=l(n.settings.font_formats||r);return u(a,function(e){o.push({text:{raw:e[0]},value:e[1],textStyle:e[1].indexOf("dings")==-1?"font-family:"+e[1]:""})}),e.create("listbox",i.extend({text:"Font Family",tooltip:"Font Family",values:o,fixedWidth:!0,onPostRender:f(o,"fontname"),onselect:function(e){e.control.settings.value&&s.activeEditor.execCommand("FontName",!1,e.control.settings.value)}},t))}),e.add("fontsizeselect",function(t){var r=[],o="8pt 10pt 12pt 14pt 18pt 24pt 36pt",a=n.settings.fontsize_formats||o;return u(a.split(" "),function(e){r.push({text:e,value:e})}),e.create("listbox",i.extend({text:"Font Sizes",tooltip:"Font Sizes",values:r,fixedWidth:!0,onPostRender:f(r,"fontsize"),onclick:function(e){e.control.settings.value&&s.activeEditor.execCommand("FontSize",!1,e.control.settings.value)}},t))}),n.addMenuItem("formats",{text:"Formats",menu:o})})}),i("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t=e.settings,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T=[],N=[],C,k,L,A,O,M;t=e.settings,i=e.items().filter(":visible"),s=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/r),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,w=t.alignH||t.align,E=t.alignV||t.align,m=e._paddingBox,w&&typeof w=="string"&&(w=[w]),E&&typeof E=="string"&&(E=[E]);for(c=0;c<r;c++)T.push(0);for(h=0;h<n;h++)N.push(0);for(h=0;h<n;h++)for(c=0;c<r;c++){l=i[h*r+c];if(!l)break;f=l.layoutRect(),C=f.minW,k=f.minH,T[c]=C>T[c]?C:T[c],N[h]=k>N[h]?k:N[h]}O=s.innerW-m.left-m.right;for(S=0,c=0;c<r;c++)S+=T[c]+(c>0?y:0),O-=(c>0?y:0)+T[c];M=s.innerH-m.top-m.bottom;for(x=0,h=0;h<n;h++)x+=N[h]+(h>0?b:0),M-=(h>0?b:0)+N[h];S+=m.left+m.right,x+=m.top+m.bottom,a={},a.minW=S+(s.w-s.innerW),a.minH=x+(s.h-s.innerH),a.contentW=a.minW-s.deltaW,a.contentH=a.minH-s.deltaH,a.minW=Math.min(a.minW,s.maxW),a.minH=Math.min(a.minH,s.maxH),a.minW=Math.max(a.minW,s.startMinWidth),a.minH=Math.max(a.minH,s.startMinHeight);if(!(!s.autoResize||a.minW==s.minW&&a.minH==s.minH)){a.w=a.minW,a.h=a.minH,e.layoutRect(a),this.recalc(e);if(e._lastRect===null){var _=e.parent();_&&(_._lastRect=null,_.recalc())}return}s.autoResize&&(a=e.layoutRect(a),a.contentW=a.minW-s.deltaW,a.contentH=a.minH-s.deltaH);var D;t.packV=="start"?D=0:D=M>0?Math.floor(M/n):0;var P=0,H=t.flexWidths;if(H)for(c=0;c<H.length;c++)P+=H[c];else P=r;var B=O/P;for(c=0;c<r;c++)T[c]+=H?Math.ceil(H[c]*B):B;d=m.top;for(h=0;h<n;h++){p=m.left,u=N[h]+D;for(c=0;c<r;c++){l=i[h*r+c];if(!l)break;v=l.settings,f=l.layoutRect(),o=T[c],L=A=0,f.x=p,f.y=d,g=v.alignH||(w?w[c]||w[0]:null),g=="center"?f.x=p+o/2-f.w/2:g=="right"?f.x=p+o-f.w:g=="stretch"&&(f.w=o),g=v.alignV||(E?E[c]||E[0]:null),g=="center"?f.y=d+u/2-f.h/2:g=="bottom"?f.y=d+u-f.h:g=="stretch"&&(f.h=u),l.layoutRect(f),p+=o+y,l.recalc&&l.recalc()}d+=u+b}}})}),i("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.addClass("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes()+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e){return this.getEl().contentWindow.document.body.innerHTML=e,this}})}),i("tinymce/ui/Label",["tinymce/ui/Widget"],function(e){return e.extend({init:function(e){var t=this;t._super(e),t.addClass("widget"),t.addClass("label"),t.canFocus=!1,e.multiline&&t.addClass("autoscroll"),e.strong&&t.addClass("strong")},initLayoutRect:function(){var e=this,t=e._super();return e.settings.multiline&&(e.getEl().offsetWidth>t.maxW&&(t.minW=t.maxW,e.addClass("multiline")),e.getEl().style.width=t.minW+"px",t.startMinH=t.h=t.minH=Math.min(t.maxH,e.getEl().offsetHeight)),t},disabled:function(e){var t=this,n;return e!==n&&(t.toggleClass("label-disabled",e),t._rendered&&(t.getEl()[0].className=t.classes())),t._super(e)},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},text:function(e){var t=this;return t._rendered&&e&&(t.getEl().innerHTML=t.encode(e)),t._super(e)},renderHtml:function(){var e=this,t=e.settings.forId;return'<label id="'+e._id+'" class="'+e.classes()+'"'+(t?' for="'+t:"")+'">'+e.encode(e._text)+"</label>"}})}),i("tinymce/ui/Toolbar",["tinymce/ui/Container","tinymce/ui/KeyboardNavigation"],function(e,t){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.addClass("toolbar")},postRender:function(){var e=this;return e.items().addClass("toolbar-item"),e.keyNav=new t({root:e,enableLeftRight:!0}),e._super()}})}),i("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",defaults:{type:"menubutton"}}})}),i("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(e,t,n){function r(e,t){while(e){if(t===e)return!0;e=e.parentNode}return!1}var i=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),t.addClass("menubtn"),e.fixedWidth&&t.addClass("fixed-width"),t.aria("haspopup",!0),t.hasPopup=!0},showMenu:function(){var e=this,n=e.settings,r;if(e.menu&&e.menu.visible())return e.hideMenu();e.menu||(r=n.menu||[],r.length?r={type:"menu",items:r}:r.type=r.type||"menu"
,e.menu=t.create(r).parent(e).renderTo(e.getContainerElm()),e.fire("createmenu"),e.menu.reflow(),e.menu.on("cancel",function(t){t.control===e.menu&&e.focus()}),e.menu.on("show hide",function(t){t.control==e.menu&&e.activeMenu(t.type=="show")}).fire("show"),e.aria("expanded",!0)),e.menu.show(),e.menu.layoutRect({w:e.layoutRect().w}),e.menu.moveRel(e.getEl(),["bl-tl","tl-bl"])},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1))},activeMenu:function(e){this.toggleClass("active",e)},renderHtml:function(){var e=this,t=e._id,r=e.classPrefix,i=e.settings.icon?r+"ico "+r+"i-"+e.settings.icon:"";return e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1">'+'<button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"></i>':"")+"<span>"+(e._text?(i?" ":"")+e.encode(e._text):"")+"</span>"+' <i class="'+r+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&r(t.target,e.getEl())&&(e.showMenu(),t.keyboard&&e.menu.items()[0].focus())}),e.on("mouseenter",function(t){var n=t.control,r=e.parent(),s;n&&r&&n instanceof i&&n.parent()==r&&(r.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(s=!0),e.hideMenu())}),s&&(n.focus(),n.showMenu()))}),e._super()},text:function(e){var t=this,n,r;if(t._rendered){r=t.getEl("open").getElementsByTagName("span");for(n=0;n<r.length;n++)r[n].innerHTML=t.encode(e)}return this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return i}),i("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(e){return e.extend({init:function(e){var t=this,n,r,i,s,o;t._values=n=e.values;if(n){for(r=0;r<n.length;r++)i=n[r].selected||e.value===n[r].value,i&&(s=s||n[r].text,t._value=n[r].value);e.menu=n}e.text=e.text||s||n[0].text,t._super(e),t.addClass("listbox"),t.on("select",function(n){var r=n.control;o&&(n.lastControl=o),e.multiple?r.active(!r.active()):t.value(n.control.settings.value),o=r})},value:function(e){function o(e,t){e.items().each(function(e){n=e.value()===t,n&&(r=r||e.text()),e.active(n),e.menu&&o(e.menu,t)})}var t=this,n,r,i,s;if(typeof e!="undefined"){if(t.menu)o(t.menu,e);else{i=t.settings.menu;for(s=0;s<i.length;s++)n=i[s].value==e,n&&(r=r||i[s].text),i[s].active=n}t.text(r||this.settings.text)}return t._super(e)}})}),i("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory"],function(e,t){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t=this;t.hasPopup=!0,t._super(e),e=t.settings,t.addClass("menu-item"),e.menu&&t.addClass("menu-item-expand"),e.preview&&t.addClass("menu-item-preview");if(t._text==="-"||t._text==="|")t.addClass("menu-item-sep"),t.aria("role","separator"),t.canFocus=!1,t._text="-";e.selectable&&(t.aria("role","menuitemcheckbox"),t.aria("checked",!0),t.addClass("menu-item-checkbox"),e.icon="selected"),t.on("mousedown",function(e){e.preventDefault()}),t.on("mouseenter click",function(n){n.control===t&&(!e.menu&&n.type==="click"?(t.parent().hideAll(),t.fire("cancel"),t.fire("select")):(t.showMenu(),n.keyboard&&setTimeout(function(){t.menu.items()[0].focus()},0)))}),e.menu&&t.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e=this,n=e.settings,r;e.parent().items().each(function(t){t!==e&&t.hideMenu()});if(n.menu){r=e.menu,r?r.show():(r=n.menu,r.length?r={type:"menu",items:r}:r.type=r.type||"menu",r=e.menu=t.create(r).parent(e).renderTo(e.getContainerElm()),r.reflow(),r.fire("show"),r.on("cancel",function(){e.focus()}),r.on("hide",function(t){t.control===r&&e.removeClass("selected")})),r._parentMenu=e.parent(),r.addClass("menu-sub");var i=r.testMoveRel(e.getEl(),["tr-tl","br-bl","tl-tr","bl-br"]);r.moveRel(e.getEl(),i),i="menu-sub-"+i,r.removeClass(r._lastRel),r.addClass(i),r._lastRel=i,e.addClass("selected"),e.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.classPrefix,i=e.encode(e._text),s=e.settings.icon;return s&&e.parent().addClass("menu-has-icons"),s=r+"ico "+r+"i-"+(e.settings.icon||"none"),'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1">'+(i!=="-"?'<i class="'+s+'"></i>&nbsp;':"")+(i!=="-"?'<span id="'+t+'-text" class="'+r+'text">'+i+"</span>":"")+(n.shortcut?'<div id="'+t+'-shortcut" class="'+r+'menu-shortcut">'+n.shortcut+"</div>":"")+(n.menu?'<div class="'+r+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;typeof n=="function"&&(n=n());if(n){var r=e.getEl("text");r&&r.setAttribute("style",n)}return e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),i("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/KeyboardNavigation","tinymce/ui/MenuItem"],function(e,t,n){var r=e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"menu"},init:function(e){var r=this;e.autohide=!0,e.constrainToViewport=!0,r._super(e),r.addClass("menu"),r.keyNav=new t({root:r,enableUpDown:!0,enableLeftRight:!0,leftAction:function(){r.parent()instanceof n&&r.keyNav.cancel()},onCancel:function(){r.fire("cancel",{},!1),r.hide()}})},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("cancel"),e.fire("select")},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.selectable)return e._hasIcons=!0,!1}),e._super()}});return r}),i("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),i("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.addClass("resizehandle"),e.settings.direction=="both"&&e.addClass("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes()+'">'+'<i class="'+t+"ico "+t+'i-resize"></i>'+"</div>"},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){e.settings.direction!="both"&&(t.deltaX=0),e.fire("Resize",t)},end:function(){e.fire("ResizeEnd")}})}})}),i("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.addClass("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes()+'"></div>'}})}),i("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/dom/DOMUtils"],function(e,t){var n=t.DOM;return e.extend({Defaults:{classes:"widget btn splitbtn",role:"splitbutton"},repaint:function(){var e=this,t=e.getEl(),r=e.layoutRect(),i,s,o;return e._super(),i=t.firstChild,s=t.lastChild,n.css(i,{width:r.w-s.offsetWidth,height:r.h-2}),n.css(s,{height:r.h-2}),o=i.firstChild.style,o.width=o.height="100%",o=s.firstChild.style,o.width=o.height="100%",e},activeMenu:function(e){var t=this;n.toggleClass(t.getEl().lastChild,t.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"";return'<div id="'+t+'" class="'+e.classes()+'">'+'<button type="button" hidefocus tabindex="-1">'+(r?'<i class="'+r+'"></i>':"")+(e._text?(r?" ":"")+e._text:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus tabindex="-1">'+(e._menuBtnText?(r?" ":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){e.control==this&&!n.getParent(e.target,"."+this.classPrefix+"open")&&(e.stopImmediatePropagation(),t.call(this,e))}),delete e.settings.onclick,e._super()}})}),i("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),i("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(e,t){"use stict";return e.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){this.activeTabId&&t.removeClass(this.getEl(this.activeTabId),this.classPrefix+"active"),this.activeTabId="t"+e,t.addClass(this.getEl("t"+e),this.classPrefix+"active"),e!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=e),this.items()[e].show().fire("showtab"),this.reflow()},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,i){n+='<div id="'+e._id+"-t"+i+'" class="'+r+'tab" unselectable="on">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+'<div id="'+e._id+'-head" class="'+r+'tabs">'+n+"</div>"+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>"+"</div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+"-head"){var r=n.childNodes.length;while(r--)n.childNodes[r]==t.target&&e.activateTab(r)}})},initLayoutRect:function(){var e=this,t,n,r;n=r=0,e.items().each(function(t,i){n=Math.max(n,t.layoutRect().minW),r=Math.max(r,t.layoutRect().minH),e.settings.activeTab!=i&&t.hide()}),e.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=n,e.settings.h=r,e.layoutRect({x:0,y:0,w:n,h:r})});var i=e.getEl("head").offsetHeight;return e.settings.minWidth=n,e.settings.minHeight=r+i,t=e._super(),t.deltaH+=e.getEl("head").offsetHeight,t.innerH=t.h-t.deltaH,t}})}),i("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t._value=e.value||"",t.addClass("textbox"),e.multiline?t.addClass("multiline"):t.on("keydown",function(e){e.keyCode==13&&t.parents().reverse().each(function(t){e.preventDefault();if(t.submit)return t.submit(),!1})})},value:function(e){var t=this;return typeof e!="undefined"?(t._value=e,t._rendered&&(t.getEl().value=e),t):t._rendered?t.getEl().value:t._value},repaint:function(){var e=this,t,n,r,i=0,s=0,o;t=e.getEl().style,n=e._layoutRect,o=e._lastRepaintRect||{};var u=document;return!e.settings.multiline&&u.all&&(!u.documentMode||u.documentMode<=8)&&(t.lineHeight=n.h-s+"px"),r=e._borderBox,i=r.left+r.right+8,s=r.top+r.bottom+(e.settings.multiline?8:0),n.x!==o.x&&(t.left=n.x+"px",o.x=n.x),n.y!==o.y&&(t.top=n.y+"px",o.y=n.y),n.w!==o.w&&(t.width=n.w-i+"px",o.w=n.w),n.h!==o.h&&(t.height=n.h-s+"px",o.h=n.h),e._lastRepaintRect=o,e.fire("repaint",{},!1),e},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.encode(e._value,!1),i="";return"spellcheck"in n&&(i+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(i+=' maxlength="'+n.maxLength+'"'),n.size&&(i+=' size="'+n.size+'"'),n.subtype&&(i+=' type="'+n.subtype+'"'),n.multiline?'<textarea id="'+t+'" class="'+e.classes()+'" '+(n.rows?' rows="'+n.rows+'"':"")+' hidefocus="true"'+i+">"+r+"</textarea>":'<input id="'+t+'" class="'+e.classes()+'" value="'+r+'" hidefocus="true"'+i+">"},postRender:function(){var e=this;return t.on(e.getEl(),"change",function(t){e.fire("change",t)}),e._super()}})}),i("tinymce/ui/Throbber",["tinymce/ui/DomUtils"],function(e){return function(t){var n=this,r;n.show=function(i){return n.hide(),r=!0,window.setTimeout(function(){r&&t.appendChild(e.createFragment('<div class="mce-throbber"></div>'))},i||0),n},n.hide=function(){var e=t.lastChild;return e&&e.className.indexOf("throbber")!=-1&&e.parentNode.removeChild(e),r=!1,n}}}),u(["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/util/Tools","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/dom/TridentSelection","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/Selection","tinymce/dom/RangeUtils","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/KeyboardNavigation","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/util/Quirks","tinymce/util/Observable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/LegacyInput","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/ui/ComboBox","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/ListBox","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])}(this);